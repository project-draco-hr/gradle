{
  if (listener instanceof ClosureListener) {
    ClosureListener closureListener=(ClosureListener)listener;
    if (broadcaster.getType().isAssignableFrom(closureListener.listenerType)) {
      broadcaster.add(closureListener.method,closureListener.closure);
    }
  }
 else {
    broadcaster.maybeAdd(listener);
  }
}
