{
  DetachedConfigurationsProvider detachedConfigurationsProvider=new DetachedConfigurationsProvider();
  DefaultConfiguration detachedConfiguration=new DefaultConfiguration(DETACHED_CONFIGURATION_DEFAULT_NAME + detachedConfigurationDefaultNameCounter++,detachedConfigurationsProvider,ivyService,resolverProvider,projectDependenciesBuildInstruction);
  for (  Dependency dependency : dependencies) {
    detachedConfiguration.addDependency(dependency.copy());
  }
  detachedConfigurationsProvider.setTheOnlyConfiguration(detachedConfiguration);
  return detachedConfiguration;
}
