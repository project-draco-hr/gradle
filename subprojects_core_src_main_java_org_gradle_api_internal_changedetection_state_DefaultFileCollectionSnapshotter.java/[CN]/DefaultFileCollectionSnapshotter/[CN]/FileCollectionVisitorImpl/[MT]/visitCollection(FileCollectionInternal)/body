{
  for (  File file : fileCollection) {
    if (file.isFile()) {
      fileTreeElements.add(new DefaultFileVisitDetails(file,fileSystem,fileSystem));
    }
 else     if (file.isDirectory()) {
      visitTree(new FileTreeAdapter(new DirectoryFileTree(file,patternSetFactory.create())));
    }
 else {
      missingFiles.add(new MissingFileVisitDetails(file));
    }
  }
}
