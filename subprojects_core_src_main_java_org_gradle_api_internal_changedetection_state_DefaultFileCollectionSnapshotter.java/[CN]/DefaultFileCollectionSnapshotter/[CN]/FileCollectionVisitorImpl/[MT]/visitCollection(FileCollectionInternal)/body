{
  for (  File file : fileCollection) {
    if (file.isFile()) {
      fileTreeElements.add(new SingletonFileTree.SingletonFileVisitDetails(file,fileSystem,false));
    }
 else     if (file.isDirectory()) {
      fileTreeElements.add(new SingletonFileTree.SingletonFileVisitDetails(file,fileSystem,true));
      visitDirectoryTree(new DirectoryFileTree(file,patternSetFactory.create()));
    }
 else {
      missingFiles.add(new MissingFileVisitDetails(file));
    }
  }
}
