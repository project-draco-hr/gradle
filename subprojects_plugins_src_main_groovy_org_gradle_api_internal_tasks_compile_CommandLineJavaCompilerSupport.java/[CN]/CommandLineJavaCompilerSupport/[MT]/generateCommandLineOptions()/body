{
  List<String> options=new ArrayList<String>();
  if (sourceCompatibility != null) {
    options.add("-source");
    options.add(sourceCompatibility);
  }
  if (targetCompatibility != null) {
    options.add("-target");
    options.add(targetCompatibility);
  }
  if (destinationDir != null) {
    options.add("-d");
    options.add(destinationDir.getPath());
  }
  if (compileOptions.isVerbose()) {
    options.add("-verbose");
  }
  if (!compileOptions.isWarnings()) {
    options.add("-nowarn");
  }
  if (!compileOptions.isDebug()) {
    options.add("-g:none");
  }
  if (compileOptions.getEncoding() != null) {
    options.add("-encoding");
    options.add(compileOptions.getEncoding());
  }
  if (classpath != null && classpath.iterator().hasNext()) {
    options.add("-classpath");
    options.add(toFileCollection(classpath).getAsPath());
  }
  if (compileOptions.getCompilerArgs() != null) {
    options.addAll(compileOptions.getCompilerArgs());
  }
  if (source != null) {
    for (    File file : source) {
      options.add(file.getPath());
    }
  }
  return options;
}
