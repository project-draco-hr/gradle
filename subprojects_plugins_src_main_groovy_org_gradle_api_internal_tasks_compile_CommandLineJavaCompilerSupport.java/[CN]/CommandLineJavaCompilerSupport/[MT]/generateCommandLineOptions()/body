{
  List<String> options=new ArrayList<String>();
  if (sourceCompatibility != null) {
    options.add("-source");
    options.add(sourceCompatibility);
  }
  if (targetCompatibility != null) {
    options.add("-target");
    options.add(targetCompatibility);
  }
  if (destinationDir != null) {
    options.add("-d");
    options.add(destinationDir.getPath());
  }
  if (compileOptions.isVerbose()) {
    options.add("-verbose");
  }
  if (!compileOptions.isWarnings()) {
    options.add("-nowarn");
  }
  if (!compileOptions.isDebug()) {
    options.add("g:none");
  }
  if (compileOptions.getEncoding() != null) {
    options.add("-encoding");
    options.add(compileOptions.getEncoding());
  }
  if (compileOptions.getCompilerArgs() != null) {
    for (    String arg : compileOptions.getCompilerArgs()) {
      options.add(arg);
    }
  }
  if (classpath != null && classpath.iterator().hasNext()) {
    options.add("-cp");
    options.add(toFileCollection(classpath).getAsPath());
  }
  for (  File file : source) {
    options.add(file.getPath());
  }
  return options;
}
