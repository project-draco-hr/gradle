{
  GradleLauncherFactory gradleLauncherFactory=sharedServices.get(GradleLauncherFactory.class);
  CompositeBuildContext context=sharedServices.get(CompositeBuildContext.class);
  CompositeContextBuildActionRunner contextBuilder=new CompositeContextBuildActionRunner(context,propagateFailures);
  for (  IncludedBuild build : includedBuilds) {
    StartParameter includedBuildStartParam=buildStartParam.newBuild();
    includedBuildStartParam.setProjectDir(build.getProjectDir());
    includedBuildStartParam.setSearchUpwards(false);
    includedBuildStartParam.setConfigureOnDemand(false);
    LOGGER.lifecycle("[composite-build] Configuring build: " + build.getProjectDir());
    GradleLauncher gradleLauncher=createGradleLauncher(includedBuildStartParam,requestContext,gradleLauncherFactory);
    contextBuilder.run(new GradleBuildController(gradleLauncher));
  }
}
