{
  File buildFile=new File(rootDir,"build.gradle");
  FileUtils.writeStringToFile(buildFile,"build");
  ProjectDescriptor descriptor=descriptor("somename",rootDir,buildFile,"build.gradle");
  DefaultProject project=projectFactory.createProject(descriptor,null,gradle);
  assertEquals("somename",project.getName());
  assertEquals(buildFile,project.getBuildFile());
  assertNull(project.getParent());
  assertSame(rootDir,project.getRootDir());
  assertSame(rootDir,project.getProjectDir());
  assertSame(project,project.getRootProject());
  checkProjectResources(project);
  assertThat(project.getBuildScriptSource(),instanceOf(UriScriptSource.class));
  assertThat(project.getBuildScriptSource().getDisplayName(),startsWith("build file "));
  assertThat(project.getBuildScriptSource().getResource().getFile(),equalTo(buildFile));
}
