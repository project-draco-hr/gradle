{
  context.checking(new Expectations(){
{
      allowing(dependencyMetaDataProviderMock).getModule();
      will(returnValue(moduleDummy));
      allowing(settingsConverterStub).convertForPublish(publishResolversDummy);
      will(returnValue(ivySettingsDummy));
      allowing(setUpIvyFactory(ivySettingsDummy)).getPublishEngine();
      will(returnValue(publishEngineDummy));
      allowing(publishModuleDescriptorConverter).convert(configurations,moduleDummy,ivySettingsDummy);
      will(returnValue(publishModuleDescriptorDummy));
      allowing(fileModuleDescriptorConverter).convert(configurations,moduleDummy,ivySettingsDummy);
      will(returnValue(fileModuleDescriptorMock));
    }
  }
);
}
