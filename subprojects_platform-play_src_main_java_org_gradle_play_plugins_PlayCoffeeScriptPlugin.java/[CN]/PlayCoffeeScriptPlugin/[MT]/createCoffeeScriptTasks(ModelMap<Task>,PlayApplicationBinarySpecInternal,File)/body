{
  tasks.beforeEach(PlayCoffeeScriptCompile.class,new Action<PlayCoffeeScriptCompile>(){
    @Override public void execute(    PlayCoffeeScriptCompile coffeeScriptCompile){
      coffeeScriptCompile.setRhinoClasspathNotation(getDefaultRhinoDependencyNotation());
      coffeeScriptCompile.setCoffeeScriptJsNotation(getDefaultCoffeeScriptDependencyNotation());
    }
  }
);
  for (  final CoffeeScriptSourceSet coffeeScriptSourceSet : binary.getInputs().withType(CoffeeScriptSourceSet.class)) {
    if (((LanguageSourceSetInternal)coffeeScriptSourceSet).getMayHaveSources()) {
      final String compileTaskName=binary.getTasks().taskName("compile",coffeeScriptSourceSet.getName());
      tasks.create(compileTaskName,PlayCoffeeScriptCompile.class,new Action<PlayCoffeeScriptCompile>(){
        @Override public void execute(        PlayCoffeeScriptCompile coffeeScriptCompile){
          coffeeScriptCompile.setDescription("Compiles coffeescript for the " + coffeeScriptSourceSet.getDisplayName() + ".");
          File outputDirectory=outputDirectory(buildDir,binary,compileTaskName);
          coffeeScriptCompile.setDestinationDir(outputDirectory);
          coffeeScriptCompile.setSource(coffeeScriptSourceSet.getSource());
          JavaScriptSourceSet javaScriptSourceSet=binary.getGeneratedJavaScript().get(coffeeScriptSourceSet);
          javaScriptSourceSet.getSource().srcDir(outputDirectory);
          javaScriptSourceSet.builtBy(coffeeScriptCompile);
        }
      }
);
    }
  }
}
