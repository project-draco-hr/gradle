{
  final String minifyTaskName="minify" + capitalize(binary.getName()) + capitalize(coffeeScriptSourceSet.getName());
  tasks.create(minifyTaskName,JavaScriptMinify.class,new Action<JavaScriptMinify>(){
    @Override public void execute(    JavaScriptMinify javaScriptMinify){
      javaScriptMinify.dependsOn(compileTaskName);
      javaScriptMinify.setSource(outputDirectory(buildDir,binary,compileTaskName));
      javaScriptMinify.setPlayPlatform(binary.getTargetPlatform());
      File minifyOutputDirectory=outputDirectory(buildDir,binary,minifyTaskName);
      javaScriptMinify.setDestinationDir(minifyOutputDirectory);
      binary.getAssets().builtBy(javaScriptMinify);
      binary.getAssets().addAssetDir(minifyOutputDirectory);
    }
  }
);
}
