{
  components.withType(PlayApplicationSpec.class).all(new Action<PlayApplicationSpec>(){
    public void execute(    PlayApplicationSpec playComponent){
      CoffeeScriptSourceSet coffeeScriptSourceSet=new DefaultCoffeeScriptSourceSet("coffeeScriptSources",playComponent.getName(),serviceRegistry.get(FileResolver.class));
      coffeeScriptSourceSet.getSource().srcDir("app");
      coffeeScriptSourceSet.getSource().include("**/*.coffee");
      ((ComponentSpecInternal)playComponent).getSources().add(coffeeScriptSourceSet);
      ((ComponentSpecInternal)playComponent).getSources().add(((CoffeeScriptSourceSetInternal)coffeeScriptSourceSet).getOutputSourceSet());
    }
  }
);
}
