{
  for (  PlayApplicationSpec playComponent : components.withType(PlayApplicationSpec.class)) {
    CoffeeScriptSourceSet coffeeScriptSourceSet=new DefaultCoffeeScriptSourceSet("coffeeScriptSources",playComponent.getName(),serviceRegistry.get(FileResolver.class));
    coffeeScriptSourceSet.getSource().srcDir("app");
    coffeeScriptSourceSet.getSource().include("**/*.coffee");
    JavaScriptSourceSet javaScriptSourceSet=new DefaultJavaScriptSourceSet(COFFEE_SCRIPT_GENERATED,playComponent.getName(),serviceRegistry.get(FileResolver.class));
    javaScriptSourceSet.builtBy(coffeeScriptSourceSet);
    javaScriptSourceSet.getSource().include("**/*.js");
    ((ComponentSpecInternal)playComponent).getSources().add(coffeeScriptSourceSet);
    ((ComponentSpecInternal)playComponent).getSources().add(javaScriptSourceSet);
  }
}
