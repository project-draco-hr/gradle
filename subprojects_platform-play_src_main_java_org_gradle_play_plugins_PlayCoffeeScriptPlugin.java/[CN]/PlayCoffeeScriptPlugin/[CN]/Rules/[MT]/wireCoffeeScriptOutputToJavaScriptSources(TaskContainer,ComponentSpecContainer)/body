{
  components.withType(PlayApplicationSpec.class).all(new Action<PlayApplicationSpec>(){
    public void execute(    PlayApplicationSpec playApplicationSpec){
      final LanguageSourceSet javaScriptSourceSet=playApplicationSpec.getSource().matching(new Spec<LanguageSourceSet>(){
        public boolean isSatisfiedBy(        LanguageSourceSet element){
          return "coffeeScriptGenerated".equals(element.getName());
        }
      }
).iterator().next();
      if (javaScriptSourceSet != null) {
        playApplicationSpec.getBinaries().all(new Action<BinarySpec>(){
          public void execute(          BinarySpec binarySpec){
            binarySpec.getTasks().withType(PlayCoffeeScriptCompile.class).all(new Action<PlayCoffeeScriptCompile>(){
              public void execute(              PlayCoffeeScriptCompile playCoffeeScriptCompile){
                javaScriptSourceSet.getSource().srcDir(playCoffeeScriptCompile.getOutputDirectory());
                javaScriptSourceSet.builtBy(playCoffeeScriptCompile);
              }
            }
);
          }
        }
);
      }
    }
  }
);
}
