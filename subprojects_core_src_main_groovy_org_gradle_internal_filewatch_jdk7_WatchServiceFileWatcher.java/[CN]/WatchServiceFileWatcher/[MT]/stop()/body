{
  if (runningFlag.compareAndSet(true,false)) {
    try {
      watchService.close();
    }
 catch (    IOException e) {
    }
    try {
      stopLatch.await(STOP_TIMEOUT_SECONDS,TimeUnit.SECONDS);
    }
 catch (    InterruptedException e) {
    }
  }
}
