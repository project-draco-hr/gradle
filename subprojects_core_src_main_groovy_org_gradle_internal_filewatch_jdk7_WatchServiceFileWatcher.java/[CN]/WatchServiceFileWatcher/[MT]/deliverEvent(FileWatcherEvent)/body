{
  handleNewDirectory(event);
  FileWatcherEventResult result=listener.onChange(event);
  if (result instanceof TerminateFileWatcherEventResult) {
    stopRunning();
    Runnable terminateAction=((TerminateFileWatcherEventResult)result).getOnTerminateAction();
    if (terminateAction != null) {
      terminateAction.run();
    }
  }
}
