{
  this.listener=listener;
  this.watchService=FileSystems.getDefault().newWatchService();
  registrar=new WatchServiceRegistrar(watchService);
  for (  File root : roots) {
    registrar.registerRoot(root.toPath());
  }
  poller=new WatchServicePoller(watchService);
}
