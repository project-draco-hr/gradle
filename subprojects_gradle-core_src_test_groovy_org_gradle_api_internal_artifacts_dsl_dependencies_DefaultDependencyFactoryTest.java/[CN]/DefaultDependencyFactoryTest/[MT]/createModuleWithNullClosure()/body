{
  final IDependencyImplementationFactory testImplStringFactoryStub=context.mock(IDependencyImplementationFactory.class,"String");
  final IDependencyImplementationFactory clientModuleFactoryStub=context.mock(IDependencyImplementationFactory.class);
  final ClientModule clientModuleMock=context.mock(ClientModule.class);
  DefaultDependencyFactory dependencyFactory=new DefaultDependencyFactory(WrapUtil.toSet(testImplStringFactoryStub),clientModuleFactoryStub,null);
  final String someModuleNotation="junit:junit:4.4";
  context.checking(new Expectations(){
{
      allowing(clientModuleFactoryStub).createDependency(ClientModule.class,someModuleNotation);
      will(returnValue(clientModuleMock));
    }
  }
);
  assertThat(dependencyFactory.createModule(someModuleNotation,null),equalTo(clientModuleMock));
}
