{
  URI location;
  try {
    location=targetClass.getProtectionDomain().getCodeSource().getLocation().toURI();
  }
 catch (  URISyntaxException e) {
    throw UncheckedException.asUncheckedException(e);
  }
  if (!location.getScheme().equals("file")) {
    throw new GradleException(String.format("Cannot determine classpath for %s from codebase '%s'.",targetClass.getName(),location));
  }
  return new File(location.getPath());
}
