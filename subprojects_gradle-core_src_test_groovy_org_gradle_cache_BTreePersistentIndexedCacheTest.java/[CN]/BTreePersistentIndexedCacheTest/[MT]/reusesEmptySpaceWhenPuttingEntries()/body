{
  BTreePersistentIndexedCache<String,String> cache=new BTreePersistentIndexedCache<String,String>(backingCache,new DefaultSerializer<String>(),(short)4);
  TestFile cacheFile=tmpDir.getDir().file("cache.bin");
  cache.put("key_1","abcd");
  long len=cacheFile.length();
  assertThat(len,greaterThan(0L));
  cache.put("key_1","1234");
  assertThat(cacheFile.length(),equalTo(len));
  cache.remove("key_1");
  cache.put("key_2","a1b2");
  assertThat(cacheFile.length(),equalTo(len));
  cache.put("key_2","longer value");
  assertThat(cacheFile.length(),greaterThan(len));
  len=cacheFile.length();
  cache.put("key_1","1234");
  assertThat(cacheFile.length(),equalTo(len));
}
