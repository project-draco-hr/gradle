{
  stopping=true;
  if (producers.isEmpty()) {
    LOGGER.debug("No producers. Stopping now.");
    allProducersFinished();
    return;
  }
  LOGGER.debug("Waiting for producers to finish. Stopping later. Producers: {}",producers);
  for (  Object producer : producers) {
    context.dispatchOutgoing(new ConsumerStopping(id,producer));
  }
}
