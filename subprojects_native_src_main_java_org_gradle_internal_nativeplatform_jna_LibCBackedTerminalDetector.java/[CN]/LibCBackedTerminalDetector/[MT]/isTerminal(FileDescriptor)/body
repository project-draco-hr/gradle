{
  int osFileDesc;
  try {
    Field fdField=FileDescriptor.class.getDeclaredField("fd");
    fdField.setAccessible(true);
    osFileDesc=fdField.getInt(fileDescriptor);
  }
 catch (  Exception e) {
    throw UncheckedException.asUncheckedException(e);
  }
  if (libC.isatty(osFileDesc) == 0) {
    return false;
  }
  String term=System.getenv("TERM");
  if (term != null && term.equals("dumb")) {
    return false;
  }
  return true;
}
