{
  try {
    generatePage(model,new OverviewPageRenderer(),new File(reportDir,"index.html"));
    for (    PackageTestResults packageResults : model.getPackages()) {
      generatePage(packageResults,new PackagePageRenderer(),new File(reportDir,packageResults.getName() + ".html"));
      for (      ClassTestResults classResults : packageResults.getClasses()) {
        generatePage(classResults,new ClassPageRenderer(classResults.getId(),resultsProvider),new File(reportDir,GFileUtils.toSafeFileName(classResults.getName()) + ".html"));
      }
    }
  }
 catch (  Exception e) {
    throw new GradleException(String.format("Could not generate test report to '%s'.",reportDir),e);
  }
}
