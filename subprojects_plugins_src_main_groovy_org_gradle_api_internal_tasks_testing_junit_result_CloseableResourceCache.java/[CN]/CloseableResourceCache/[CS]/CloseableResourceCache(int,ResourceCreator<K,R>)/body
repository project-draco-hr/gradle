{
  this.resourceCreator=resourceCreator;
  this.cache=new LinkedHashMap<K,R>(cacheSize,1){
    @Override protected boolean removeEldestEntry(    Map.Entry<K,R> eldest){
      if (size() > cacheSize) {
        close(eldest.getKey(),eldest.getValue());
        return true;
      }
      return false;
    }
  }
;
}
