{
  if (method.equals(equalsMethod)) {
    Object param=params[0];
    if (param == null || !Proxy.isProxyClass(param.getClass())) {
      return false;
    }
    InvocationHandler other=Proxy.getInvocationHandler(param);
    return equals(other);
  }
 else   if (method.equals(hashCodeMethod)) {
    return hashCode();
  }
  if ((method.getName().matches("get\\w+") || method.getName().matches("is\\w+")) && method.getParameterTypes().length == 0) {
    if (properties.containsKey(method.getName())) {
      return properties.get(method.getName());
    }
    Object value;
    if (modelPropertyHandler.shouldHandle(method,delegate)) {
      value=modelPropertyHandler.getPropertyValue(method,delegate);
    }
 else {
      value=getPropertyValue(method);
    }
    properties.put(method.getName(),value);
    return value;
  }
  if (method.getName().matches("get\\w+") && method.getParameterTypes().length == 1) {
    Method getter=wrapperType.getMethod(method.getName());
    if (findMethod(getter) == null) {
      return params[0];
    }
    return invoke(target,getter,EMPTY);
  }
  return doInvokeMethod(method,params);
}
