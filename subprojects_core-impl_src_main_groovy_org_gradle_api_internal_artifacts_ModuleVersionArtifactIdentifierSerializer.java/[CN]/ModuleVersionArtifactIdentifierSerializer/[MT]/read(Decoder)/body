{
  ComponentIdentifier componentIdentifier=componentIdentifierSerializer.read(decoder);
  ModuleVersionIdentifier moduleVersionIdentifier=modIdSerializer.read(decoder);
  String artifactName=decoder.readString();
  String type=decoder.readString();
  String extension=decoder.readNullableString();
  int attrCount=decoder.readSmallInt();
  Map<String,String> attributes;
  if (attrCount == 0) {
    attributes=Collections.emptyMap();
  }
 else {
    attributes=new HashMap<String,String>(attrCount);
    for (int i=0; i < attrCount; i++) {
      String key=decoder.readString();
      String value=decoder.readString();
      attributes.put(key,value);
    }
  }
  return new DefaultModuleVersionArtifactIdentifier((ModuleComponentIdentifier)componentIdentifier,moduleVersionIdentifier,artifactName,type,extension,attributes);
}
