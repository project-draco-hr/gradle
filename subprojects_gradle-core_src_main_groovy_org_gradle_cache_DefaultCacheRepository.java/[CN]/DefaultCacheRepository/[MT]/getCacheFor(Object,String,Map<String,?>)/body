{
  if (target instanceof Gradle) {
    Gradle gradle=(Gradle)target;
    File buildTmpDir=new File(gradle.getRootProject().getProjectDir(),Project.TMP_DIR_NAME);
    File cacheDir=new File(buildTmpDir,String.format("%s/%s",version.getVersion(),key));
    return new DefaultPersistentCache(cacheDir,cacheUsage,properties);
  }
  throw new IllegalArgumentException(String.format("Cannot create cache for domain object %s.",target));
}
