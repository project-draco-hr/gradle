{
  if (target instanceof Gradle) {
    Gradle gradle=(Gradle)target;
    File buildTmpDir=new File(gradle.getRootProject().getProjectDir(),Project.TMP_DIR_NAME);
    File cacheDir=new File(buildTmpDir,key);
    return new DefaultPersistentCache(cacheDir,cacheUsage,addVersion(properties));
  }
  throw new IllegalArgumentException(String.format("Cannot create cache for domain object %s.",target));
}
