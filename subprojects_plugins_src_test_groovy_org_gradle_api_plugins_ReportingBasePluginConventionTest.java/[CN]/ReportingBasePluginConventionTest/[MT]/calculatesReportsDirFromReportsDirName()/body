{
  context.checking(new Expectations(){
{
      FileResolver fileResolver=context.mock(FileResolver.class);
      FileResolver buildDirResolver=context.mock(FileResolver.class,"buildDir");
      allowing(project).getFileResolver();
      will(returnValue(fileResolver));
      one(fileResolver).withBaseDir(buildDir);
      will(returnValue(buildDirResolver));
      one(buildDirResolver).resolve("new-reports");
      will(returnValue(new File(buildDir,"new-reports")));
    }
  }
);
  convention.setReportsDirName("new-reports");
  assertThat(convention.getReportsDir(),equalTo(new File(buildDir,"new-reports")));
}
