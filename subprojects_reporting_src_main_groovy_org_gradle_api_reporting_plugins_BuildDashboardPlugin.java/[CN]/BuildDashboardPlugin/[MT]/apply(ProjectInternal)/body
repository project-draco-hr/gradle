{
  project.getPlugins().apply(ReportingBasePlugin.class);
  GenerateBuildDashboard buildDashboardTask=project.getTasks().add(BUILD_DASHBOARD_TASK_NAME,GenerateBuildDashboard.class);
  Set<Project> currentAndSubprojects=new LinkedHashSet<Project>(project.getSubprojects());
  currentAndSubprojects.add(project);
  for (  Project p : currentAndSubprojects) {
    aggregateReportings(p,buildDashboardTask);
  }
  addReportDestinationConventionMapping(project,buildDashboardTask.getReports().getHtml());
}
