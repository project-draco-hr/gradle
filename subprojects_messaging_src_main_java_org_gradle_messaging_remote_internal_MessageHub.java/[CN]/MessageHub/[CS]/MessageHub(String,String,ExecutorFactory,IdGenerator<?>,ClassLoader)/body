{
  this.displayName=displayName;
  this.nodeName=nodeName;
  this.executorFactory=executorFactory;
  this.idGenerator=idGenerator;
  this.messagingClassLoader=messagingClassLoader;
  failureHandler=new DiscardingFailureHandler<Object>(LoggerFactory.getLogger(MessageHub.class));
  StoppableExecutor executor=executorFactory.create(displayName + " message router");
  executors.add(executor);
  router=new Router(executor,failureHandler);
  incomingExecutor=executorFactory.create(displayName + " worker");
  executors.add(incomingExecutor);
}
