{
  final Class<?> thisClass=getClass();
  final Map<String,Object> map=Maps.newHashMap();
  Class<?> currClass=thisClass;
  if (currClass.getName().endsWith("_Decorated")) {
    currClass=currClass.getSuperclass();
  }
  while (currClass != AbstractOptions.class) {
    for (    final Field field : currClass.getDeclaredFields()) {
      if (isOptionField(field)) {
        DeprecationLogger.whileDisabled(new Runnable(){
          @Override public void run(){
            addValueToMapIfNotNull(map,field);
          }
        }
);
      }
    }
    currClass=currClass.getSuperclass();
  }
  return map;
}
