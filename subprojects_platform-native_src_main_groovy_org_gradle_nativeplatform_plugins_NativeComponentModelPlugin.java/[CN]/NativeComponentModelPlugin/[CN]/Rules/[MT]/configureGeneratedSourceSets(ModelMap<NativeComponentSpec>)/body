{
  componentSpecs.afterEach(new Action<NativeComponentSpec>(){
    @Override public void execute(    NativeComponentSpec componentSpec){
      componentSpec.getSources().withType(LanguageSourceSetInternal.class).afterEach(new Action<LanguageSourceSetInternal>(){
        @Override public void execute(        LanguageSourceSetInternal languageSourceSet){
          Task generatorTask=languageSourceSet.getGeneratorTask();
          if (generatorTask != null) {
            languageSourceSet.builtBy(generatorTask);
            maybeSetSourceDir(languageSourceSet.getSource(),generatorTask,"sourceDir");
            if (languageSourceSet instanceof HeaderExportingSourceSet) {
              maybeSetSourceDir(((HeaderExportingSourceSet)languageSourceSet).getExportedHeaders(),generatorTask,"headerDir");
            }
          }
        }
      }
);
    }
  }
);
}
