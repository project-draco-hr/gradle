{
  componentSpecs.afterEach(new Action<NativeComponentSpec>(){
    @Override public void execute(    NativeComponentSpec componentSpec){
      for (      LanguageSourceSetInternal languageSourceSet : componentSpec.getSource().withType(LanguageSourceSetInternal.class).values()) {
        Task generatorTask=languageSourceSet.getGeneratorTask();
        if (generatorTask != null) {
          languageSourceSet.builtBy(generatorTask);
          maybeSetSourceDir(languageSourceSet.getSource(),generatorTask,"sourceDir");
          if (languageSourceSet instanceof HeaderExportingSourceSet) {
            maybeSetSourceDir(((HeaderExportingSourceSet)languageSourceSet).getExportedHeaders(),generatorTask,"headerDir");
          }
        }
      }
    }
  }
);
}
