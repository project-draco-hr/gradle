{
  componentSpecs.afterEach(new Action<ComponentSpec>(){
    @Override public void execute(    ComponentSpec componentSpec){
      for (      DependentSourceSet dependentSourceSet : componentSpec.getSource().withType(DependentSourceSet.class)) {
        if (CollectionUtils.isNotEmpty(dependentSourceSet.getPreCompiledHeaders())) {
          String prefixHeaderDirName=String.format("tmp/%s/prefixHeaders",dependentSourceSet.getName());
          File prefixHeaderDir=new File(buildDir,prefixHeaderDirName);
          final File prefixHeaderFile=new File(prefixHeaderDir,"prefix-headers.h");
          dependentSourceSet.setPrefixHeaderFile(prefixHeaderFile);
        }
      }
    }
  }
);
}
