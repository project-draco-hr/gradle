{
  componentSpecs.afterEach(new Action<NativeComponentSpec>(){
    @Override public void execute(    NativeComponentSpec componentSpec){
      ModelMap<HeaderExportingSourceSet> headerSourceSets=componentSpec.getSource().withType(HeaderExportingSourceSet.class);
      for (      HeaderExportingSourceSet headerSourceSet : headerSourceSets.values()) {
        if (headerSourceSet.getExportedHeaders().getSrcDirs().isEmpty()) {
          headerSourceSet.getExportedHeaders().srcDir(String.format("src/%s/headers",componentSpec.getName()));
        }
        headerSourceSet.getImplicitHeaders().setSrcDirs(headerSourceSet.getSource().getSrcDirs());
        headerSourceSet.getImplicitHeaders().include("**/*.h");
      }
    }
  }
);
}
