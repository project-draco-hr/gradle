{
  return new Runnable(){
    public void run(){
      lock.lock();
      if (completed) {
        return;
      }
      try {
        condition.await(timeoutMillis,TimeUnit.MILLISECONDS);
        if (!completed) {
          onTimeout.run();
        }
      }
 catch (      InterruptedException e) {
      }
 finally {
        lock.unlock();
      }
    }
  }
;
}
