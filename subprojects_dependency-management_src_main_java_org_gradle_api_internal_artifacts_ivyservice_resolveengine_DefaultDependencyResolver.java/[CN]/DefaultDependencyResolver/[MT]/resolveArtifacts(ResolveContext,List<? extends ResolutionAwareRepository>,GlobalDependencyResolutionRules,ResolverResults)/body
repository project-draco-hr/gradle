{
  ResolvedGraphResults graphResults=results.getGraphResults();
  ResolvedArtifactResults artifactResults=results.getArtifactsBuilder().resolve();
  if (resolveContext instanceof Configuration) {
    Factory<TransientConfigurationResults> transientConfigurationResultsFactory=new TransientConfigurationResultsLoader(results.getTransientConfigurationResultsBuilder(),graphResults,artifactResults);
    DefaultLenientConfiguration result=new DefaultLenientConfiguration((Configuration)resolveContext,cacheLockingManager,graphResults,artifactResults,transientConfigurationResultsFactory);
    results.withResolvedConfiguration(new DefaultResolvedConfiguration(result));
  }
 else {
    results.getResolutionResult().allComponents(new Action<ResolvedComponentResult>(){
      @Override public void execute(      ResolvedComponentResult resolvedComponentResult){
      }
    }
);
  }
}
