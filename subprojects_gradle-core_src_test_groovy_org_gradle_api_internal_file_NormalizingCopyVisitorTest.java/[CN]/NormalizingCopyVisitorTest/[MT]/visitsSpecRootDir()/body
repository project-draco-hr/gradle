{
  final ReadableCopySpec spec=context.mock(ReadableCopySpec.class);
  context.checking(new Expectations(){
{
      allowing(spec).getDestPath();
      will(returnValue(RelativePath.parse(false,"a/b")));
      one(delegate).visitDir(with(hasPath("a")));
      one(delegate).visitDir(with(hasPath("a/b")));
      one(delegate).visitSpec(spec);
    }
  }
);
  visitor.visitSpec(spec);
}
