{
  final FileCopyDetails details=file("dir");
  final FileCopyDetails file=file("dir/file");
  allowGetIncludeEmptyDirs();
  context.checking(new Expectations(){
{
      one(delegate).visitSpec(spec);
      one(delegate).visitDir(details);
      one(delegate).visitFile(file);
    }
  }
);
  visitor.visitSpec(spec);
  visitor.visitDir(details);
  visitor.visitFile(file);
  visitor.visitDir(details);
}
