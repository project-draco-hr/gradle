{
  final FileCopyDetailsInternal dir1=file("a/b/c",true);
  final FileCopyDetailsInternal file1=file("a/b/c/file",false);
  allowGetIncludeEmptyDirs();
  context.checking(new Expectations(){
{
      one(delegate).visit(with(hasPath("a")));
      one(delegate).visit(with(hasPath("a/b")));
      one(delegate).visit(dir1);
      one(delegate).visit(file1);
    }
  }
);
  visitor.visit(dir1);
  visitor.visit(file1);
  final FileCopyDetailsInternal dir2=file("a/b/d/e",true);
  final FileCopyDetailsInternal file2=file("a/b/d/e/file",false);
  context.checking(new Expectations(){
{
      one(delegate).visit(with(hasPath("a/b/d")));
      one(delegate).visit(dir2);
      one(delegate).visit(file2);
    }
  }
);
  visitor.visit(dir2);
  visitor.visit(file2);
}
