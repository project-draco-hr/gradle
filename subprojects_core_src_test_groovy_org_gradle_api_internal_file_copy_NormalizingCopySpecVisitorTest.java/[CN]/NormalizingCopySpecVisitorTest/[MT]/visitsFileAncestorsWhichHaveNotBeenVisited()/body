{
  final FileCopyDetailsInternal details=file("a/b/c",false);
  allowGetIncludeEmptyDirs();
  context.checking(new Expectations(){
{
      one(delegateAction).execute(with(hasPath("a")));
      one(delegateAction).execute(with(hasPath("a/b")));
      one(delegateAction).execute(details);
    }
  }
);
  visit(visitor,details);
}
