{
  final FileCopyDetails details=file("a/b/c");
  allowGetIncludeEmptyDirs();
  context.checking(new Expectations(){
{
      one(delegate).visitSpec(spec);
      one(delegate).visit(with(hasPath("a")));
      one(delegate).visit(with(hasPath("a/b")));
      one(delegate).visit(details);
    }
  }
);
  visitor.visitSpec(spec);
  visitor.visit(details);
}
