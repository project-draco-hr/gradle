{
  if (watchStrategy instanceof FileTreeWatchStrategy) {
    return new ExtendedDirTreeWatchRegistry((FileTreeWatchStrategy)watchStrategy);
  }
 else {
    return new DirTreeWatchRegistry(watchStrategy);
  }
}
