{
  actionLock.lock();
  try {
    Action<Disconnection<T>> previous=disconnectAction;
    this.disconnectAction=disconnectAction;
    return previous;
  }
  finally {
    actionLock.unlock();
  }
}
