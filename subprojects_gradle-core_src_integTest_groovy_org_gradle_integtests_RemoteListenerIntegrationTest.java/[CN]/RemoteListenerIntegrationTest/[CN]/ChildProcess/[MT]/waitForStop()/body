{
  proc.waitForFinish();
  ExecHandleState result=proc.getState();
  if (!fails) {
    assertThat(result,equalTo(ExecHandleState.SUCCEEDED));
  }
 else {
    assertThat(result,not(equalTo(ExecHandleState.SUCCEEDED)));
  }
}
