{
  DependencyResolver dependencyResolver=repository.createPublisher();
  IvyPublicationIdentity projectIdentity=publication.getProjectIdentity();
  Map<String,String> extraAttributes=Collections.emptyMap();
  ModuleRevisionId moduleRevisionId=IvyUtil.createModuleRevisionId(projectIdentity.getOrganisation(),projectIdentity.getModule(),projectIdentity.getRevision(),extraAttributes);
  try {
    for (    IvyArtifact publishArtifact : publication.getArtifacts()) {
      Artifact ivyArtifact=createIvyArtifact(publishArtifact,moduleRevisionId);
      dependencyResolver.publish(ivyArtifact,publishArtifact.getFile(),true);
    }
    Artifact artifact=DefaultArtifact.newIvyArtifact(moduleRevisionId,null);
    dependencyResolver.publish(artifact,publication.getDescriptorFile(),true);
  }
 catch (  IOException e) {
    throw new UncheckedIOException(e);
  }
}
