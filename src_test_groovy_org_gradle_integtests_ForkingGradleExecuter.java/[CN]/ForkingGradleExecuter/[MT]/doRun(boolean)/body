{
  String windowsCmd;
  String unixCmd;
  if (command != null) {
    windowsCmd=command;
    unixCmd=String.format("%s/%s",workingDir.getAbsolutePath(),command);
  }
 else {
    windowsCmd="gradle";
    unixCmd=String.format("%s/bin/gradle",distribution.getGradleHomeDir().getAbsolutePath());
  }
  return Executer.executeInternal(windowsCmd,unixCmd,distribution.getGradleHomeDir().getAbsolutePath(),environmentVars,workingDir.getAbsolutePath(),GUtil.addLists(args,tasks),"",logLevel,expectFailure);
}
