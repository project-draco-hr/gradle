{
  fireBeforeTask(task);
  Throwable failure=null;
  try {
    ((TaskInternal)task).execute();
  }
 catch (  Throwable e) {
    failure=e;
  }
  fireAfterTask(task,failure);
  if (failure == null) {
    return;
  }
  if (failure instanceof RuntimeException) {
    throw (RuntimeException)failure;
  }
  throw new GradleException(String.format("Task %s failed with an exception.",task),failure);
}
