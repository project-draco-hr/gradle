{
  if (incrementalFileSnapshot instanceof DirSnapshot) {
    encoder.writeByte((byte)1);
  }
 else   if (incrementalFileSnapshot instanceof MissingFileSnapshot) {
    encoder.writeByte((byte)2);
  }
 else   if (incrementalFileSnapshot instanceof FileHashSnapshot) {
    encoder.writeByte((byte)3);
    hashValueSerializer.write(encoder,((FileHashSnapshot)incrementalFileSnapshot).hash);
  }
}
