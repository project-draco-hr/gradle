{
  Clock settingsProcessingClock=new Clock();
  Map<String,String> properties=propertiesLoader.mergeProperties(Collections.<String,String>emptyMap());
  SettingsInternal settings=settingsFactory.createSettings(gradle,settingsLocation.getSettingsDir(),settingsLocation.getSettingsScriptSource(),properties,startParameter,buildSourceClassLoader);
  applySettingsScript(settingsLocation,buildSourceClassLoader,settings);
  logger.debug("Timing: Processing settings took: {}",settingsProcessingClock.getTime());
  return settings;
}
