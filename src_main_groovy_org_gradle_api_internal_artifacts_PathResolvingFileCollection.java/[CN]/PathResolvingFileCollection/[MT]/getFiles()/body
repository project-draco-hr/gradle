{
  Set<File> result=new LinkedHashSet<File>();
  for (  Object element : files) {
    if (element instanceof Closure) {
      Closure closure=(Closure)element;
      Object closureResult=closure.call();
      if (closureResult instanceof Collection) {
        for (        Object nested : (Collection<?>)closureResult) {
          result.add(project.file(nested));
        }
      }
 else {
        result.add(project.file(closureResult));
      }
    }
 else     if (element instanceof FileCollection) {
      FileCollection fileCollection=(FileCollection)element;
      result.addAll(fileCollection.getFiles());
    }
 else {
      result.add(project.file(element));
    }
  }
  return result;
}
