{
  MavenPluginConvention pluginConvention=addConventionObject(project);
  setConventionMapping(project,pluginConvention);
  PluginContainer plugins=project.getPlugins();
  plugins.withType(JavaPlugin.class,new Action<JavaPlugin>(){
    public void execute(    JavaPlugin javaPlugin){
      configureJavaScopeMappings(project.getRepositories(),project.getConfigurations());
      configureInstall(project);
    }
  }
);
  plugins.withType(WarPlugin.class,new Action<WarPlugin>(){
    public void execute(    WarPlugin warPlugin){
      configureWarScopeMappings(project.getRepositories(),project.getConfigurations());
    }
  }
);
}
