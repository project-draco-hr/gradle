{
  startParameter.setLogLevel(LogLevel.INFO);
  prepareForExistingSettings();
  context.checking(new Expectations(){
{
      allowing(buildSourceBuilder).buildAndCreateClassLoader(with(aBuildSrcStartParameter(new File(settingsLocation.getSettingsDir(),BaseSettings.DEFAULT_BUILD_SRC_DIR),startParameter.getLogLevel())));
      will(returnValue(urlClassLoader));
    }
  }
);
  assertThat(settingsHandler.findAndLoadSettings(gradle,gradlePropertiesLoader),sameInstance(settings));
}
