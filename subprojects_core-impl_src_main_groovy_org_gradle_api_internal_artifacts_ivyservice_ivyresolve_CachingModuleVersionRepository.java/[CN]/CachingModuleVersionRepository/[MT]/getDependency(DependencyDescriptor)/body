{
  if (isLocal()) {
    final ModuleVersionDescriptor module=delegate.getDependency(dd);
    if (module != null) {
      moduleDescriptorCache.cacheModuleDescriptor(delegate,module.getId(),module.getDescriptor(),true);
      moduleResolutionCache.cacheModuleResolution(delegate,dd.getDependencyRevisionId(),module.getId());
    }
    return module;
  }
  return findModule(dd);
}
