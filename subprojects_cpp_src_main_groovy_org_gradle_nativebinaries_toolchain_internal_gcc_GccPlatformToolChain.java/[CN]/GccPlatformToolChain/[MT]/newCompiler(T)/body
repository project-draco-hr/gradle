{
  if (spec instanceof CppCompileSpec) {
    return (Compiler)createCppCompiler();
  }
  if (spec instanceof CCompileSpec) {
    return (Compiler)createCCompiler();
  }
  if (spec instanceof ObjectiveCppCompileSpec) {
    return (Compiler)createObjectiveCppCompiler();
  }
  if (spec instanceof ObjectiveCCompileSpec) {
    return (Compiler)createObjectiveCCompiler();
  }
  throw new IllegalArgumentException(String.format("Don't know how to compile from a spec of type %s.",spec.getClass().getSimpleName()));
}
