{
  docTask.source(srcDir);
  docTask.setDestinationDir(destDir);
  final FileCollection classpath=context.mock(FileCollection.class);
  context.checking(new Expectations(){
{
      allowing(classpath).getFiles();
      will(returnValue(new LinkedHashSet<File>(TEST_DEPENDENCY_MANAGER_CLASSPATH)));
    }
  }
);
  docTask.setClasspath(classpath);
  context.checking(new Expectations(){
{
      one(antScalaDocMock).execute(with(hasSameItems(scalaDoc.getSource())),with(equalTo(scalaDoc.getDestinationDir())),with(equalTo(scalaDoc.getClasspath())),with(sameInstance(scalaDoc.getScalaDocOptions())));
    }
  }
);
}
