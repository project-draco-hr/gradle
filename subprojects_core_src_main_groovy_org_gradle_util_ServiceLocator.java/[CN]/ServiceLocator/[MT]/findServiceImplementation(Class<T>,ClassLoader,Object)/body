{
  try {
    Class<? extends T> implementationClass=findServiceImplementationClass(serviceType,classLoader);
    if (implementationClass == null) {
      return null;
    }
    Instantiator instantiator=new DirectInstantiator();
    return instantiator.newInstance(implementationClass,params);
  }
 catch (  Throwable t) {
    throw new RuntimeException(String.format("Could not create an implementation of service '%s'.",serviceType.getName()),t);
  }
}
