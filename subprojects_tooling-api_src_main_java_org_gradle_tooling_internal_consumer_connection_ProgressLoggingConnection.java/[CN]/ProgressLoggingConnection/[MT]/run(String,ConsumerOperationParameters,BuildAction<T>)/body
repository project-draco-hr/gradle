{
  ProgressListenerAdapter listener=new ProgressListenerAdapter(parameters.getProgressListener());
  ListenerManager listenerManager=loggingProvider.getListenerManager();
  listenerManager.addListener(listener);
  try {
    ProgressLogger progressLogger=loggingProvider.getProgressLoggerFactory().newOperation(ProgressLoggingConnection.class);
    progressLogger.setDescription(description);
    progressLogger.started();
    try {
      return action.run(connection);
    }
  finally {
      progressLogger.completed();
    }
  }
  finally {
    listenerManager.removeListener(listener);
  }
}
