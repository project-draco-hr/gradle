{
  LinkedList<FileCollection> queue=new LinkedList<FileCollection>();
  addSourceCollections(queue);
  List<FileCollection> collections=new ArrayList<FileCollection>();
  while (!queue.isEmpty()) {
    FileCollection fileCollection=queue.removeFirst();
    if (fileCollection instanceof CompositeFileCollection) {
      CompositeFileCollection compositeFileCollection=(CompositeFileCollection)fileCollection;
      compositeFileCollection.addSourceCollections(queue.subList(0,0));
    }
 else {
      collections.add(fileCollection);
    }
  }
  return collections;
}
