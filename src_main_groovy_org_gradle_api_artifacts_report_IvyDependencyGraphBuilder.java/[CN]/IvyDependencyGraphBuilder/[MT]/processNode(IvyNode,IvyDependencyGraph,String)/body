{
  if (!node.isLoaded()) {
    return null;
  }
  String name=node.getResolvedId().getName();
  String group=node.getResolvedId().getOrganisation();
  String revision=node.getResolvedId().getRevision();
  IvyDependency ivyDependency=graph.findOrCreateDependency(name,group,revision);
  Collection<IvyNode> dependencies=node.getDependencies(conf,new String[]{conf});
  for (  IvyNode dependency : dependencies) {
    IvyDependency retDep=processNode(dependency,graph,conf);
    if (retDep != null) {
      ivyDependency.addDependency(retDep);
    }
  }
  return ivyDependency;
}
