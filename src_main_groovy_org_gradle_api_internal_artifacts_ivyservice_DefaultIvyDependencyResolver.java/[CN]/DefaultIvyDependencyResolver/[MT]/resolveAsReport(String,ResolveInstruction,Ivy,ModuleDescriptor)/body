{
  Clock clock=new Clock();
  ResolveOptions resolveOptions=resolveOptionsFactory.createResolveOptions(conf,resolveInstruction);
  ResolveReport resolveReport=null;
  try {
    resolveReport=ivy.resolve(moduleDescriptor,resolveOptions);
    lastResolveReport=resolveReport;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  logger.debug("Timing: Ivy resolve took {}",clock.getTime());
  if (resolveReport.hasError() && resolveInstruction.isFailOnResolveError()) {
    throw new GradleException("Not all dependencies could be resolved!");
  }
  logger.debug("Timing: Complete resolve took {}",clock.getTime());
  return resolveReport;
}
