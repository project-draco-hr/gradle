{
  String repositoryName=repository.getName();
  if (!GUtil.isTrue(repositoryName)) {
    repository.setName(uniquifyName(defaultName));
  }
 else {
    repository.setName(uniquifyName(repositoryName));
  }
  assertCanAdd(repository.getName());
  insertion.execute(repository);
  cast(ArtifactRepositoryInternal.class,repository).onAddToContainer(this);
  return repository;
}
