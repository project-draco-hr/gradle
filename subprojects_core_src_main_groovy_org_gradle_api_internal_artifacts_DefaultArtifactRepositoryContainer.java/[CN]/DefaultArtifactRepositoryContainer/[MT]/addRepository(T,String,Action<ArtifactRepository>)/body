{
  String repositoryName=repository.getName();
  if (!GUtil.isTrue(repositoryName)) {
    repositoryName=uniquifyName(defaultName);
    repository.setName(repositoryName);
  }
  assertCanAdd(repositoryName);
  action.execute(repository);
  cast(ArtifactRepositoryInternal.class,repository).onAddToContainer(this);
  return repository;
}
