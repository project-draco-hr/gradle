{
  String repositoryName=repository.getName();
  if (!GUtil.isTrue(repositoryName)) {
    repositoryName=findName(defaultName);
    repository.setName(repositoryName);
  }
  assertCanAdd(repositoryName);
  action.execute(repository);
  return repository;
}
