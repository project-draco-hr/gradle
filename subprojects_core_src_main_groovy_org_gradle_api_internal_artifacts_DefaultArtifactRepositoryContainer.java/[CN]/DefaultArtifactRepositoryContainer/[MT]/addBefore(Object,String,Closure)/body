{
  if (!GUtil.isTrue(afterResolverName)) {
    throw new InvalidUserDataException("You must specify afterResolverName");
  }
  DeprecationLogger.nagUserOfDiscontinuedMethod("ArtifactRepositoryContainer.addBefore()");
  final ArtifactRepository after=getByName(afterResolverName);
  return addCustomDependencyResolver(userDescription,configureClosure,new Action<ArtifactRepository>(){
    public void execute(    ArtifactRepository repository){
      DefaultArtifactRepositoryContainer.super.add(indexOf(after),repository);
    }
  }
);
}
