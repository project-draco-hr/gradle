{
  BinaryNamingScheme namingScheme=testBinary.getNamingScheme();
  PlatformToolProvider toolProvider=testBinary.getPlatformToolProvider();
  File binaryOutputDir=new File(new File(buildDir,"binaries"),namingScheme.getOutputDirectoryBase());
  String baseName=testBinary.getComponent().getBaseName();
  testBinary.setExecutableFile(new File(binaryOutputDir,toolProvider.getExecutableName(baseName)));
  ((ExtensionAware)testBinary).getExtensions().create("cppCompiler",DefaultPreprocessingTool.class);
  if (testBinary.getToolChain() instanceof Gcc && testBinary.getTargetPlatform().getOperatingSystem().isLinux()) {
    testBinary.getLinker().args("-pthread");
  }
}
