{
  this.applicator=applicator;
  this.pluginRegistry=pluginRegistry;
  this.pluginContainer=new DefaultPluginContainer(pluginRegistry,this,instantiator,new PluginApplicator(){
    public void applyImperative(    @Nullable String pluginId,    Plugin<?> plugin){
      if (addPluginDirect(plugin.getClass())) {
        applicator.applyImperative(pluginId,plugin);
      }
    }
    public void applyRules(    @Nullable String pluginId,    Class<?> clazz){
      throw new UnsupportedOperationException();
    }
    public void applyImperativeRulesHybrid(    @Nullable String pluginId,    Plugin<?> plugin){
      if (addPluginDirect(plugin.getClass())) {
        applicator.applyImperativeRulesHybrid(pluginId,plugin);
      }
    }
  }
);
}
