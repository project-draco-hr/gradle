{
  String dependencyProjectName="depProject";
  final AbstractProject dependencyProject=HelperUtil.createRootProject(new File(dependencyProjectName));
  final ModuleRevisionId testModuleRevisionId=ModuleRevisionId.newInstance(Project.DEFAULT_GROUP,dependencyProjectName,Project.DEFAULT_VERSION,WrapUtil.toMap(DependencyDescriptorFactory.PROJECT_PATH_KEY,dependencyProject.getPath()));
  DefaultProjectDependency projectDependency=(DefaultProjectDependency)setUpDependency(new DefaultProjectDependency(dependencyProject,TEST_DEP_CONF,null));
  dependencyDescriptorFactory.addDependencyDescriptor(TEST_CONF,moduleDescriptor,projectDependency);
  DefaultDependencyDescriptor dependencyDescriptor=(DefaultDependencyDescriptor)moduleDescriptor.getDependencies()[0];
  assertDependencyDescriptorHasCommonFixtureValues(dependencyDescriptor);
  assertTrue(dependencyDescriptor.isChanging());
  assertFalse(dependencyDescriptor.isForce());
  assertEquals(testModuleRevisionId,dependencyDescriptor.getDependencyRevisionId());
}
