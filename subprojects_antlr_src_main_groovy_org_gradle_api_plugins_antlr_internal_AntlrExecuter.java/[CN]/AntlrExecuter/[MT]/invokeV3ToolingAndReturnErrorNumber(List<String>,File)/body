{
  String[] argArray=arguments.toArray(new String[arguments.size()]);
  Object tool=loadTool("org.antlr.Tool",argArray);
  if (inputDirectory != null) {
    JavaReflectionUtil.method(tool,Void.class,"setInputDirectory",String.class).invoke(tool,inputDirectory.getAbsolutePath());
    JavaReflectionUtil.method(tool,Void.class,"setForceRelativeOutput",boolean.class).invoke(tool,true);
  }
  JavaReflectionUtil.method(tool,Void.class,"process").invoke(tool);
  return JavaReflectionUtil.method(tool,Integer.class,"getNumErrors").invoke(tool);
}
