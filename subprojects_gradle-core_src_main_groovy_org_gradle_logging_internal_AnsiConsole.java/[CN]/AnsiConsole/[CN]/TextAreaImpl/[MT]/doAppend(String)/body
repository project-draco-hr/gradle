{
  if (text.length() == 0) {
    return;
  }
  container.redraw(this,new Action<Ansi>(){
    public void execute(    Ansi ansi){
      ColorMap.Color color=colorMap.getColourFor(style);
      color.on(ansi);
      Iterator<String> tokenizer=new LineSplitter(text);
      while (tokenizer.hasNext()) {
        String token=tokenizer.next();
        if (token.equals(EOL)) {
          width=0;
          extraEol=false;
        }
 else {
          width+=token.length();
        }
        ansi.a(token);
      }
      color.off(ansi);
    }
  }
);
}
