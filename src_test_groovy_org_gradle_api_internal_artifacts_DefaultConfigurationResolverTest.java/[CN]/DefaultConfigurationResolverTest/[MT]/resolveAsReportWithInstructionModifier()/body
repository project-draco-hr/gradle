{
  final ResolveInstruction expectedResolveInstruction=new ResolveInstruction();
  expectedResolveInstruction.setDependencySpec(HelperUtil.TEST_SEPC);
  context.checking(new Expectations(){
{
      allowing(ivyServiceMock).resolveAsReport(TEST_CONF_NAME,dependencyContainerConfigurations,dependencyContainerMock,testDependencyResolvers,expectedResolveInstruction,TEST_GRADLE_USER_HOME);
      will(returnValue(testResolveReport));
    }
  }
);
  ResolveInstructionModifier resolveInstructionModifier=new ResolveInstructionModifier(){
    public ResolveInstruction modify(    ResolveInstruction resolveInstruction){
      ResolveInstruction newResolveInstruction=new ResolveInstruction(resolveInstruction);
      newResolveInstruction.setDependencySpec(HelperUtil.TEST_SEPC);
      return newResolveInstruction;
    }
  }
;
  assertThat(configurationResolver.resolveAsReport(resolveInstructionModifier),equalTo(testResolveReport));
}
