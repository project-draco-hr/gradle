{
  final List<FileVisitDetails> allFileVisitDetails=new LinkedList<FileVisitDetails>();
  final FileVisitor visitor=new FileVisitor(){
    @Override public void visitDir(    FileVisitDetails dirDetails){
      allFileVisitDetails.add(dirDetails);
    }
    @Override public void visitFile(    FileVisitDetails fileDetails){
      allFileVisitDetails.add(fileDetails);
    }
  }
;
  FileTrees.visitTreeOrBackingFile(input,visitor);
  return allFileVisitDetails;
}
