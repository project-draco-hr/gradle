{
  final List<FileVisitDetails> allFileVisitDetails=new LinkedList<FileVisitDetails>();
  DefaultFileCollectionResolveContext context=new DefaultFileCollectionResolveContext();
  context.add(input);
  List<FileTreeInternal> fileTrees=context.resolveAsFileTrees();
  for (  FileTreeInternal fileTree : fileTrees) {
    fileTree.visitTreeOrBackingFile(new FileVisitor(){
      @Override public void visitDir(      FileVisitDetails dirDetails){
        allFileVisitDetails.add(dirDetails);
      }
      @Override public void visitFile(      FileVisitDetails fileDetails){
        allFileVisitDetails.add(fileDetails);
      }
    }
);
  }
  return allFileVisitDetails;
}
