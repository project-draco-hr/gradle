{
  Map<String,IncrementalFileSnapshot> fileSnapshotsOnly=Maps.filterValues(snapshots,new Predicate<IncrementalFileSnapshot>(){
    public boolean apply(    IncrementalFileSnapshot input){
      return input instanceof FileHashSnapshot;
    }
  }
);
  return Maps.transformValues(fileSnapshotsOnly,new Function<IncrementalFileSnapshot,byte[]>(){
    public byte[] apply(    IncrementalFileSnapshot input){
      return ((FileHashSnapshot)input).hash;
    }
  }
);
}
