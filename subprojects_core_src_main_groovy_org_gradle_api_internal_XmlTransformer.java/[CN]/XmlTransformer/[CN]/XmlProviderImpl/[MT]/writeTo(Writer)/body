{
  try {
    if (node != null) {
      PrintWriter printWriter=new PrintWriter(writer);
      new XmlNodePrinter(printWriter).print(node);
      printWriter.flush();
    }
 else     if (element != null) {
      PrintWriter printWriter=new PrintWriter(writer);
      XmlUtil.serialize(element,printWriter);
      printWriter.flush();
    }
 else     if (builder != null) {
      writer.append(builder);
    }
 else {
      writer.append(stringValue);
    }
  }
 catch (  IOException e) {
    throw UncheckedException.asUncheckedException(e);
  }
}
