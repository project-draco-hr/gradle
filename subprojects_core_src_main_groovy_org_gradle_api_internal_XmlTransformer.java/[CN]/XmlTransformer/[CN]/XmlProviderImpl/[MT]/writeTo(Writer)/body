{
  try {
    if (node != null) {
      PrintWriter printWriter=new PrintWriter(writer);
      XmlNodePrinter nodePrinter=new XmlNodePrinter(printWriter,indentation);
      nodePrinter.setPreserveWhitespace(true);
      nodePrinter.print(node);
      printWriter.flush();
    }
 else     if (element != null) {
      printNode(element,writer);
      writer.flush();
    }
 else     if (builder != null) {
      writer.append(builder);
    }
 else {
      writer.append(stringValue);
    }
  }
 catch (  IOException e) {
    throw UncheckedException.asUncheckedException(e);
  }
}
