{
  ModuleVersionRepository sourceRepository=findSourceRepository(moduleMetadata);
  ModuleSource repositoryModuleSource=unpackModuleSource(moduleMetadata);
  Set<ModuleVersionArtifactMetaData> artifacts=sourceRepository.getCandidateArtifacts(moduleMetadata,artifactType);
  for (  ModuleVersionArtifactMetaData artifact : artifacts) {
    DefaultBuildableArtifactResolveResult singleResult=new DefaultBuildableArtifactResolveResult();
    try {
      sourceRepository.resolve(artifact,singleResult,repositoryModuleSource);
    }
 catch (    Throwable t) {
      singleResult.failed(new ArtifactResolveException(artifact.getId(),t));
    }
    result.addResult(artifact.getId(),singleResult);
  }
}
