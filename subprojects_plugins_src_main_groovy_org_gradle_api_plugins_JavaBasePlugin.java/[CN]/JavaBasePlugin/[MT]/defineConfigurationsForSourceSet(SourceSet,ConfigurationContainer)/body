{
  Configuration compileConfiguration=configurations.maybeCreate(sourceSet.getCompileConfigurationName());
  compileConfiguration.setVisible(false);
  compileConfiguration.setDescription(String.format("Dependencies for %s.",sourceSet));
  Configuration runtimeConfiguration=configurations.maybeCreate(sourceSet.getRuntimeConfigurationName());
  runtimeConfiguration.setVisible(false);
  runtimeConfiguration.extendsFrom(compileConfiguration);
  runtimeConfiguration.setDescription(String.format("Runtime dependencies for %s.",sourceSet));
  Configuration compileOnlyConfiguration=configurations.maybeCreate(sourceSet.getCompileOnlyConfigurationName());
  compileOnlyConfiguration.setVisible(false);
  compileOnlyConfiguration.extendsFrom(compileConfiguration);
  compileOnlyConfiguration.setDescription(String.format("Compile dependencies for %s.",sourceSet));
  Configuration compileClasspathConfiguration=configurations.maybeCreate(sourceSet.getCompileClasspathConfigurationName());
  compileClasspathConfiguration.setVisible(false);
  compileClasspathConfiguration.extendsFrom(compileOnlyConfiguration);
  compileClasspathConfiguration.setDescription(String.format("Compile classpath for %s.",sourceSet));
  sourceSet.setCompileClasspath(compileClasspathConfiguration);
  sourceSet.setRuntimeClasspath(sourceSet.getOutput().plus(runtimeConfiguration));
}
