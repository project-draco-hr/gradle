{
  GradleConnector connector=GradleConnector.newConnector();
  connector.forProjectDirectory(new File("."));
  if (args.length > 0) {
    connector.useInstallation(new File(args[0]));
  }
  ProjectConnection connection=connector.connect();
  try {
    EclipseProject project=connection.getModel(EclipseProject.class);
    System.out.println("Project: " + project.getName());
    System.out.println("Project directory: " + project.getProjectDirectory());
    System.out.println("Source directories:");
    for (    EclipseSourceDirectory srcDir : project.getSourceDirectories()) {
      System.out.println(srcDir.getPath());
    }
    System.out.println("Project classpath:");
    for (    ExternalDependency externalDependency : project.getClasspath()) {
      System.out.println(externalDependency.getFile().getName());
    }
  }
  finally {
    connection.close();
  }
}
