{
  boolean wasStarted=startLongRunningOperation();
  try {
    if (wasStarted) {
      onEndWork();
    }
    try {
      return action.create();
    }
  finally {
      if (wasStarted) {
        onStartWork();
      }
    }
  }
  finally {
    finishLongRunningOperation(wasStarted);
  }
}
