{
  final TestException exception=exception("<location>","<message>",new RuntimeException());
  final Matcher<String> errorMessage=allOf(containsString("Build failed with an exception."),containsString("<location>"),containsString("<message>"),containsString("Cause: " + RuntimeException.class.getName() + " (no error message)"));
  context.checking(new Expectations(){
{
      one(logger).error(with(errorMessage));
    }
  }
);
  reporter.buildFinished(HelperUtil.createBuildResult(exception));
}
