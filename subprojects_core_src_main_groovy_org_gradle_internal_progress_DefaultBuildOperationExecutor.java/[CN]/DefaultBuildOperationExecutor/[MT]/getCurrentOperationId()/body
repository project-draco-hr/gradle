{
  OperationDetails current=currentOperation.get();
  if (current == null) {
    throw new IllegalStateException("No operation is currently running.");
  }
  return current.id;
}
