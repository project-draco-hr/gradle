{
  long startTime=timeProvider.getCurrentTime();
  BuildOperationInternal operation=new BuildOperationInternal(id,parentId,operationType);
  listener.started(operation,new OperationStartEvent(startTime));
  T result=null;
  Throwable failure=null;
  try {
    result=factory.create();
  }
 catch (  Throwable t) {
    failure=t;
  }
  long endTime=timeProvider.getCurrentTime();
  listener.finished(operation,new OperationResult(startTime,endTime,failure));
  if (failure != null) {
    throw UncheckedException.throwAsUncheckedException(failure);
  }
  return result;
}
