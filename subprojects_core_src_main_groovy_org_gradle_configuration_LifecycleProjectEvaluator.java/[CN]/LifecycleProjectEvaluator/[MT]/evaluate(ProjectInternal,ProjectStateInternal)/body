{
  if (state.getExecuted() || state.getExecuting()) {
    return;
  }
  ProjectEvaluationListener listener=project.getProjectEvaluationBroadcaster();
  try {
    listener.beforeEvaluate(project);
  }
 catch (  Exception e) {
    ProjectConfigurationException failure=new ProjectConfigurationException(String.format("An error occurred in a pre-configure action for %s.",project),e);
    state.executed(failure);
    return;
  }
  state.setExecuting(true);
  try {
    delegate.evaluate(project,state);
  }
 catch (  Exception e) {
    ProjectConfigurationException failure=new ProjectConfigurationException(String.format("A problem occurred configuring %s.",project),e);
    state.executed(failure);
  }
 finally {
    state.setExecuting(false);
    state.executed();
    notifyAfterEvaluate(listener,project,state);
  }
}
