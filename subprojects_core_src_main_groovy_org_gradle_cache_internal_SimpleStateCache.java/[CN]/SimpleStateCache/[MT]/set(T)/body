{
  lock.writeToFile(new Runnable(){
    public void run(){
      try {
        OutputStream outStr=new BufferedOutputStream(new FileOutputStream(cacheFile));
        try {
          serializer.write(outStr,newValue);
        }
  finally {
          outStr.close();
        }
      }
 catch (      Exception e) {
        throw new GradleException(String.format("Could not write cache value to '%s'.",cacheFile),e);
      }
    }
  }
);
}
