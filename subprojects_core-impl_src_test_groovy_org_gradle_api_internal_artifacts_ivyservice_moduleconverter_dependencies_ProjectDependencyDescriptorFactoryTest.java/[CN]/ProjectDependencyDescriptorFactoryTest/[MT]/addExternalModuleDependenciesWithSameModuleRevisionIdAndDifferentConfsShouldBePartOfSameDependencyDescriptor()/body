{
  final ProjectDependency dependency1=createProjectDependency(TEST_DEP_CONF);
  final ProjectDependency dependency2=createProjectDependency(TEST_OTHER_DEP_CONF);
  context.checking(new Expectations(){
{
      allowing(descriptorStrategyStub).isChanging();
      will(returnValue(true));
      allowing(descriptorStrategyStub).createModuleRevisionId(dependency1);
      will(returnValue(IvyUtil.createModuleRevisionId(dependency1)));
      allowing(descriptorStrategyStub).createModuleRevisionId(dependency2);
      will(returnValue(IvyUtil.createModuleRevisionId(dependency2)));
    }
  }
);
  assertThataddDependenciesWithSameModuleRevisionIdAndDifferentConfsShouldBePartOfSameDependencyDescriptor(dependency1,dependency2,projectDependencyDescriptorFactory);
}
