{
  if (dependency instanceof UnresolvedDependencyResult) {
    ModuleVersionSelector attempted=((UnresolvedDependencyResult)dependency).getAttempted();
    return DefaultModuleVersionIdentifier.newId(attempted.getGroup(),attempted.getName(),attempted.getVersion());
  }
  return dependency.getSelected().getId();
}
