{
  project.getTasks().whenTaskAdded(Javadoc.class,new Action<Javadoc>(){
    public void execute(    Javadoc javadoc){
      javadoc.conventionMapping(DefaultConventionsToPropertiesMapping.JAVADOC);
      javadoc.setConfiguration(project.getConfigurations().getByName(COMPILE_CONFIGURATION_NAME));
      addDependsOnProjectDependencies(javadoc,COMPILE_CONFIGURATION_NAME);
    }
  }
);
  project.getTasks().add(JAVADOC_TASK_NAME,Javadoc.class).setDescription("Generates the javadoc for the source code.");
}
