{
  DependencyManager dependencies=project.getDependencies();
  dependencies.addConfiguration(new Configuration(JavaPlugin.COMPILE,Visibility.PRIVATE,null,null,false,null));
  dependencies.addConfiguration(new Configuration(RUNTIME,Visibility.PRIVATE,null,new String[]{COMPILE},true,null));
  dependencies.addConfiguration(new Configuration(TEST_COMPILE,Visibility.PRIVATE,null,new String[]{COMPILE},false,null));
  dependencies.addConfiguration(new Configuration(TEST_RUNTIME,Visibility.PRIVATE,null,new String[]{RUNTIME,TEST_COMPILE},true,null));
  dependencies.addConfiguration(new Configuration(LIBS,Visibility.PUBLIC,null,null,true,null));
  dependencies.addConfiguration(new Configuration(DEFAULT,Visibility.PUBLIC,null,new String[]{RUNTIME,LIBS},true,null));
  dependencies.addConfiguration(new Configuration(DISTS,Visibility.PUBLIC,null,null,true,null));
  dependencies.setArtifactProductionTaskName(UPLOAD_LIBS);
  dependencies.getArtifactPatterns().add(project.getBuildDir().getAbsolutePath() + "/[artifact]-[revision](-[classifier]).[ext]");
  dependencies.getArtifactPatterns().add(javaPluginConvention.getDistsDir() + "/[artifact]-[revision](-[classifier]).[ext]");
  dependencies.addConf2Tasks(COMPILE,new String[]{COMPILE});
  dependencies.addConf2Tasks(RUNTIME,new String[]{TEST});
  dependencies.addConf2Tasks(TEST_COMPILE,new String[]{TEST_COMPILE});
  dependencies.addConf2Tasks(TEST_RUNTIME,new String[]{TEST});
}
