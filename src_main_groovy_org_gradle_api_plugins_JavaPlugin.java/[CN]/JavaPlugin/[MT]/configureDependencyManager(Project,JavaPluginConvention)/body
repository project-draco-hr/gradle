{
  DependencyManager dependencies=project.getDependencies();
  dependencies.addConfiguration(new Configuration(JavaPlugin.COMPILE,Visibility.PRIVATE,null,null,false,null));
  dependencies.addConfiguration(new Configuration(RUNTIME,Visibility.PRIVATE,null,new String[]{COMPILE},true,null));
  dependencies.addConfiguration(new Configuration(TEST_COMPILE,Visibility.PRIVATE,null,new String[]{COMPILE},false,null));
  dependencies.addConfiguration(new Configuration(TEST_RUNTIME,Visibility.PRIVATE,null,new String[]{RUNTIME,TEST_COMPILE},true,null));
  dependencies.addConfiguration(new Configuration(LIBS,Visibility.PUBLIC,null,null,true,null));
  dependencies.addConfiguration(new Configuration(DEFAULT,Visibility.PUBLIC,null,new String[]{RUNTIME,LIBS},true,null));
  dependencies.addConfiguration(new Configuration(DISTS,Visibility.PUBLIC,null,null,true,null));
  dependencies.setArtifactProductionTaskName(UPLOAD_LIBS);
  dependencies.getArtifactParentDirs().add(project.getBuildDir());
  dependencies.getArtifactParentDirs().add(javaPluginConvention.getDistsDir());
  dependencies.linkConfWithTask(COMPILE,COMPILE);
  dependencies.linkConfWithTask(COMPILE,JAVADOC);
  dependencies.linkConfWithTask(RUNTIME,TEST);
  dependencies.linkConfWithTask(TEST_COMPILE,TEST_COMPILE);
  dependencies.linkConfWithTask(TEST_RUNTIME,TEST);
}
