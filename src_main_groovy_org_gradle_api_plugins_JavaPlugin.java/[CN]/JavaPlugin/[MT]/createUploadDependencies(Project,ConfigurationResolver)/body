{
  return new TaskDependency(){
    public Set<? extends Task> getDependencies(    Task task){
      Set<? extends Task> tasks=new HashSet<Task>();
      for (      PublishArtifact publishArtifact : project.getDependencies().getArtifacts()) {
        for (        Configuration artifactConfiguration : publishArtifact.getConfigurations()) {
          if (configuration.getChain().contains(artifactConfiguration)) {
            tasks.addAll((Collection)publishArtifact.getTaskDependency().getDependencies(task));
          }
        }
      }
      return tasks;
    }
  }
;
}
