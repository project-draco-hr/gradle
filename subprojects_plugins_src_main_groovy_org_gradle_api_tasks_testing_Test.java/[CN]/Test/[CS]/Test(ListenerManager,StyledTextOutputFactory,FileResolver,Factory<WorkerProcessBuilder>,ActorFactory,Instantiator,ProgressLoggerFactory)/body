{
  this.progressLoggerFactory=progressLoggerFactory;
  testListenerBroadcaster=listenerManager.createAnonymousBroadcaster(TestListener.class);
  testOutputListenerBroadcaster=listenerManager.createAnonymousBroadcaster(TestOutputListener.class);
  this.textOutputFactory=textOutputFactory;
  options=new DefaultJavaForkOptions(fileResolver);
  options.setEnableAssertions(true);
  testExecuter=new DefaultTestExecuter(processBuilderFactory,actorFactory);
  testLogging=instantiator.newInstance(DefaultTestLoggingContainer.class,instantiator);
  testReporter=new DefaultTestReport(this);
}
