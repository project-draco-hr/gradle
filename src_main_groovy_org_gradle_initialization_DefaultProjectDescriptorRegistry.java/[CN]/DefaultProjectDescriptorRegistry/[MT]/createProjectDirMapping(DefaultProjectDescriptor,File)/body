{
  ProjectDescriptor existingProjectDescriptor4Dir=projectDir2ProjectDescriptor.get(projectDir);
  if (existingProjectDescriptor4Dir != null && !projectDescriptor.equals(existingProjectDescriptor4Dir)) {
    throw new InvalidUserDataException("The ProjectDescriptor dir is already in use. Path=" + projectDescriptor.getPath() + " Dir="+ projectDir);
  }
  try {
    projectDir2ProjectDescriptor.put(projectDir.getCanonicalFile(),projectDescriptor);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
