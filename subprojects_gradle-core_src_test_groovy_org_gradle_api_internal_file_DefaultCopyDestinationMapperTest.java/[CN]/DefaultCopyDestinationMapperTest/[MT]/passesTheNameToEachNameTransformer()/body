{
  final Transformer<String> transformer1=context.mock(Transformer.class,"transformer1");
  final Transformer<String> transformer2=context.mock(Transformer.class,"transformer2");
  mapper.add(transformer1);
  mapper.add(transformer2);
  context.checking(new Expectations(){
{
      one(transformer1).transform("a");
      will(returnValue("b"));
      one(transformer2).transform("b");
      will(returnValue("c"));
    }
  }
);
  expectPath(new RelativePath(true,"a"));
  RelativePath mapped=mapper.getPath(element);
  assertTrue(mapped.isFile());
  assertArrayEquals(toArray("c"),mapped.getSegments());
}
