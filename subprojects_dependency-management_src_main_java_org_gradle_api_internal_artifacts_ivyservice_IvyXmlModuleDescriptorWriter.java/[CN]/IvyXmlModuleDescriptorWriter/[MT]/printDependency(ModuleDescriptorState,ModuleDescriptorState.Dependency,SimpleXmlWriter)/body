{
  writer.startElement("dependency");
  ModuleVersionSelector requested=dep.requested;
  writer.attribute("org",requested.getGroup());
  writer.attribute("name",requested.getName());
  writer.attribute("rev",requested.getVersion());
  if (dep.dynamicConstraintVersion != null && !dep.dynamicConstraintVersion.equals(requested.getVersion())) {
    writer.attribute("revConstraint",dep.dynamicConstraintVersion);
  }
  if (dep.force) {
    writer.attribute("force","true");
  }
  if (dep.changing) {
    writer.attribute("changing","true");
  }
  if (!dep.transitive) {
    writer.attribute("transitive","false");
  }
  writer.attribute("conf",getConfMapping(dep));
  for (  ModuleDescriptorState.Artifact dependencyArtifact : dep.dependencyArtifacts) {
    printDependencyArtifact(descriptor,writer,dependencyArtifact.artifactName,dependencyArtifact.configurations);
  }
  printDependencyExcludeRules(descriptor,writer,dep.dependencyExcludes);
  writer.endElement();
}
