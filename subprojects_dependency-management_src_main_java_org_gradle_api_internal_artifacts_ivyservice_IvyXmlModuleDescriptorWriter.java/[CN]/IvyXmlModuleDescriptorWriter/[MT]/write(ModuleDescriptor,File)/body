{
  final ModuleComponentIdentifier componentIdentifier=DefaultModuleComponentIdentifier.newId(md.getModuleRevisionId());
  List<IvyModuleArtifactPublishMetaData> ivyArtifacts=CollectionUtils.collect(CollectionUtils.toList(md.getAllArtifacts()),new Transformer<IvyModuleArtifactPublishMetaData,Artifact>(){
    @Override public IvyModuleArtifactPublishMetaData transform(    Artifact artifact){
      return new DefaultIvyModuleArtifactPublishMetaData(componentIdentifier,artifact);
    }
  }
);
  doWrite(md,ivyArtifacts,output);
}
