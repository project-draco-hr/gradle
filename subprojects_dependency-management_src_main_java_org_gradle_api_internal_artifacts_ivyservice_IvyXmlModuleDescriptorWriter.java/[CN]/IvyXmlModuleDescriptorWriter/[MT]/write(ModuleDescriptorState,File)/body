{
  final ModuleComponentIdentifier componentIdentifier=md.getComponentIdentifier();
  List<IvyModuleArtifactPublishMetaData> ivyArtifacts=CollectionUtils.collect(md.getArtifacts(),new Transformer<IvyModuleArtifactPublishMetaData,ModuleDescriptorState.Artifact>(){
    @Override public IvyModuleArtifactPublishMetaData transform(    ModuleDescriptorState.Artifact artifact){
      return new DefaultIvyModuleArtifactPublishMetaData(componentIdentifier,artifact.artifactName,artifact.configurations);
    }
  }
);
  doWrite(md,ivyArtifacts,output);
}
