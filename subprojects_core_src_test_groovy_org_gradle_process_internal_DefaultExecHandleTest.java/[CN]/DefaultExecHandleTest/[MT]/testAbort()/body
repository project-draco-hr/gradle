{
  DefaultExecHandle execHandle=new DefaultExecHandle("display-name",tmpDir.getDir(),Jvm.current().getJavaExecutable().getAbsolutePath(),Arrays.asList("-cp",System.getProperty("java.class.path"),SlowApp.class.getName()),System.getenv(),new StreamsForwarder(),Collections.<ExecHandleListener>emptyList(),false);
  execHandle.start();
  execHandle.abort();
  ExecResult result=execHandle.waitForFinish();
  assertEquals(ExecHandleState.ABORTED,execHandle.getState());
  assertThat(result.getExitValue(),not(equalTo(0)));
}
