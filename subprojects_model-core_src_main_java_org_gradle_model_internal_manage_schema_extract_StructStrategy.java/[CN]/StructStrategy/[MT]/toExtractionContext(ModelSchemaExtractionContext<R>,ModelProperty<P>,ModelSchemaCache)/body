{
  return parentContext.child(property.getType(),String.format("property '%s'",property.getName()),new Action<ModelSchemaExtractionContext<P>>(){
    public void execute(    ModelSchemaExtractionContext<P> propertyExtractionContext){
      if (!property.isWritable()) {
        ModelSchema<P> propertySchema=modelSchemaCache.get(property.getType());
        if (!propertySchema.getKind().equals(ModelSchema.Kind.STRUCT)) {
          throw new InvalidManagedModelElementTypeException(parentContext,String.format("read only property '%s' has non managed type %s, only managed types can be used",property.getName(),property.getType()));
        }
      }
    }
  }
);
}
