{
  expectTaskEnabled();
  context.checking(new Expectations(){
{
      allowing(task).getActions();
      will(returnValue(toList()));
      one(listener).beforeActions(task);
      inSequence(sequence);
      one(listener).afterActions(task);
      inSequence(sequence);
    }
  }
);
  TaskExecutionResult result=executer.execute(task,state);
  assertThat(result.getFailure(),nullValue());
  assertThat(result.getSkipMessage(),nullValue());
  assertTrue(state.isExecuted());
  assertFalse(state.isExecuting());
  assertFalse(state.isDidWork());
}
