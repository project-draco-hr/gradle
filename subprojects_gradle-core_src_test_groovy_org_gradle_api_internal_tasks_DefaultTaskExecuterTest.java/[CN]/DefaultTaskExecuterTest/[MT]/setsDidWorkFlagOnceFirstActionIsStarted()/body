{
  final Action<Task> action=new Action<Task>(){
    public void execute(    Task task){
      assertTrue(state.isDidWork());
    }
  }
;
  context.checking(new Expectations(){
{
      allowing(task).getActions();
      will(returnValue(toList(action)));
      ignoring(standardOutputCapture);
      ignoring(listener);
    }
  }
);
  executer.execute(task,state).rethrowFailure();
}
