{
  context.checking(new Expectations(){
{
      ProjectInternal project=context.mock(ProjectInternal.class);
      allowing(task).getPath();
      will(returnValue(":task"));
      allowing(task).getProject();
      will(returnValue(project));
      allowing(project).getBuildScriptSource();
      will(returnValue(scriptSource));
      allowing(task).getOnlyIf();
      will(returnValue(spec));
      allowing(task).getStandardOutputCapture();
      will(returnValue(standardOutputCapture));
      ignoring(scriptSource);
    }
  }
);
}
