{
  try {
    return doRunWithExceptionHandling(command);
  }
 catch (  ReportedException e) {
    throw e;
  }
catch (  Throwable throwable) {
    StyledTextOutputFactory outputFactory=loggingServices.get(StyledTextOutputFactory.class);
    BuildClientMetaData clientMetaData=command.getClientMetaData();
    BuildExceptionReporter exceptionReporter=new BuildExceptionReporter(outputFactory,new StartParameter(),clientMetaData);
    exceptionReporter.reportException(throwable);
    throw new ReportedException(throwable);
  }
}
