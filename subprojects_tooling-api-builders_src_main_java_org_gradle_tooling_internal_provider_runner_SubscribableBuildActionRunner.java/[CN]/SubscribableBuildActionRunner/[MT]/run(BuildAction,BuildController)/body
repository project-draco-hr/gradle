{
  if (!(action instanceof SubscribableBuildAction)) {
    return;
  }
  GradleInternal gradle=buildController.getGradle();
  SubscribableBuildAction subscribableBuildAction=(SubscribableBuildAction)action;
  if (!hasClientSubscriptionsRegistered(subscribableBuildAction.getClientSubscriptions())) {
    registerListenersForClientSubscriptions(subscribableBuildAction.getClientSubscriptions(),gradle);
  }
  delegate.run(action,buildController);
  if (buildController.hasResult()) {
    removeClientSubscriptions(subscribableBuildAction.getClientSubscriptions());
  }
}
