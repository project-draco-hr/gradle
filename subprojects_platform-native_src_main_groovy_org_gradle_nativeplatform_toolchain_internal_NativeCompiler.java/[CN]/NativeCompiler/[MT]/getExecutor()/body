{
  final StoppableExecutor executor;
  if (useParallelCompile()) {
    ExecutorFactory executorFactory=new DefaultExecutorFactory(){
      @Override protected ExecutorService createExecutor(      String displayName){
        return Executors.newFixedThreadPool(4,new ThreadFactoryImpl(displayName));
      }
    }
;
    executor=executorFactory.create(commandLineTool.getDisplayName());
  }
 else {
    executor=new CallingThreadExecutor();
  }
  return executor;
}
