{
  if (remoteSnapshotRepository == null) {
    remoteSnapshotRepository=remoteRepository;
  }
  ArtifactRepository deploymentRepository;
  if (artifact.isSnapshot() && remoteSnapshotRepository != null) {
    deploymentRepository=createDeploymentArtifactRepository(remoteSnapshotRepository);
  }
 else   if (remoteRepository != null) {
    deploymentRepository=createDeploymentArtifactRepository(remoteRepository);
  }
 else {
    throw new BuildException("A remoteRepository element is required to deploy");
  }
  return deploymentRepository;
}
