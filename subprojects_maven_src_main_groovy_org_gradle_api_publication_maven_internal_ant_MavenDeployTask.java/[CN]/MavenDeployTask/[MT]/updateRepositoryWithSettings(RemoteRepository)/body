{
  Mirror mirror=getMirror(getSettings().getMirrors(),repository);
  if (mirror != null) {
    repository.setUrl(mirror.getUrl());
    repository.setId(mirror.getId());
  }
  if (repository.getAuthentication() == null) {
    Server server=getSettings().getServer(repository.getId());
    if (server != null) {
      repository.addAuthentication(new Authentication(server));
    }
  }
  if (repository.getProxy() == null) {
    org.apache.maven.settings.Proxy proxy=getSettings().getActiveProxy();
    if (proxy != null) {
      repository.addProxy(new Proxy(proxy));
    }
  }
}
