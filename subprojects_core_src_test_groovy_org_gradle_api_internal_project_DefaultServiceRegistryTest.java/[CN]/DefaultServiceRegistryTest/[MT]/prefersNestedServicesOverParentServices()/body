{
  final ServiceRegistry parent=context.mock(ServiceRegistry.class);
  final ServiceRegistry nested=context.mock(ServiceRegistry.class);
  final TestRegistry registry=new TestRegistry(parent);
  final Runnable runnable=context.mock(Runnable.class);
  registry.add(nested);
  context.checking(new Expectations(){
{
      one(nested).get(Runnable.class);
      will(returnValue(runnable));
    }
  }
);
  assertThat(registry.get(Runnable.class),sameInstance(runnable));
}
