{
  LoggerContext context=(LoggerContext)LoggerFactory.getILoggerFactory();
  Logger rootLogger=context.getLogger(Logger.ROOT_LOGGER_NAME);
  if (currentLevel == null) {
    context.reset();
    context.addTurboFilter(new GradleFilter());
    context.getLogger("org.apache.http.wire").setLevel(Level.OFF);
    context.getLogger("org.codehaus.groovy.runtime.m12n.MetaInfExtensionModule").setLevel(Level.ERROR);
    GradleAppender appender=new GradleAppender();
    appender.setContext(context);
    appender.start();
    rootLogger.addAppender(appender);
  }
  currentLevel=logLevel;
  rootLogger.setLevel(LogLevelConverter.toLogbackLevel(logLevel));
}
