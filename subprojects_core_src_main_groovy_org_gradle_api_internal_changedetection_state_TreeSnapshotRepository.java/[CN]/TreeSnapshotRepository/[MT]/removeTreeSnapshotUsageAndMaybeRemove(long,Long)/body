{
  Set<Long> fileCollectionSnapshotIds=treeSnapshotUsageTrackingCache.get(treeSnapshotId);
  if (fileCollectionSnapshotIds != null && fileCollectionSnapshotIds.contains(fileCollectionSnapshotId)) {
    fileCollectionSnapshotIds.remove(fileCollectionSnapshotId);
    if (fileCollectionSnapshotIds.size() > 0) {
      treeSnapshotUsageTrackingCache.put(treeSnapshotId,fileCollectionSnapshotIds);
    }
 else {
      treeSnapshotUsageTrackingCache.remove(treeSnapshotId);
      treeSnapshotsCache.remove(treeSnapshotId);
    }
  }
}
