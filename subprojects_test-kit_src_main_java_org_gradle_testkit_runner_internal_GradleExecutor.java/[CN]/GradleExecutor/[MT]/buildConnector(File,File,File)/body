{
  DefaultGradleConnector gradleConnector=(DefaultGradleConnector)GradleConnector.newConnector();
  gradleConnector.useGradleUserHomeDir(gradleUserHome);
  gradleConnector.daemonBaseDir(new File(gradleUserHome,"daemon"));
  gradleConnector.forProjectDirectory(projectDir);
  gradleConnector.searchUpwards(false);
  gradleConnector.daemonMaxIdleTime(120,TimeUnit.SECONDS);
  gradleConnector.useInstallation(gradleHome);
  return gradleConnector;
}
