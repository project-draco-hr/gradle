{
  eachModule(new Action<ModuleResolutionControl>(){
    public void execute(    ModuleResolutionControl moduleResolutionControl){
      if (moduleResolutionControl.isChanging()) {
        moduleResolutionControl.cacheFor(value,units);
      }
      if (moduleResolutionControl.getCachedResult() == null) {
        moduleResolutionControl.cacheFor(value,units);
      }
    }
  }
);
  eachArtifact(new Action<ArtifactResolutionControl>(){
    public void execute(    ArtifactResolutionControl artifactResolutionControl){
      if (artifactResolutionControl.getCachedResult() == null) {
        artifactResolutionControl.cacheFor(value,units);
      }
    }
  }
);
}
