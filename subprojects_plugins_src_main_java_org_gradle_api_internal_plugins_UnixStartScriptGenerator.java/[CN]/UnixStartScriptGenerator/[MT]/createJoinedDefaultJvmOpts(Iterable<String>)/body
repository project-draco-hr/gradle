{
  Iterable<String> quotedDefaultJvmOpts=Iterables.transform(defaultJvmOpts,new Function<String,String>(){
    public String apply(    String jvmOpt){
      jvmOpt=jvmOpt.replace("\\","\\\\");
      jvmOpt=jvmOpt.replace("\"","\\\"");
      jvmOpt=jvmOpt.replace("'","'\"'\"'");
      jvmOpt=jvmOpt.replace("`","'\"`\"'");
      jvmOpt=jvmOpt.replace("$","\\$");
      StringBuilder quotedJvmOpt=new StringBuilder();
      quotedJvmOpt.append("\"");
      quotedJvmOpt.append(jvmOpt);
      quotedJvmOpt.append("\"");
      return quotedJvmOpt.toString();
    }
  }
);
  Joiner spaceJoiner=Joiner.on(" ");
  if (Iterables.size(quotedDefaultJvmOpts) > 0) {
    StringBuilder singleQuoteJvmOpt=new StringBuilder();
    singleQuoteJvmOpt.append("'");
    singleQuoteJvmOpt.append(spaceJoiner.join(quotedDefaultJvmOpts));
    singleQuoteJvmOpt.append("'");
    return singleQuoteJvmOpt.toString();
  }
  return "\"\"";
}
