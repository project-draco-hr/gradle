{
  cachePropertiesHandlerMock=context.mock(CachePropertiesHandler.class);
  File testProjectDir=HelperUtil.makeNewTestDir("projectdir");
  classLoader=new InputStreamClassLoader();
  InputStream inputStream=this.getClass().getResourceAsStream("/org/gradle/api/ClasspathTester.dat");
  classLoader.loadClass("org.gradle.api.ClasspathTester",inputStream);
  scriptCompilationHandler=new DefaultScriptCompilationHandler(cachePropertiesHandlerMock);
  scriptCacheDir=new File(testProjectDir,"cache");
  scriptText="System.setProperty('" + TEST_EXPECTED_SYSTEMPROP_KEY + "', '"+ TEST_EXPECTED_SYSTEMPROP_VALUE+ "')";
  scriptClassName="ScriptClassName";
  scriptFileName="script-file-name";
  scriptSource=scriptSource();
  cachedFile=new File(scriptCacheDir,scriptClassName + ".class");
  expectedScriptClass=TestBaseScript.class;
  expectedProperties=WrapUtil.toMap(DefaultScriptCompilationHandler.DEBUGINFO_KEY,scriptFileName);
}
