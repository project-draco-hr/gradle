{
  baseURI=addTrailingSlashes(baseURI);
  if (contentType == null || !contentType.startsWith("text/html")) {
    throw new ResourceException(String.format("Unsupported ContentType %s for DirectoryListing",contentType));
  }
  String contentEncoding=contentType.contains("charset=") ? contentType.substring(contentType.indexOf('=') + 1) : "utf-8";
  final Reader htmlText=new InputStreamReader(content,contentEncoding);
  final InputSource inputSource=new InputSource(htmlText);
  final SAXParser htmlParser=new SAXParser();
  final AnchorListerHandler anchorListerHandler=new AnchorListerHandler();
  htmlParser.setContentHandler(anchorListerHandler);
  htmlParser.parse(inputSource);
  List<String> hrefs=anchorListerHandler.getHrefs();
  List<URI> uris=resolveURIs(baseURI,hrefs);
  return filterNonDirectChilds(baseURI,uris);
}
