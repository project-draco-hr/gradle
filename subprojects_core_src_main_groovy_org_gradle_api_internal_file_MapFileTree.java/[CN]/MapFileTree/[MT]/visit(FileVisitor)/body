{
  AtomicBoolean stopFlag=new AtomicBoolean();
  Visit visit=new Visit(visitor,stopFlag);
  for (  Map.Entry<RelativePath,Closure> entry : elements.entrySet()) {
    if (stopFlag.get()) {
      break;
    }
    RelativePath path=entry.getKey();
    Closure generator=entry.getValue();
    visit.visit(path,generator);
  }
}
