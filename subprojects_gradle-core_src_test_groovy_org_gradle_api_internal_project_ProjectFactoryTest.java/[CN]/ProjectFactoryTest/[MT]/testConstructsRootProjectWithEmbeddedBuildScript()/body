{
  ScriptSource expectedScriptSource=context.mock(ScriptSource.class);
  ProjectFactory projectFactory=new ProjectFactory(expectedScriptSource,classGeneratorMock);
  DefaultProject project=projectFactory.createProject(descriptor("somename"),null,gradle);
  assertEquals("somename",project.getName());
  assertSame(rootDir,project.getRootDir());
  assertSame(rootDir,project.getProjectDir());
  assertNull(project.getParent());
  assertSame(project,project.getRootProject());
  assertNotNull(project.getConvention());
  checkProjectResources(project);
  assertSame(project.getBuildScriptSource(),expectedScriptSource);
}
