{
  if (repository == null) {
    return null;
  }
 else   if (repository instanceof ArtifactRepositoryInternal) {
    return (ArtifactRepositoryInternal)repository;
  }
 else {
    throw new InvalidUserDataException(String.format("repository objects must implement the '%s' interface, implementation '%s' does not",ArtifactRepositoryInternal.class.getName(),repository.getClass().getName()));
  }
}
