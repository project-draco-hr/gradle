{
  try {
    List<InetAddress> addresses=new ArrayList<InetAddress>();
    Enumeration<NetworkInterface> interfaces=NetworkInterface.getNetworkInterfaces();
    while (interfaces.hasMoreElements()) {
      NetworkInterface networkInterface=interfaces.nextElement();
      Enumeration<InetAddress> candidates=networkInterface.getInetAddresses();
      while (candidates.hasMoreElements()) {
        InetAddress inetAddress=candidates.nextElement();
        if (inetAddress.isLoopbackAddress()) {
          addresses.add(inetAddress);
        }
      }
    }
    if (addresses.isEmpty()) {
      addresses.add(InetAddress.getByName(null));
    }
    LOGGER.debug("Found loop-back addresses: {}.",addresses);
    return addresses;
  }
 catch (  Exception e) {
    throw new GradleException("Could not determine the local loop-back addresses.",e);
  }
}
