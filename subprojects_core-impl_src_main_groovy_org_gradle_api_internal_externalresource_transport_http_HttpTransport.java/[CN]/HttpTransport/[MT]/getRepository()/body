{
  HttpClientHelper http=new HttpClientHelper(new DefaultHttpSettings(credentials));
  final HttpResourceAccessor accessor=new HttpResourceAccessor(http);
  final HttpResourceUploader uploader=new HttpResourceUploader(http);
  return new DefaultExternalResourceRepository(name,new ProgressLoggingExternalResourceAccessor(accessor,progressLoggerFactory),new ProgressLoggingExternalResourceUploader(uploader,progressLoggerFactory),new HttpResourceLister(accessor));
}
