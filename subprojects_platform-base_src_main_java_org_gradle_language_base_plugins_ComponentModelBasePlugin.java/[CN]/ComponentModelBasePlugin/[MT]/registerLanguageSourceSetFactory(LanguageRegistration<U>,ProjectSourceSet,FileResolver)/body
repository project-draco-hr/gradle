{
  sources.all(new Action<FunctionalSourceSet>(){
    public void execute(    final FunctionalSourceSet functionalSourceSet){
      NamedDomainObjectFactory<U> namedDomainObjectFactory=new NamedDomainObjectFactory<U>(){
        public U create(        String name){
          Class<? extends U> sourceSetImplementation=languageRegistration.getSourceSetImplementation();
          return instantiator.newInstance(sourceSetImplementation,name,functionalSourceSet,fileResolver);
        }
      }
;
      functionalSourceSet.registerFactory(languageRegistration.getSourceSetType(),namedDomainObjectFactory);
    }
  }
);
}
