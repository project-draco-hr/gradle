{
  for (  LanguageTransform<?,?> language : languageTransforms) {
    for (    final BinarySpecInternal binary : binaries.withType(BinarySpecInternal.class)) {
      if (binary.isLegacyBinary() || !language.applyToBinary(binary)) {
        continue;
      }
      final SourceTransformTaskConfig taskConfig=language.getTransformTask();
      for (      LanguageSourceSet languageSourceSet : binary.getInputs()) {
        LanguageSourceSetInternal sourceSet=(LanguageSourceSetInternal)languageSourceSet;
        if (language.getSourceSetType().isInstance(sourceSet) && sourceSet.getMayHaveSources()) {
          String taskName=taskConfig.getTaskPrefix() + capitalize(binary.getName()) + capitalize(sourceSet.getFullName());
          Task task=tasks.create(taskName,taskConfig.getTaskType());
          taskConfig.configureTask(task,binary,sourceSet,serviceRegistry);
          task.dependsOn(sourceSet);
          binary.getTasks().add(task);
        }
      }
    }
  }
}
