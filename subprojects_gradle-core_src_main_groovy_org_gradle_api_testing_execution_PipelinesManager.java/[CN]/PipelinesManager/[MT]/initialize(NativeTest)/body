{
  final List<PipelineConfig> pipelineConfigs=testTask.getPipelineConfigs();
  if (pipelineConfigs.isEmpty()) {
    final PipelineConfig defaultPipelineConfig=new PipelineConfig();
    pipelineConfigs.add(defaultPipelineConfig);
  }
  for (  PipelineConfig pipelineConfig : pipelineConfigs) {
    final Pipeline pipeline=addPipeline(pipelineConfig);
    final ForkPolicyConfig forkPolicyConfig=pipelineConfig.getForkPolicyConfig();
    final ForkPolicy forkPolicy=ForkPolicyRegister.getForkPolicy(forkPolicyConfig.getPolicyName());
    final ForkPolicyInstance forkPolicyInstance=forkPolicy.getForkPolicyInstance(pipeline,forkControl);
    pipeline.setForkPolicyInstance(forkPolicyInstance);
    pipeline.getForkPolicyInstance().initialize();
    pipeline.getReforkController().initialize(testTask,pipelineConfig);
  }
}
