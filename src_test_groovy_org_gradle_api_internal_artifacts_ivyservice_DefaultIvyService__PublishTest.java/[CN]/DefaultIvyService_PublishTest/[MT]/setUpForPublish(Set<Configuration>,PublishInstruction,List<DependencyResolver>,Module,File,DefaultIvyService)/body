{
  final IvySettings ivySettingsDummy=new IvySettings();
  context.checking(new Expectations(){
{
      allowing(ivyService.getSettingsConverter()).convertForPublish(publishResolversDummy,cacheParentDirDummy,ivyService.getInternalRepository());
      will(returnValue(ivySettingsDummy));
      allowing(setUpIvyFactory(ivySettingsDummy,ivyService)).getPublishEngine();
      will(returnValue(publishEngineDummy));
      allowing(ivyService.getModuleDescriptorConverter()).convertForPublish(configurations,publishInstruction.isUploadDescriptor(),moduleDummy,ivySettingsDummy);
      will(returnValue(moduleDescriptorDummy));
    }
  }
);
}
