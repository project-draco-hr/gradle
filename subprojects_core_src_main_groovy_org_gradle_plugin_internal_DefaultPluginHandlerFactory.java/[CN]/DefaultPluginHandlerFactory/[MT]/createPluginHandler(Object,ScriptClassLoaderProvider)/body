{
  if (target instanceof PluginAware) {
    List<PluginResolver> resolvers=new LinkedList<PluginResolver>();
    PluginHandler pluginHandler=new DefaultPluginHandler(resolvers,new PluginResolutionApplicator((PluginAware)target,parentClassLoader));
    addDefaultResolvers(resolvers,classLoaderProvider);
    return pluginHandler;
  }
 else {
    return new NonPluggableTargetPluginHandler(target);
  }
}
