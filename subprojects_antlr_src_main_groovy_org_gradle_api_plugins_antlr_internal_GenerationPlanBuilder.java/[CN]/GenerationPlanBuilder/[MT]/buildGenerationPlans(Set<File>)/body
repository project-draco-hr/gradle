{
  List<GenerationPlan> plans=new ArrayList<GenerationPlan>();
  for (  File grammar : sourceFiles) {
    Antlr3GrammarFileMetadata metadata=new Antlr3GrammarFileMetadata(grammar);
    File lexer=new File(outputDirectory,metadata.getLexerFileName());
    File parser=new File(outputDirectory,metadata.getParserFileName());
    File tokenFile=new File(outputDirectory,metadata.getTokenFileName());
    if (!lexer.exists() || !parser.exists() || !tokenFile.exists()|| lexer.lastModified() < grammar.lastModified() || parser.lastModified() < grammar.lastModified() || tokenFile.lastModified() < grammar.lastModified()) {
      GenerationPlan plan=new GenerationPlan(grammar,outputDirectory);
      plan.markOutOfDate();
      plans.add(plan);
    }
  }
  return plans;
}
