{
  if (javaVersion.isJava7Compatible()) {
    try {
      Class clazz=classLoader.loadClass("org.gradle.internal.filewatch.jdk7.Jdk7FileWatcherFactory");
      return Cast.uncheckedCast(DirectInstantiator.instantiate(clazz,executor));
    }
 catch (    ClassNotFoundException e) {
      throw UncheckedException.throwAsUncheckedException(e);
    }
  }
 else {
    throw new UnsupportedOperationException("File watching requires Java 7 or later.");
  }
}
