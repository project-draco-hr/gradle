{
  deployTaskFactoryMock=context.mock(DeployTaskFactory.class);
  deployTaskMock=context.mock(DeployTask.class);
  context.checking(new Expectations(){
{
      allowing(deployTaskFactoryMock).createDeployTask();
      will(returnValue(deployTaskMock));
    }
  }
);
  mavenUploadResolver=new MavenUploadResolver();
  testRepository=new RemoteRepository();
  testSnapshotRepository=new RemoteRepository();
  mavenUploadResolver.setDeployTaskFactory(deployTaskFactoryMock);
  mavenUploadResolver.addRemoteRepository(testRepository);
  mavenUploadResolver.addRemoteRepository(testSnapshotRepository);
}
