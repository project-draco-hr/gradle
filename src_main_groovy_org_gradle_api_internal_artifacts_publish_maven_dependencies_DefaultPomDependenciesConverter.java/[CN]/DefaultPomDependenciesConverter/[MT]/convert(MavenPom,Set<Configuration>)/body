{
  Map<Dependency,Set<String>> dependenciesMap=createDependenciesMap(configurations);
  List<MavenDependency> mavenDependencies=new ArrayList<MavenDependency>();
  for (  Dependency dependency : dependenciesMap.keySet()) {
    if (dependency.getArtifacts().size() == 0) {
      addFromDependencyDescriptor(mavenDependencies,pom,dependency,dependenciesMap.get(dependency));
    }
 else {
      addFromArtifactDescriptor(mavenDependencies,pom,dependency,dependenciesMap.get(dependency));
    }
  }
  return mavenDependencies;
}
