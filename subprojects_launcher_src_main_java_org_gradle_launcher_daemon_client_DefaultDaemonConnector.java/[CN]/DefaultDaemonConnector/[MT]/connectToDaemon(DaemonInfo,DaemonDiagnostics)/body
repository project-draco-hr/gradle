{
  Runnable onFailure=new Runnable(){
    public void run(){
      LOGGER.info(DaemonMessages.REMOVING_DAEMON_ADDRESS_ON_FAILURE + daemonInfo);
      daemonRegistry.remove(daemonInfo.getAddress());
    }
  }
;
  return new DaemonClientConnection(connector.connect(daemonInfo.getAddress()),daemonInfo.getContext().getUid(),diagnostics,onFailure);
}
