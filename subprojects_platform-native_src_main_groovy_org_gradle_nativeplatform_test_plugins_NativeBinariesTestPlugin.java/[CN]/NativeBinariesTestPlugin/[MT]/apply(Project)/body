{
  project.getPluginManager().apply(NativeComponentPlugin.class);
  ModelRuleDescriptor descriptor=new SimpleModelRuleDescriptor(NativeBinariesTestPlugin.class.getName() + ".apply()");
  ModelMapSchema<TestSuiteContainer> schema=(ModelMapSchema<TestSuiteContainer>)schemaStore.getSchema(ModelType.of(TestSuiteContainer.class));
  ModelReference<RuleAwarePolymorphicNamedEntityInstantiator<ComponentSpec>> componentTypeRegistryType=ModelReference.of(ModelPath.path("componentTypeRegistry"),new ModelType<RuleAwarePolymorphicNamedEntityInstantiator<ComponentSpec>>(){
  }
);
  ModelCreator testSuitesCreator=ModelMapCreators.specialized(ModelPath.path("testSuites"),TestSuiteSpec.class,TestSuiteContainer.class,schema.getManagedImpl().asSubclass(TestSuiteContainer.class),componentTypeRegistryType,descriptor);
  modelRegistry.create(testSuitesCreator);
}
