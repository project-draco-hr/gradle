{
  super.setUp();
  deployTaskFactoryMock=context.mock(DeployTaskFactory.class);
  deployTaskMock=context.mock(CustomDeployTask.class);
  plexusContainerMock=context.mock(PlexusContainer.class);
  testRepository=new RemoteRepository();
  testSnapshotRepository=new RemoteRepository();
  mavenUploader=createMavenDeployer();
  mavenUploader.setDeployTaskFactory(deployTaskFactoryMock);
  mavenUploader.setRepository(testRepository);
  mavenUploader.setSnapshotRepository(testSnapshotRepository);
  mavenUploader.addProtocolProviderJars(TEST_PROTOCOL_PROVIDER_JARS);
  mavenUploader.setUniqueVersion(false);
}
