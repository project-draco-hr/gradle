{
  final File daemonRegistryFile=get(DaemonDir.class).getRegistry();
  return daemonRegistryCache.get(daemonRegistryFile,new Factory<DaemonRegistry>(){
    public DaemonRegistry create(){
      return new PersistentDaemonRegistry(daemonRegistryFile,get(FileLockManager.class));
    }
  }
);
}
