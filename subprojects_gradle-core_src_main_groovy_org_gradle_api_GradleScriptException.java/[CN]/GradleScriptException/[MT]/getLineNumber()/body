{
  if (lineNumber != null)   return lineNumber;
  Integer foundLineNumber=null;
  String scriptFileName=scriptSource.getDebugInfo();
  for (Throwable currentException=this; currentException != null; currentException=currentException.getCause()) {
    for (    StackTraceElement element : currentException.getStackTrace()) {
      if (scriptFileName.equals(element.getFileName()) && element.getLineNumber() >= 0) {
        foundLineNumber=element.getLineNumber();
        break;
      }
    }
  }
  return foundLineNumber;
}
