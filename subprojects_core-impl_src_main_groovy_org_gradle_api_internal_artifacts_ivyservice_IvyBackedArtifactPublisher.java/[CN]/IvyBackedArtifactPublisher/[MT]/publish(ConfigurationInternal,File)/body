{
  List<DependencyResolver> publishResolvers=resolverProvider.getResolvers();
  Ivy ivy=ivyForPublish(publishResolvers);
  Set<Configuration> configurationsToPublish=configuration.getHierarchy();
  Set<String> confs=Configurations.getNames(configurationsToPublish,false);
  writeDescriptorFile(descriptorDestination,configurationsToPublish,ivy.getSettings(),configuration.getModule());
  dependencyPublisher.publish(confs,publishResolvers,publishModuleDescriptorConverter.convert(configurationsToPublish,configuration.getModule(),new IvyConfig(ivy.getSettings())),descriptorDestination,ivy.getPublishEngine());
}
