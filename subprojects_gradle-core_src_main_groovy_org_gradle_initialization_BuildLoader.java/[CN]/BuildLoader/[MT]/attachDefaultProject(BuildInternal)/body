{
  ProjectSpec selector=build.getStartParameter().getDefaultProjectSelector();
  ProjectInternal defaultProject;
  try {
    defaultProject=selector.selectProject(build.getRootProject().getProjectRegistry());
  }
 catch (  InvalidUserDataException e) {
    throw new GradleException(String.format("Could not select the default project for this build. %s",e.getMessage()),e);
  }
  build.setDefaultProject(defaultProject);
}
