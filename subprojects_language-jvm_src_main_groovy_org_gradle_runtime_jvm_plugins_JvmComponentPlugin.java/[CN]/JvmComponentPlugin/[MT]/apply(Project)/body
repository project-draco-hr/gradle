{
  project.getPlugins().apply(ComponentModelBasePlugin.class);
  ProjectComponentContainer projectComponents=project.getExtensions().getByType(ProjectComponentContainer.class);
  projectComponents.registerFactory(ProjectJvmLibrary.class,new NamedDomainObjectFactory<ProjectJvmLibrary>(){
    public ProjectJvmLibrary create(    String name){
      ComponentSpecIdentifier id=new DefaultComponentSpecIdentifier(project.getPath(),name);
      return new DefaultProjectJvmLibrary(id);
    }
  }
);
  final NamedDomainObjectContainer<ProjectJvmLibrary> jvmLibraries=projectComponents.containerWithType(ProjectJvmLibrary.class);
  project.getExtensions().create("jvm",DefaultJvmComponentExtension.class,jvmLibraries);
}
