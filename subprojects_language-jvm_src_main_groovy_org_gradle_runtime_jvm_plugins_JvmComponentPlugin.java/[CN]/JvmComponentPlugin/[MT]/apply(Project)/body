{
  project.getPlugins().apply(LifecycleBasePlugin.class);
  project.getPlugins().apply(LanguageBasePlugin.class);
  ProjectComponentContainer softwareComponents=project.getExtensions().getByType(ProjectComponentContainer.class);
  softwareComponents.registerFactory(JvmLibrary.class,new NamedDomainObjectFactory<JvmLibrary>(){
    public JvmLibrary create(    String name){
      return new DefaultJvmLibrary(name);
    }
  }
);
  NamedDomainObjectContainer<JvmLibrary> jvmLibraries=softwareComponents.containerWithType(JvmLibrary.class);
  project.getExtensions().create("jvm",DefaultJvmComponentExtension.class,jvmLibraries);
  modelRules.register("jvm.libraries",jvmLibraries);
  modelRules.rule(new CreateJvmBinaries(new DefaultBinaryNamingSchemeBuilder(),project.getBuildDir()));
  modelRules.rule(new CreateTasksForJvmBinaries());
}
