{
  Set<IDependencyImplementationFactory> dependencyImpls=WrapUtil.toSet(new ModuleDependencyFactory(),new ProjectDependencyFactory());
  DefaultDependencyManager dependencyManager=new DefaultDependencyManager(new DefaultIvyFactory(),new DependencyFactory(dependencyImpls),new DefaultResolverFactory(new LocalReposCacheHandler(buildResolverDir)),new DefaultSettingsConverter(),new DefaultModuleDescriptorConverter(),new DefaultDependencyResolver(new Report2Classpath()),new DefaultDependencyPublisher(),buildResolverDir,new DefaultExcludeRuleContainer());
  dependencyManager.setProject(project);
  return dependencyManager;
}
