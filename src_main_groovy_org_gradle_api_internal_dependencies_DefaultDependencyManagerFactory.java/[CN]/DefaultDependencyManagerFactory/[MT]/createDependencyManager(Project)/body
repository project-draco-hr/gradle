{
  Set<IDependencyImplementationFactory> dependencyImpls=WrapUtil.toSet(new ModuleDependencyFactory(),new ArtifactDependencyFactory(),new ProjectDependencyFactory());
  DefaultDependencyManager dependencyManager=new DefaultDependencyManager(new DefaultIvyFactory(),new DependencyFactory(dependencyImpls),new ArtifactFactory(),new SettingsConverter(),new ModuleDescriptorConverter(),new DefaultDependencyResolver(new Report2Classpath()),new DefaultDependencyPublisher(),new DefaultMavenPomGenerator(new DefaultPomModuleDescriptorFileWriter(new DefaultPomModuleDescriptorWriter(new DefaultPomModuleDescriptorHeaderWriter(),new DefaultPomModuleDescriptorModuleIdWriter(),new DefaultPomModuleDescriptorDependenciesWriter(new DefaultPomModuleDescriptorDependenciesConverter(new DefaultExcludeRuleConverter())))),new DefaultConf2ScopeMappingContainer()),buildResolverDir,new DefaultExcludeRuleContainer());
  dependencyManager.setProject(project);
  return dependencyManager;
}
