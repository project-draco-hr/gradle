{
  Set<IDependencyImplementationFactory> dependencyImpls=WrapUtil.toSet(new ModuleDependencyFactory(),new ArtifactDependencyFactory(),new ProjectDependencyFactory());
  DefaultDependencyManager dependencyManager=new DefaultDependencyManager(new DefaultIvyFactory(),new DependencyFactory(dependencyImpls),new ArtifactFactory(),new DefaultResolverFactory(new LocalReposCacheHandler(buildResolverDir)),new SettingsConverter(),new ModuleDescriptorConverter(),new DefaultDependencyResolver(new Report2Classpath()),new DefaultDependencyPublisher(),buildResolverDir,new DefaultExcludeRuleContainer());
  dependencyManager.setProject(project);
  return dependencyManager;
}
