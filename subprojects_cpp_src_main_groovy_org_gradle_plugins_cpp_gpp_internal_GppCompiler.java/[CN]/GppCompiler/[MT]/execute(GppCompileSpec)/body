{
  File workDir=spec.getWorkDir();
  ensureDirsExist(workDir,spec.getOutputFile().getParentFile());
  ExecAction compiler=new DefaultExecAction(spec.getProject().getFileResolver());
  compiler.executable("g++");
  compiler.workingDir(workDir);
  for (  Closure closure : spec.getSettings()) {
    closure.call(compiler);
  }
  compiler.execute();
  return new SimpleWorkResult(true);
}
