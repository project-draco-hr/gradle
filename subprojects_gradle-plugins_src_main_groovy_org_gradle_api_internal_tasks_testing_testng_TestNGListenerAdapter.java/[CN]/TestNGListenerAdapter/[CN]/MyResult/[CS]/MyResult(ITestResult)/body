{
switch (iTestResult.getStatus()) {
case ITestResult.SUCCESS:
case ITestResult.SUCCESS_PERCENTAGE_FAILURE:
    result=ResultType.SUCCESS;
  break;
case ITestResult.FAILURE:
result=ResultType.FAILURE;
error=iTestResult.getThrowable();
break;
case ITestResult.SKIP:
result=ResultType.SKIPPED;
break;
default :
result=ResultType.FAILURE;
error=new Error("Unexpected result status \'" + iTestResult.getStatus() + "\' returned from TestNG.");
}
}
