{
  ModelIdentifier modelIdentifier=modelMapping.getModelIdentifierFromModelType(type);
  BuildResult<?> result;
  try {
    if (type == GradleBuild.class && !getVersionDetails().isModelSupported(type)) {
      BuildResult<?> gradleProjectBuildResult=builder.getModel(modelMapping.getModelIdentifierFromModelType(EclipseProject.class),operationParameters);
      final Object gradleProjectModel=gradleProjectBuildResult.getModel();
      final EclipseProject adapt=adapter.adapt(EclipseProject.class,gradleProjectModel);
      final DefaultGradleBuild convert=new GradleBuildConverter().convert(adapt);
      result=new BuildResult(){
        public Object getModel(){
          return convert;
        }
      }
;
    }
 else {
      result=builder.getModel(modelIdentifier,operationParameters);
    }
  }
 catch (  InternalUnsupportedModelException e) {
    throw Exceptions.unknownModel(type,e);
  }
  Object model=result.getModel();
  return adapter.adapt(type,model);
}
