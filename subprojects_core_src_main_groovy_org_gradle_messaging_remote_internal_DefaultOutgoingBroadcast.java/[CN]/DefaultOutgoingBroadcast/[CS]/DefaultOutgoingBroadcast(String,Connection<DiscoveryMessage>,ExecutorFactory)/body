{
  this.group=group;
  this.executor=executor;
  DiscardingFailureHandler<DiscoveryMessage> failureHandler=new DiscardingFailureHandler<DiscoveryMessage>(LOGGER);
  connector=new TcpOutgoingConnector<Object>(new DefaultMessageSerializer<Object>(getClass().getClassLoader()));
  protocolStack=new ProtocolStack<DiscoveryMessage>(channel,channel,executor.create("discovery protocol"),failureHandler,failureHandler,failureHandler,new ChannelLookupProtocol());
  protocolStack.receiveOn(new DiscoveryMessageDispatch());
}
