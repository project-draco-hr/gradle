{
  this.group=group;
  this.outgoingConnector=outgoingConnector;
  DispatchFailureHandler<Object> failureHandler=new DiscardingFailureHandler<Object>(LOGGER);
  hub=new MessageHub("outgoing broadcast",nodeName,executorFactory,idGenerator,messagingClassLoader);
  StoppableExecutor discoveryExecutor=executorFactory.create("broadcast lookup");
  executors.add(discoveryExecutor);
  discoveryBroadcast=new ProtocolStack<DiscoveryMessage>(discoveryExecutor,failureHandler,failureHandler,new ChannelLookupProtocol());
  connection.dispatchTo(new GroupMessageFilter(group,discoveryBroadcast.getBottom()));
  discoveryBroadcast.getBottom().dispatchTo(connection);
  discoveryBroadcast.getTop().dispatchTo(new DiscoveryMessageDispatch());
}
