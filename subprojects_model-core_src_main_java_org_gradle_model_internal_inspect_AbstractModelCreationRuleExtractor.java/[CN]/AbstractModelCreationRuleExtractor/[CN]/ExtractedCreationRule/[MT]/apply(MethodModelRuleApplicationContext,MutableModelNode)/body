{
  if (!target.getPath().equals(ModelPath.ROOT)) {
    throw new InvalidModelRuleDeclarationException(String.format("Rule %s cannot be applied at the scope of model element %s as creation rules cannot be used when applying rule sources to particular elements",ruleDefinition.getDescriptor(),target.getPath()));
  }
  ModelRegistrations.Builder registration=ModelRegistrations.of(modelPath).descriptor(ruleDefinition.getDescriptor());
  buildRegistration(context,registration);
  registration.hidden(ruleDefinition.isAnnotationPresent(Hidden.class));
  context.getRegistry().register(registration.build());
}
