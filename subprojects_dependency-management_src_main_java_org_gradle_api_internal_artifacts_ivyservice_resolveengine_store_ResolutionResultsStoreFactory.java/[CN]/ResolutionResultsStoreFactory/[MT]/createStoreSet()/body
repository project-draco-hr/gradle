{
  return new StoreSet(){
    int storeSetId=storeSetBaseId++;
    int binaryStoreId;
    public DefaultBinaryStore nextBinaryStore(){
      String storeKey=Thread.currentThread().getId() + "-" + binaryStoreId++;
      return createBinaryStore(storeKey);
    }
    public Store<ResolvedComponentResult> newModelCache(){
      if (oldModelCache == null) {
        oldModelCache=new CachedStoreFactory("Resolution result");
        cleanUpLater.add(oldModelCache);
      }
      return oldModelCache.createCachedStore(storeSetId);
    }
    public Store<TransientConfigurationResults> oldModelCache(){
      if (newModelCache == null) {
        newModelCache=new CachedStoreFactory("Resolved configuration");
        cleanUpLater.add(newModelCache);
      }
      return newModelCache.createCachedStore(storeSetId);
    }
  }
;
}
