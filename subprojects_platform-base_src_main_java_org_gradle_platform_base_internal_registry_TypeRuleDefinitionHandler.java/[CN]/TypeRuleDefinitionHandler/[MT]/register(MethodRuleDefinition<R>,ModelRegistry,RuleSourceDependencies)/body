{
  try {
    ModelType<? extends T> type=readType(ruleDefinition);
    TypeBuilderInternal<T> builder=typeBuilderFactory.create();
    ruleDefinition.getRuleInvoker().invoke(builder);
    doRegister(ruleDefinition,modelRegistry,dependencies,type,builder);
  }
 catch (  InvalidModelException e) {
    invalidModelRule(ruleDefinition,e);
  }
}
