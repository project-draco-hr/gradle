{
  if (message instanceof WorkerStopped) {
    LOGGER.debug("Received worker stopped: {}",message);
    context.stopped();
  }
 else   if (message instanceof Request) {
    Request request=(Request)message;
    LOGGER.debug("Dispatching request to worker: {}",message);
    worker.dispatch(request.getPayload());
  }
 else {
    throw new IllegalArgumentException(String.format("Unexpected incoming message received: %s",message));
  }
}
