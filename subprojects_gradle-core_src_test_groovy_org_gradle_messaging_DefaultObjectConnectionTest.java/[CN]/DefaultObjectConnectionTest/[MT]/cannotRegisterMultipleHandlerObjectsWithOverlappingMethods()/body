{
  receiver.addIncoming(TestRemote3.class,context.mock(TestRemote3.class));
  try {
    receiver.addIncoming(TestRemote.class,context.mock(TestRemote.class));
    fail();
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),equalTo("A handler has already been added for type '" + TestRemote.class.getName() + "'."));
  }
}
