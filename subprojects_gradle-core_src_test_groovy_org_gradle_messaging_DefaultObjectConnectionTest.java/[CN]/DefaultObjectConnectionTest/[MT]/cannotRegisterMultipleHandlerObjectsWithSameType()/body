{
  TestRemote handler=context.mock(TestRemote.class);
  receiver.addIncoming(TestRemote.class,handler);
  try {
    receiver.addIncoming(TestRemote.class,handler);
    fail();
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),equalTo("A handler has already been added for type '" + TestRemote.class.getName() + "'."));
  }
}
