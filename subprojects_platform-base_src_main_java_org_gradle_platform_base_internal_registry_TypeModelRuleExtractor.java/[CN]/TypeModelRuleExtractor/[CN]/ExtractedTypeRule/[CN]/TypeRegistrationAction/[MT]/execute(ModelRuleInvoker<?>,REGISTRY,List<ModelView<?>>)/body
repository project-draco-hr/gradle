{
  try {
    ModelSchema<PUBLICTYPE> schema=schemaStore.getSchema(publicType);
    BUILDER builder=createBuilder(schema);
    invoker.invoke(builder);
    ModelType<? extends BASEIMPL> implModelType=determineImplementationType(publicType,builder);
    register(registry,schema,builder,implModelType);
  }
 catch (  InvalidModelException e) {
    throw invalidModelRule(ruleDefinition,e);
  }
}
