{
  final String baseDescriptor=LanguageBasePlugin.class.getSimpleName() + "#";
  modelRegistry.configure(ModelActionRole.Defaults,DirectNodeNoInputsModelAction.of(ModelReference.of("binaries"),new SimpleModelRuleDescriptor(baseDescriptor + "attachBuildTasks"),new Action<MutableModelNode>(){
    @Override public void execute(    MutableModelNode binariesNode){
      binariesNode.applyToAllLinks(ModelActionRole.Finalize,InputUsingModelAction.single(ModelReference.of(BinarySpecInternal.class),new SimpleModelRuleDescriptor(baseDescriptor + "attachBuildTask"),ModelReference.of(ITaskFactory.class),new BiAction<BinarySpecInternal,ITaskFactory>(){
        @Override public void execute(        BinarySpecInternal binary,        ITaskFactory taskFactory){
          if (!binary.isLegacyBinary()) {
            TaskInternal binaryLifecycleTask=taskFactory.create(binary.getProjectScopedName(),DefaultTask.class);
            binaryLifecycleTask.setGroup(LifecycleBasePlugin.BUILD_GROUP);
            binaryLifecycleTask.setDescription(String.format("Assembles %s.",binary));
            binary.setBuildTask(binaryLifecycleTask);
          }
        }
      }
));
    }
  }
));
  modelRegistry.getRoot().applyToAllLinksTransitive(ModelActionRole.Defaults,DirectNodeNoInputsModelAction.of(ModelReference.of(BinarySpec.class),new SimpleModelRuleDescriptor(baseDescriptor + ComponentSpecInitializer.class.getSimpleName() + ".binaryAction()"),ComponentSpecInitializer.binaryAction()));
}
