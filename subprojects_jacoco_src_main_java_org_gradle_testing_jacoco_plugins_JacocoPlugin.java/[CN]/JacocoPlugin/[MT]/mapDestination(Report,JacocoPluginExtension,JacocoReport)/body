{
  final ConventionMapping mapping=((IConventionAware)report).getConventionMapping();
  if (Report.OutputType.DIRECTORY.equals(report.getOutputType())) {
    mapping.map("destination",new Callable<File>(){
      @Override public File call(){
        return new File(extension.getReportsDir(),reportTask.getName() + "/" + report.getName());
      }
    }
);
  }
 else {
    mapping.map("destination",new Callable<File>(){
      @Override public File call(){
        return new File(extension.getReportsDir(),reportTask.getName() + "/" + reportTask.getName()+ "."+ report.getName());
      }
    }
);
  }
}
