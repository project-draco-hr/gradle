{
  build.getBuildListenerBroadcaster().buildStarted(build);
  SettingsInternal settings=null;
  Throwable failure=null;
  try {
    settings=settingsHandler.findAndLoadSettings(build,gradlePropertiesLoader);
    build.getBuildListenerBroadcaster().settingsEvaluated(settings);
    runSpecification.run(build,settings.getRootProject());
  }
 catch (  Throwable t) {
    failure=t;
  }
  BuildResult buildResult=new BuildResult(settings,build,failure);
  build.getBuildListenerBroadcaster().buildFinished(buildResult);
  return buildResult;
}
