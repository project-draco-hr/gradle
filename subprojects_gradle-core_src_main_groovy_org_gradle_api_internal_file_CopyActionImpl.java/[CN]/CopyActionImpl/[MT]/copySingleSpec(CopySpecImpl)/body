{
  File destDir=spec.getDestDir();
  if (destDir == null) {
    logger.error("No destination dir for Copy task");
    throw new InvalidUserDataException("Error - no destination for Copy task, use 'into' to specify a target directory.");
  }
  visitor.visitSpec(spec);
  PatternSet patterns=new PatternSet();
  patterns.setCaseSensitive(caseSensitive);
  patterns.include(spec.getAllIncludes());
  patterns.exclude(spec.getAllExcludes());
  spec.getSource().matching(patterns).visit(visitor);
}
