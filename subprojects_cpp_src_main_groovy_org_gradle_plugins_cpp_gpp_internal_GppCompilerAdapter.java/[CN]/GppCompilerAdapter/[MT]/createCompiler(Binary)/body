{
  String version=getVersion();
  if (version == null) {
    throw new IllegalStateException("Cannot create gpp compiler when it is not available");
  }
  String[] components=version.split("\\.");
  int majorVersion;
  try {
    majorVersion=Integer.valueOf(components[0]);
  }
 catch (  NumberFormatException e) {
    throw new IllegalStateException(String.format("Unable to determine major g++ version from version number {}",version),e);
  }
  return new GppCompiler(getExecutable(),getExecActionFactory(),majorVersion >= 4);
}
