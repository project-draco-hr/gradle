{
  if (!options.isFork()) {
    return inProcessCompilerFactory.create(options);
  }
  if (options.getForkOptions().isUseCompilerDaemon()) {
    return new DaemonJavaCompiler(project,inProcessCompilerFactory.create(options));
  }
  return new ForkingJavaCompiler(project);
}
