{
  ModuleRevisionId id=descriptor.getModuleRevisionId();
  if (!copy(id).equals(copy(dependencyDescriptor.getDependencyRevisionId()))) {
    onUnexpectedModuleRevisionId(descriptor);
  }
  for (  Configuration configuration : descriptor.getConfigurations()) {
    for (    String parent : configuration.getExtends()) {
      if (descriptor.getConfiguration(parent) == null) {
        throw new ModuleVersionResolveException(String.format("Configuration '%s' extends unknown configuration '%s' in module descriptor for group:%s, module:%s, version:%s.",configuration.getName(),parent,id.getOrganisation(),id.getName(),id.getRevision()));
      }
    }
  }
}
