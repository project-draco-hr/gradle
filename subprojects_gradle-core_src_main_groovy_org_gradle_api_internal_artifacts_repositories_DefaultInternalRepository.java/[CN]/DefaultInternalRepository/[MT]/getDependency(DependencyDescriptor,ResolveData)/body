{
  if (!projects.containsKey(dd.getDependencyRevisionId())) {
    return data.getCurrentResolvedModuleRevision();
  }
  IvyContext context=IvyContext.pushNewCopyContext();
  try {
    context.setDependencyDescriptor(dd);
    context.setResolveData(data);
    Project project=projects.get(dd.getDependencyRevisionId());
    DefaultModule module=new DefaultModule(project.getGroup().toString(),project.getName(),project.getVersion().toString(),project.getStatus().toString());
    ModuleDescriptor moduleDescriptor=moduleDescriptorConverter.convertForPublish(project.getConfigurations().getAll(),false,module,IvyContext.getContext().getIvy().getSettings());
    MetadataArtifactDownloadReport downloadReport=new MetadataArtifactDownloadReport(moduleDescriptor.getMetadataArtifact());
    downloadReport.setDownloadStatus(DownloadStatus.NO);
    downloadReport.setSearched(false);
    return new ResolvedModuleRevision(this,this,moduleDescriptor,downloadReport);
  }
  finally {
    IvyContext.popContext();
  }
}
