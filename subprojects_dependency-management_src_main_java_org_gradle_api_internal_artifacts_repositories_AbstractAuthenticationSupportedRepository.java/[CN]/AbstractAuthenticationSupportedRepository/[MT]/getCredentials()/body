{
  if (credentials != null && !(credentials instanceof PasswordCredentials)) {
    throw new IllegalStateException(String.format("Requested credentials must be of type '%s'.",PasswordCredentials.class.getName()));
  }
  return (PasswordCredentials)credentials;
}
