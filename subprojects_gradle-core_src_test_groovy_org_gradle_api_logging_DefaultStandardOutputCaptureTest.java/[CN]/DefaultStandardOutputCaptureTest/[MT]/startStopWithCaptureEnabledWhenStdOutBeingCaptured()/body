{
  StandardOutputLogging.onOut(LogLevel.ERROR);
  StandardOutputLogging.onErr(LogLevel.DEBUG);
  standardOutputCapture.captureStandardOutput(LogLevel.DEBUG);
  StandardOutputState oldState=StandardOutputLogging.getStateSnapshot();
  standardOutputCapture.start();
  assertSame(StandardOutputLogging.getOut(),System.out);
  assertSame(StandardOutputLogging.getErr(),System.err);
  assertEquals(StandardOutputLogging.getOutAdapter().getLevel(),LogLevel.DEBUG);
  assertEquals(StandardOutputLogging.getErrAdapter().getLevel(),LogLevel.ERROR);
  standardOutputCapture.stop();
  assertEquals(oldState,StandardOutputLogging.getStateSnapshot());
}
