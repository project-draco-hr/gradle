{
  StandardOutputState oldState=StandardOutputLogging.getStateSnapshot();
  standardOutputCapture.captureStandardOutput(LogLevel.DEBUG);
  standardOutputCapture.start();
  assertSame(StandardOutputLogging.getOut(),System.out);
  assertSame(StandardOutputLogging.getErr(),System.err);
  assertEquals(StandardOutputLogging.getOutAdapter().getLevel(),LogLevel.DEBUG);
  assertEquals(StandardOutputLogging.getErrAdapter().getLevel(),LogLevel.ERROR);
  standardOutputCapture.captureStandardOutput(LogLevel.WARN);
  assertSame(StandardOutputLogging.getOut(),System.out);
  assertSame(StandardOutputLogging.getErr(),System.err);
  assertEquals(StandardOutputLogging.getOutAdapter().getLevel(),LogLevel.WARN);
  assertEquals(StandardOutputLogging.getErrAdapter().getLevel(),LogLevel.ERROR);
  standardOutputCapture.stop();
  assertEquals(oldState,StandardOutputLogging.getStateSnapshot());
}
