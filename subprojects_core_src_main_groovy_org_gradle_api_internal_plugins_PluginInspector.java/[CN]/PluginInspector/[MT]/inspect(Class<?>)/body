{
  boolean implementsInterface=Plugin.class.isAssignableFrom(type);
  boolean hasRules=this.modelRuleSourceDetector.hasModelSources(type);
  if (implementsInterface) {
    @SuppressWarnings("unchecked") Class<? extends Plugin<?>> asPluginImplType=(Class<? extends Plugin<?>>)type;
    if (hasRules) {
      return new PotentialHybridImperativeAndRulesPlugin(asPluginImplType);
    }
 else {
      return new PotentialImperativeClassPlugin(asPluginImplType);
    }
  }
 else   if (hasRules) {
    return new PotentialPureRuleSourceClassPlugin(type);
  }
 else {
    return new PotentialUnknownTypePlugin(type);
  }
}
