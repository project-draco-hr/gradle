{
  String name=configurationMetadata.getName();
  if (visited.contains(name)) {
    return accumulator;
  }
  visited.add(name);
  accumulator.addAll(artifactsByConfig.get(name));
  if (parents != null) {
    for (    DefaultConfigurationMetadata parent : parents) {
      getArtifactsForConfiguration(parent,accumulator,visited);
    }
  }
  return accumulator;
}
