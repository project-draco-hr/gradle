{
  GradleLauncherFactory gradleLauncherFactory=sharedServices.get(GradleLauncherFactory.class);
  CompositeBuildContext context=sharedServices.get(CompositeBuildContext.class);
  BuildExceptionReporter exceptionReporter=new BuildExceptionReporter(sharedServices.get(StyledTextOutputFactory.class),buildStartParam,client);
  CompositeContextBuildActionRunner contextBuilder=new CompositeContextBuildActionRunner(context,propagateFailures,exceptionReporter);
  for (  GradleParticipantBuild participant : participantBuilds) {
    StartParameter participantStartParam=buildStartParam.newInstance();
    participantStartParam.setProjectDir(participant.getProjectDir());
    participantStartParam.setIncludedBuilds(Collections.<File>emptyList());
    participantStartParam.setConfigureOnDemand(false);
    if (participantStartParam.getLogLevel() == LogLevel.LIFECYCLE) {
      participantStartParam.setLogLevel(LogLevel.QUIET);
      LOGGER.lifecycle("[composite-build] Configuring participant: " + participant.getProjectDir());
    }
    GradleLauncher gradleLauncher=createGradleLauncher(participantStartParam,requestContext,gradleLauncherFactory);
    contextBuilder.run(new GradleBuildController(gradleLauncher));
  }
}
