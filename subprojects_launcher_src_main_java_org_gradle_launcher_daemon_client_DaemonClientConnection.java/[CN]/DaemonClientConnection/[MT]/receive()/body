{
  try {
    Object result=connection.receive();
    LOG.debug("thread {}: received {}",Thread.currentThread().getId(),result == null ? "null" : result.getClass());
    return result;
  }
 catch (  Exception e) {
    LOG.debug("Problem receiving message to the daemon. Performing 'on failure' operation...");
    onFailure.run();
    throw new GradleException("Unable to receive a message from the daemon.",e);
  }
}
