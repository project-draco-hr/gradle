{
  WorkerProcess process=createWorkerProcess(workingDir,workerFactory,findBugsClasspath,spec);
  process.start();
  PlayWorkerClient clientCallBack=new PlayWorkerClient();
  process.getConnection().addIncoming(PlayRunWorkerClientProtocol.class,clientCallBack);
  PlayRunWorkerServerProtocol playRunWorkerServerProtocol=process.getConnection().addOutgoing(PlayRunWorkerServerProtocol.class);
  process.getConnection().connect();
  PlayRunResult result=clientCallBack.getResult();
  if (result.isSuccessful()) {
    return new PlayApplicationRunnerToken(process,playRunWorkerServerProtocol);
  }
 else {
    throw new GradleException("Unable to start Play application.",result.getException());
  }
}
