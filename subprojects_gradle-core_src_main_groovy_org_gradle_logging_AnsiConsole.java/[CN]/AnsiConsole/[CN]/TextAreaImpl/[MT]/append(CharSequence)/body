{
  if (text.length() == 0) {
    return;
  }
  container.redraw(this,new Action<Ansi>(){
    public void execute(    Ansi ansi){
      if (extraEol) {
        ansi.cursorUp(1);
        ansi.cursorRight(width);
        extraEol=false;
      }
      StringTokenizer tokenizer=new StringTokenizer(text.toString(),EOL,true);
      while (tokenizer.hasMoreTokens()) {
        String token=tokenizer.nextToken();
        if (token.equals(EOL)) {
          width=0;
          extraEol=false;
        }
 else {
          width+=token.length();
        }
        ansi.a(token);
      }
    }
  }
);
}
