{
  resolver.resolve(dependency,result);
  DependencyDescriptor descriptor=dependency.getDescriptor();
  if (result.getFailure() != null || !(descriptor instanceof ClientModuleDependencyDescriptor)) {
    return;
  }
  ClientModuleDependencyDescriptor clientModuleDependencyDescriptor=(ClientModuleDependencyDescriptor)descriptor;
  ModuleDescriptor moduleDescriptor=clientModuleDependencyDescriptor.getTargetModule();
  ModuleRevisionId moduleRevisionId=moduleDescriptor.getModuleRevisionId();
  ModuleVersionIdentifier moduleVersionIdentifier=DefaultModuleVersionIdentifier.newId(moduleRevisionId.getOrganisation(),moduleRevisionId.getName(),moduleRevisionId.getRevision());
  result.setMetaData(moduleVersionIdentifier,moduleDescriptor);
}
