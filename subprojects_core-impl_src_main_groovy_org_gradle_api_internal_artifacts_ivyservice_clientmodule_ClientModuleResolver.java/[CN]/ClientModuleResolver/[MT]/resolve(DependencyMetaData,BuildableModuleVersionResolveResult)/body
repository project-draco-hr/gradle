{
  resolver.resolve(dependency,result);
  DependencyDescriptor descriptor=dependency.getDescriptor();
  if (result.getFailure() != null || !(descriptor instanceof ClientModuleDependencyDescriptor)) {
    return;
  }
  ClientModuleDependencyDescriptor clientModuleDependencyDescriptor=(ClientModuleDependencyDescriptor)descriptor;
  ModuleVersionMetaData clientModuleMetaData=clientModuleDependencyDescriptor.getTargetModule();
  ModuleSource moduleSource=result.getMetaData().getSource();
  result.setMetaData(clientModuleMetaData.withSource(moduleSource));
}
