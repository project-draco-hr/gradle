{
  final ModuleVersionResolver moduleVersionResolver=resolver.create(dependencyDescriptor);
  if (!(dependencyDescriptor instanceof ClientModuleDependencyDescriptor)) {
    return moduleVersionResolver;
  }
  ClientModuleDependencyDescriptor clientModuleDependencyDescriptor=(ClientModuleDependencyDescriptor)dependencyDescriptor;
  final ModuleDescriptor moduleDescriptor=clientModuleDependencyDescriptor.getTargetModule();
  return new ModuleVersionResolver(){
    public ModuleRevisionId getId() throws ModuleVersionResolveException {
      return moduleDescriptor.getModuleRevisionId();
    }
    public ModuleDescriptor getDescriptor() throws ModuleVersionResolveException {
      return moduleDescriptor;
    }
    public File getArtifact(    Artifact artifact) throws ArtifactResolveException {
      return moduleVersionResolver.getArtifact(artifact);
    }
  }
;
}
