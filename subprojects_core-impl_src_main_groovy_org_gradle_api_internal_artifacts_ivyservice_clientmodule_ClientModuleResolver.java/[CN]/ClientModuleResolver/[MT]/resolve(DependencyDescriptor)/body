{
  final ModuleVersionResolveResult resolveResult=resolver.resolve(dependencyDescriptor);
  if (resolveResult.getFailure() != null || !(dependencyDescriptor instanceof ClientModuleDependencyDescriptor)) {
    return resolveResult;
  }
  ClientModuleDependencyDescriptor clientModuleDependencyDescriptor=(ClientModuleDependencyDescriptor)dependencyDescriptor;
  final ModuleDescriptor moduleDescriptor=clientModuleDependencyDescriptor.getTargetModule();
  return new ModuleVersionResolveResult(){
    public ModuleVersionResolveException getFailure(){
      return resolveResult.getFailure();
    }
    public ModuleRevisionId getId() throws ModuleVersionResolveException {
      return moduleDescriptor.getModuleRevisionId();
    }
    public ModuleDescriptor getDescriptor() throws ModuleVersionResolveException {
      return moduleDescriptor;
    }
    public File getArtifact(    Artifact artifact) throws ArtifactResolveException {
      return resolveResult.getArtifact(artifact);
    }
  }
;
}
