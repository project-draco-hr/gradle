{
  int kind=dataInput.readInt();
  if (kind == 1) {
    DefaultFileSnapshotterSerializer serializer=new DefaultFileSnapshotterSerializer();
    return serializer.read(dataInput);
  }
 else   if (kind == 2) {
    OutputFilesSnapshotter.Serializer serializer=new OutputFilesSnapshotter.Serializer();
    return serializer.read(dataInput);
  }
 else {
    throw new RuntimeException("Unable to rad from file snapshot cache. Unexpected value read.");
  }
}
