{
  testFile("settings.gradle").write("include 'another'");
  testFile("gradle.properties").writelns("prop=value2","otherProp=value");
  File subDirectory=new File(getTestDir(),"subdirectory");
  TestFile buildFile=testFile(subDirectory,"build.gradle");
  buildFile.writelns("task('do-stuff') << {","assert prop == 'value'","assert !project.hasProperty('otherProp')","}");
  testFile("subdirectory/gradle.properties").write("prop=value");
  inDirectory(subDirectory).withSearchUpwards().withTasks("do-stuff").run();
  usingProjectDir(subDirectory).withSearchUpwards().withTasks("do-stuff").run();
  usingBuildFile(buildFile).withSearchUpwards().withTasks("do-stuff").run();
}
