{
  List<RuleAction<? super ComponentSelection>> rules=Lists.newArrayList();
  if (versionMatcher.needModuleMetadata(requested.getVersion())) {
    rules.add(new MetadataVersionMatchingRule(requested.getVersion()));
  }
 else {
    rules.add(new SimpleVersionMatchingRule(requested.getVersion()));
  }
  rules.addAll(componentSelectionRules.getRules());
  return rules;
}
