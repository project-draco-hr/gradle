{
  if (dependencyArtifacts.isEmpty()) {
    return Collections.emptySet();
  }
  Set<String> includedConfigurations=fromConfiguration.getHierarchy();
  Set<ComponentArtifactMetadata> artifacts=Sets.newLinkedHashSet();
  for (  Map.Entry<IvyArtifactName,Set<String>> entry : dependencyArtifacts.entrySet()) {
    IvyArtifactName ivyArtifactName=entry.getKey();
    Set<String> artifactConfigurations=entry.getValue();
    if (include(artifactConfigurations,includedConfigurations)) {
      ComponentArtifactMetadata artifact=toConfiguration.artifact(ivyArtifactName);
      artifacts.add(artifact);
    }
  }
  return artifacts;
}
