{
  getResource().withContent(new Action<InputStream>(){
    public void execute(    InputStream inputStream){
      URL schemaURL=validate ? getSchemaURL() : null;
      InputSource inSrc=new InputSource(inputStream);
      inSrc.setSystemId(descriptorURL.toExternalForm());
      try {
        ParserHelper.parse(inSrc,schemaURL,Parser.this,null);
      }
 catch (      Exception e) {
        throw new MetaDataParseException("Ivy file",getResource(),e);
      }
    }
  }
);
  checkErrors();
  checkConfigurations();
  replaceConfigurationWildcards();
  if (!artifactsDeclared) {
    String[] configurationNames=getMd().getConfigurationsNames();
    IvyMDArtifact implicitArtifact=new IvyMDArtifact(getMd(),getMd().getModuleRevisionId().getName(),"jar","jar");
    for (    String configurationName : configurationNames) {
      implicitArtifact.addConfiguration(configurationName);
    }
    metaData.addArtifact(implicitArtifact);
  }
  checkErrors();
  getMd().check();
}
