{
  String org=elvis(substitute(attributes.getValue("org")),PatternMatcher.ANY_EXPRESSION);
  String mod=elvis(substitute(attributes.getValue("module")),PatternMatcher.ANY_EXPRESSION);
  String name=substitute(attributes.getValue(managerAtt));
  String rev=substitute(attributes.getValue("rev"));
  ConflictManager cm;
  if (rev != null) {
    String[] revs=rev.split(",");
    for (int i=0; i < revs.length; i++) {
      revs[i]=revs[i].trim();
    }
    cm=new FixedConflictManager(revs);
  }
 else   if (name != null) {
    cm=settings.getConflictManager(name);
    if (cm == null) {
      addError("unknown conflict manager: " + name);
      return;
    }
  }
 else {
    addError("bad conflict manager: no manager nor rev");
    return;
  }
  String matcherName=substitute(attributes.getValue("matcher"));
  PatternMatcher matcher=matcherName == null ? defaultMatcher : settings.getMatcher(matcherName);
  if (matcher == null) {
    addError("unknown matcher: " + matcherName);
    return;
  }
  getMd().addConflictManager(new ModuleId(org,mod),matcher,cm);
}
