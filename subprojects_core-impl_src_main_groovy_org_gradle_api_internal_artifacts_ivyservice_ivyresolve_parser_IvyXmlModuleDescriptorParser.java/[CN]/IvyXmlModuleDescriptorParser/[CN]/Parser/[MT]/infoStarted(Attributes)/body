{
  state=State.INFO;
  String org=substitute(attributes.getValue("organisation"));
  String module=substitute(attributes.getValue("module"));
  String revision=substitute(attributes.getValue("revision"));
  String branch=substitute(attributes.getValue("branch"));
  Map extraAttributes=ExtendableItemHelper.getExtraAttributes(settings,attributes,new String[]{"organisation","module","revision","status","publication","branch","namespace","default","resolver"});
  getMd().setModuleRevisionId(ModuleRevisionId.newInstance(org,module,branch,revision,extraAttributes));
  String namespace=substitute(attributes.getValue("namespace"));
  if (namespace != null) {
    Namespace ns=settings.getNamespace(namespace);
    if (ns == null) {
      Message.warn("namespace not found for " + getMd().getModuleRevisionId() + ": "+ namespace);
    }
 else {
      getMd().setNamespace(ns);
    }
  }
  getMd().setStatus(elvis(substitute(attributes.getValue("status")),settings.getStatusManager().getDefaultStatus()));
  getMd().setDefault(Boolean.valueOf(substitute(attributes.getValue("default"))));
  String pubDate=substitute(attributes.getValue("publication"));
  if (pubDate != null && pubDate.length() > 0) {
    try {
      final SimpleDateFormat ivyDateFormat=new SimpleDateFormat(IVY_DATE_FORMAT_PATTERN);
      getMd().setPublicationDate(ivyDateFormat.parse(pubDate));
    }
 catch (    ParseException e) {
      addError("invalid publication date format: " + pubDate);
      getMd().setPublicationDate(getDefaultPubDate());
    }
  }
 else {
    getMd().setPublicationDate(getDefaultPubDate());
  }
}
