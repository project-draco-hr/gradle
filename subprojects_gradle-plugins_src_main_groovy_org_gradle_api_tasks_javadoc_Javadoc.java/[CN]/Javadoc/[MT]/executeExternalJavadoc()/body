{
  javadocExecHandleBuilder.execDirectory(getProject().getRootDir()).options(options).optionsFile(getOptionsFile()).destinationDirectory(getDestinationDir());
  final ExecHandle execHandle=javadocExecHandleBuilder.getExecHandle();
switch (execHandle.startAndWaitForFinish()) {
case SUCCEEDED:
    break;
case ABORTED:
  throw new GradleException("Javadoc generation ended in aborted state (should not happen)." + execHandle.getState());
case FAILED:
if (failOnError) {
  throw new GradleException("Javadoc generation failed.",execHandle.getFailureCause());
}
 else {
  break;
}
default :
throw new GradleException("Javadoc generation ended in an unknown end state." + execHandle.getState());
}
}
