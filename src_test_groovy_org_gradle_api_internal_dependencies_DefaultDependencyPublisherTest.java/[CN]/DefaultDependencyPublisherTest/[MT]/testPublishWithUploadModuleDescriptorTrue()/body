{
  final PublishOptions publishOptions=new PublishOptions();
  publishOptions.setConfs(expectedConfs.toArray(new String[expectedConfs.size()]));
  publishOptions.setOverwrite(true);
  publishOptions.setSrcIvyPattern(expectedIvyFile.getAbsolutePath());
  context.checking(new Expectations(){
{
      one(publishEngineMock).publish(with(equal(expectedModuleDescriptor)),with(equal(expectedSrcArtifactPatterns)),(DependencyResolver)with(equal(expectedResolverContainer.getResolverList().get(0))),with(reflectionEquals(publishOptions)));
    }
  }
);
  dependencyPublisher.publish(expectedConfs,expectedResolverContainer,expectedModuleDescriptor,true,expectedIvyFile,dependencyManager);
}
