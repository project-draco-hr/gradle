{
  context.checking(new Expectations(){
{
      one(publishEngineMock).publish(with(same(moduleDescriptorMock)),with(equal(expectedSrcArtifactPatterns)),with(equal(testIvyDescriptorResolver)),with(reflectionEquals(createPublishOptions(expectedIvyFile))));
      one(publishEngineMock).publish(with(same(moduleDescriptorMock)),with(equal(expectedSrcArtifactPatterns)),with(equal(testPomDescriptorResolver)),with(reflectionEquals(createPublishOptions(expectedPomFile))));
      one(moduleDescriptorMock).toIvyFile(expectedIvyFile);
      one(mavenMockPomGenerator).toPomFile(moduleDescriptorMock,expectedPomFile);
    }
  }
);
  dependencyPublisher.publish(expectedConfs,resolverContainerMock,moduleDescriptorMock,true,expectedIvyFile.getParentFile(),dependencyManagerMock,publishEngineMock);
}
