{
  context.checking(new Expectations(){
{
      one(publishEngineMock).publish(with(same(moduleDescriptorMock)),with(equal(expectedSrcArtifactPatterns)),with(equal(testIvyDescriptorResolver)),with(Matchers.reflectionEquals(createPublishOptions(expectedIvyFile))));
      one(moduleDescriptorMock).toIvyFile(expectedIvyFile);
    }
  }
);
  dependencyPublisher.publish(expectedConfs,resolverContainerMock,moduleDescriptorMock,true,expectedIvyFile.getParentFile(),dependencyManagerMock,publishEngineMock);
}
