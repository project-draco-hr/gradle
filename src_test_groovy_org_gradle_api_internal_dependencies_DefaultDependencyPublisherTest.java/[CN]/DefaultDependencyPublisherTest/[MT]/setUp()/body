{
  publishEngineMock=context.mock(PublishEngine.class);
  dependencyPublisher=new DefaultDependencyPublisher();
  dependencyManager=new DefaultDependencyManager();
  dependencyManager.setAbsoluteArtifactPatterns(WrapUtil.toList("absolutePattern"));
  dependencyManager.setArtifactParentDirs(WrapUtil.toList(new File("a"),new File("b")));
  dependencyManager.setDefaultArtifactPattern(TEST_DEFAULT_PATTERN);
  expectedConfs=WrapUtil.toList("conf1");
  expectedResolverContainer=new ResolverContainer(null);
  expectedResolverContainer.add(new FileSystemResolver(),null);
  expectedModuleDescriptor=DefaultModuleDescriptor.newDefaultInstance(ModuleRevisionId.newInstance("org","name","1.0",new HashMap()));
  expectedIvyFile=new File(HelperUtil.makeNewTestDir(),"ivy.xml");
  expectedSrcArtifactPatterns=new ArrayList<String>();
  expectedSrcArtifactPatterns.addAll(dependencyManager.getAbsoluteArtifactPatterns());
  expectedSrcArtifactPatterns.add(new File("a",TEST_DEFAULT_PATTERN).getAbsolutePath());
  expectedSrcArtifactPatterns.add(new File("b",TEST_DEFAULT_PATTERN).getAbsolutePath());
}
