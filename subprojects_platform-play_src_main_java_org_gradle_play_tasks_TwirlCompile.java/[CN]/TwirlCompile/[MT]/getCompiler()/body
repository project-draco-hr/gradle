{
  if (compiler == null) {
    ProjectInternal projectInternal=(ProjectInternal)getProject();
    InProcessCompilerDaemonFactory inProcessCompilerDaemonFactory=getServices().get(InProcessCompilerDaemonFactory.class);
    TwirlCompiler twirlCompiler=new TwirlCompiler(new TwirlCompilerVersionedInvocationSpecBuilder());
    compiler=new DaemonTwirlCompiler(projectInternal.getProjectDir(),twirlCompiler,inProcessCompilerDaemonFactory,getCompilerClasspath().getFiles());
  }
  return compiler;
}
