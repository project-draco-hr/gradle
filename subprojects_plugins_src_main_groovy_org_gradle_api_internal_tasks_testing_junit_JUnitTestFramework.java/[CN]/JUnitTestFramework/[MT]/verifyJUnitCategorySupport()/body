{
  if (!options.getExcludeCategories().isEmpty() || !options.getIncludeCategories().isEmpty()) {
    ClassLoader testClassloader=new URLClassLoader(new DefaultClassPath(testTask.getClasspath()).getAsURLArray(),null);
    try {
      testClassloader.loadClass("org.junit.experimental.categories.Category");
    }
 catch (    ClassNotFoundException e) {
      throw new GradleException("JUnit Categories defined but declared JUnit version does not support Categories.");
    }
  }
}
