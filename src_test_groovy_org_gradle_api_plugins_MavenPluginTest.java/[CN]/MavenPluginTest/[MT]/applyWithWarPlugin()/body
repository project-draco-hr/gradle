{
  project.usePlugin(WarPlugin.class);
  mavenPlugin.use(project,project.getPlugins());
  assertHasConfigurationAndMapping(project,WarPlugin.PROVIDED_COMPILE_CONFIGURATION_NAME,Conf2ScopeMappingContainer.PROVIDED,MavenPlugin.PROVIDED_COMPILE_PRIORITY);
  assertHasConfigurationAndMapping(project,WarPlugin.PROVIDED_RUNTIME_CONFIGURATION_NAME,Conf2ScopeMappingContainer.PROVIDED,MavenPlugin.PROVIDED_RUNTIME_PRIORITY);
  Task task=project.getTasks().getByName(MavenPlugin.INSTALL_TASK_NAME);
  Set dependencies=task.getTaskDependencies().getDependencies(task);
  assertEquals(dependencies,toSet(project.getTasks().getByName(JavaPlugin.JAR_TASK_NAME),project.getTasks().getByName(WarPlugin.WAR_TASK_NAME)));
}
