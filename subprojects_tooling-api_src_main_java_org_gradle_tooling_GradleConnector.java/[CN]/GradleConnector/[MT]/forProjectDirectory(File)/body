{
  final ProtocolToModelAdapter adapter=new ProtocolToModelAdapter();
  GradleConnectionFactoryVersion1 factory=new DefaultGradleConnectionFactory();
  final GradleConnectionVersion1 gradleConnection=factory.create(projectDir);
  return new GradleConnection(){
    public <T extends Build>T getModel(    Class<T> viewType) throws UnsupportedVersionException {
      return adapter.adapt(viewType,gradleConnection.getModel(EclipseBuildVersion1.class));
    }
  }
;
}
