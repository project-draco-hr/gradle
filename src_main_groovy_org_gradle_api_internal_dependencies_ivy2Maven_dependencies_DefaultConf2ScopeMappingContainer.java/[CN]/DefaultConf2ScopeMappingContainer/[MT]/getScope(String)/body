{
  List<Conf2ScopeMapping> mappingWithHighestPriority=getMappingsWithHighestPriority(configurations);
  if (mappingWithHighestPriority.size() == 0) {
    return null;
  }
  if (hasDifferentScopes(mappingWithHighestPriority)) {
    throw new InvalidUserDataException("Mappings with same priority map to different scopes: " + mappingWithHighestPriority);
  }
  return mappingWithHighestPriority.get(0).getScope();
}
