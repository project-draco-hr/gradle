{
  DefaultClientModuleDescriptorFactory clientModuleDescriptorFactory=new DefaultClientModuleDescriptorFactory();
  ModuleDependency dependencyMock=context.mock(ModuleDependency.class);
  DependencyDescriptor dependencyDescriptorDummy=context.mock(DependencyDescriptor.class);
  final ModuleRevisionId TEST_MODULE_REVISION_ID=ModuleRevisionId.newInstance("org","name","version");
  DependencyDescriptorFactorySpy dependencyDescriptorFactorySpy=new DependencyDescriptorFactorySpy(dependencyDescriptorDummy);
  ModuleDescriptor moduleDescriptor=clientModuleDescriptorFactory.createModuleDescriptor(TEST_MODULE_REVISION_ID,WrapUtil.toSet(dependencyMock),dependencyDescriptorFactorySpy);
  assertThat(moduleDescriptor.getModuleRevisionId(),equalTo(TEST_MODULE_REVISION_ID));
  assertThatDescriptorHasOnlyDefaultConfiguration(moduleDescriptor);
  assertCorrectCallToDependencyDescriptorFactory(dependencyDescriptorFactorySpy,Dependency.DEFAULT_CONFIGURATION,moduleDescriptor,dependencyMock);
}
