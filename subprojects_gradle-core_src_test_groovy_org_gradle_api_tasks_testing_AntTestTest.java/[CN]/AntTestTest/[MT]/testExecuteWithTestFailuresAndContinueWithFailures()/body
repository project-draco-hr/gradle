{
  setUpMocks(test);
  setExistingDirsFilter();
  test.setStopAtFailuresOrErrors(false);
  context.checking(new Expectations(){
{
      one(testFrameworkInstanceMock).prepare(getProject(),test,testClassReceiverMock);
      one(testClassReceiverMock).getTestClassNames();
      will(returnValue(okTestClassNames));
      one(testFrameworkInstanceMock).execute(getProject(),test,okTestClassNames,new ArrayList<String>());
      one(testFrameworkInstanceMock).report(getProject(),test);
    }
  }
);
  test.execute();
}
