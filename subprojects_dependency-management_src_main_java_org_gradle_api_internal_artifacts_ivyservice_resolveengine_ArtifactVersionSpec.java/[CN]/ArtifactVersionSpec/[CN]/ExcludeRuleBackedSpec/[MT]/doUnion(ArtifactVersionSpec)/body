{
  if (!(other instanceof ExcludeRuleBackedSpec)) {
    return super.doUnion(other);
  }
  ExcludeRuleBackedSpec excludeRuleBackedSpec=(ExcludeRuleBackedSpec)other;
  if (excludeSpecs.equals(excludeRuleBackedSpec.excludeSpecs)) {
    return this;
  }
  for (  ArtifactVersionSpec excludeSpec : excludeSpecs) {
    if (excludeSpec instanceof ExcludeRuleSpec) {
      return super.doUnion(other);
    }
  }
  for (  ArtifactVersionSpec excludeSpec : excludeRuleBackedSpec.excludeSpecs) {
    if (excludeSpec instanceof ExcludeRuleSpec) {
      return super.doUnion(other);
    }
  }
  List<ArtifactVersionSpec> merged=new ArrayList<ArtifactVersionSpec>();
  if (merged.isEmpty()) {
    return ALL_SPEC;
  }
  return new ExcludeRuleBackedSpec(merged);
}
