{
  final ReforkReasonDataProcessor dataProcessor=context.mock(ReforkReasonDataProcessor.class);
  context.checking(new Expectations(){
{
      one(dataProcessor).getKey();
      will(returnValue(TestReforkReasons.TEST_KEY_1));
    }
  }
);
  control.addDataProcessor(dataProcessor);
  final ReforkReasonDataProcessor retrievedDataProcessor=control.getDataProcessor(TestReforkReasons.TEST_KEY_1);
  assertEquals(dataProcessor,retrievedDataProcessor);
  assertTrue(control.getReforkReasonKeys().contains(TestReforkReasons.TEST_KEY_1));
}
