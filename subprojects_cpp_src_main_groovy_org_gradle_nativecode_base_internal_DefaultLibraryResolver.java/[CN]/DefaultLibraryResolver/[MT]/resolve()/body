{
  for (  LibraryBinary candidate : library.getBinaries().withType(type)) {
    if (flavorName.equals(candidate.getFlavor().getName())) {
      return candidate.resolve();
    }
  }
  String typeName=type == SharedLibraryBinary.class ? "shared" : "static";
  throw new InvalidUserDataException(String.format("No %s library binary available for library '%s' with flavor '%s'",typeName,library.getName(),flavorName));
}
