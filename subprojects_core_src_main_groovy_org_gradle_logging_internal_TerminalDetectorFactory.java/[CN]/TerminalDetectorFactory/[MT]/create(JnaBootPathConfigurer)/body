{
  try {
    jnaBootPathConfigurer.configure();
    if (OperatingSystem.current().isWindows()) {
      return new WindowsTerminalDetector();
    }
    return new NativeServices().get(TerminalDetector.class);
  }
 catch (  NativeIntegrationUnavailableException e) {
    LOGGER.info("Unable to initialise the native integration for current platform: " + OperatingSystem.current() + ". Details: "+ e.getMessage());
    return new TerminalDetector(){
      public boolean isTerminal(      FileDescriptor fileDescriptor){
        return false;
      }
    }
;
  }
}
