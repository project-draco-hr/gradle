{
  String destinationPattern;
  if ("ivy".equals(artifact.getType()) && !getIvyPatterns().isEmpty()) {
    destinationPattern=getIvyPatterns().get(0);
  }
 else   if (!getArtifactPatterns().isEmpty()) {
    destinationPattern=getArtifactPatterns().get(0);
  }
 else {
    throw new IllegalStateException("impossible to publish " + artifact + " using "+ this+ ": no artifact pattern defined");
  }
  String destination=toResourcePattern(destinationPattern).toPath(artifact);
  put(src,destination);
  LOGGER.info("Published {} to {}",artifact.getName(),destination);
}
