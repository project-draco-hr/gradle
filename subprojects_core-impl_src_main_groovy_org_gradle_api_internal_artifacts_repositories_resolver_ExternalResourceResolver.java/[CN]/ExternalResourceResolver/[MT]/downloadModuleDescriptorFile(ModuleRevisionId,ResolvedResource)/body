{
  ModuleDescriptorParser parser=parserRegistry.forResource(resolvedResource.getResource());
  Artifact moduleArtifact=parser.getMetadataArtifact(dependencyRevisionId,resolvedResource.getResource());
  ArtifactResourceResolver artifactResourceResolver=new ArtifactResourceResolver(){
    public ResolvedResource resolve(    Artifact artifact){
      return resolvedResource;
    }
  }
;
  ArtifactDownloadReport report=repositoryCacheManager.download(moduleArtifact,artifactResourceResolver,resourceDownloader,new CacheDownloadOptions().setForce(true));
  if (report.getDownloadStatus() == DownloadStatus.FAILED) {
    LOGGER.warn("problem while downloading module descriptor: {}: {} ({} ms)",resolvedResource.getResource(),report.getDownloadDetails(),report.getDownloadTimeMillis());
    return null;
  }
  return report.getLocalFile();
}
