{
  if (!working) {
    throw new IllegalStateException("Cannot use cache outside a unit of work.");
  }
  if (lock == null) {
    lock=lockManager.lock(lockFile,Exclusive,cacheDiplayName,operationDisplayName);
  }
  return lock;
}
