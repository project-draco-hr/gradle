{
  final PatternSet patternSet=context.mock(PatternSet.class);
  final Spec spec=context.mock(Spec.class);
  context.checking(new Expectations(){
{
      one(patternSet).getAsSpec();
      will(returnValue(spec));
    }
  }
);
  DirectoryFileTree fileTree=new DirectoryFileTree(new File("root"),patternSet,directoryWalkerFactory);
  fileTree.visit(visitor);
}
