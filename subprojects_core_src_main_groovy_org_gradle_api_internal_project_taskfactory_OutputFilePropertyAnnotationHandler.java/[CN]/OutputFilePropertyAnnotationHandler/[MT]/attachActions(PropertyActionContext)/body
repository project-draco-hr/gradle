{
  context.setValidationAction(outputDirValidation);
  context.setConfigureAction(new UpdateAction(){
    public void update(    Task task,    final Callable<Object> futureValue){
      task.getOutputs().files(futureValue);
      task.doFirst(new Action<Task>(){
        public void execute(        Task task){
          Iterable<File> files;
          try {
            files=valueTransformer.transform(futureValue.call());
          }
 catch (          Exception e) {
            throw UncheckedException.throwAsUncheckedException(e);
          }
          for (          File file : files) {
            file=GFileUtils.canonicalise(file);
            GFileUtils.mkdirs(file.getParentFile());
          }
        }
      }
);
    }
  }
);
}
