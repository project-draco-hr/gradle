{
switch (type) {
case HIDE:
    return Specs.satisfyNone();
case ENTRY_POINT:
  return new TestEntryPointStackTraceFilter(descriptor);
case TRUNCATE:
return new TruncatingStackTraceFilter(new TestEntryPointStackTraceFilter(descriptor));
case GROOVY:
return new GroovyStackTraceFilter();
default :
throw new AssertionError();
}
}
