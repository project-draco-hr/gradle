{
  Spec<StackTraceElement> filter=createCompositeFilter(descriptor);
  List<StackTraceElement> filteredTrace=new ArrayList<StackTraceElement>();
  for (  StackTraceElement element : exception.getStackTrace()) {
    if (filter.isSatisfiedBy(element)) {
      filteredTrace.add(element);
    }
  }
  exception.setStackTrace(filteredTrace.toArray(new StackTraceElement[filteredTrace.size()]));
  if (exception.getCause() != null) {
    filterStackTrace(exception.getCause(),descriptor);
  }
}
