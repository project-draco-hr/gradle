{
  extractReferencePath(expression,new Action<VariableExpression>(){
    public void execute(    VariableExpression expression){
      String name=expression.getName();
      if (name.equals("$")) {
        referenceEncountered=true;
      }
 else {
        String path=getReferenceAliasPath(name);
        if (path != null) {
          referenceStack.push(path);
          referenceEncountered=true;
        }
      }
    }
  }
);
}
