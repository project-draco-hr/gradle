{
  if (pipeline == null)   throw new IllegalArgumentException("pipeline == null!");
  serversLock.writeLock().lock();
  try {
    final TestControlServer controlServer=controlServerFactory.createTestControlServer(pipeline);
    pipelineServers.put(pipeline,controlServer);
  }
  finally {
    serversLock.writeLock().unlock();
  }
}
