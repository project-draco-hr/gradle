{
  if (file.isDirectory()) {
    File[] contents=file.listFiles();
    if (contents == null) {
      return;
    }
    for (    File item : contents) {
      doDelete(item);
    }
  }
  if (!file.delete() && file.exists()) {
    handleFailedDelete(file);
  }
}
