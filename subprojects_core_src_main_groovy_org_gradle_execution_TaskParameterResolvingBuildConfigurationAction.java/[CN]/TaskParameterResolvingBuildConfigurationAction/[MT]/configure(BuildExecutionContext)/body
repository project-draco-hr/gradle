{
  GradleInternal gradle=context.getGradle();
  StartParameter parameters=gradle.getStartParameter();
  List<TaskParameter> taskParameters=parameters.getTaskParameters();
  if (taskParameters == null || taskParameters.isEmpty()) {
    context.proceed();
    return;
  }
  boolean hasParametersWithProjectPath=Iterables.any(taskParameters,new Predicate<TaskParameter>(){
    public boolean apply(    TaskParameter input){
      return input.getProjectPath() != null;
    }
  }
);
  if (!hasParametersWithProjectPath) {
    context.proceed();
    return;
  }
  LinkedHashSet<String> selectedTasks=new LinkedHashSet<String>();
  for (  TaskParameter parameter : taskParameters) {
    Set<Task> tasks=selector.getSelection(parameter).getTasks();
    for (    String selectedTask : Iterables.transform(tasks,new Function<Task,String>(){
      public String apply(      Task input){
        return input.getPath();
      }
    }
)) {
      selectedTasks.add(selectedTask);
    }
  }
  gradle.getStartParameter().setTaskNames(Lists.newArrayList(selectedTasks));
  context.proceed();
}
