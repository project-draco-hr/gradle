{
  ServiceRegistry registry=new RegistryWithAmbiguousFactoryMethods();
  try {
    registry.getFactory(Object.class);
    fail();
  }
 catch (  ServiceLookupException e) {
    assertThat(e.getMessage(),equalTo("Multiple factories for objects of type Object available in RegistryWithAmbiguousFactoryMethods."));
  }
}
