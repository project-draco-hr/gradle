{
  Set<ArtifactResult> sourceArtifactResults=componentResult.getArtifacts(type);
  final Instantiator instantiator=new DirectInstantiator();
  return CollectionUtils.collect(sourceArtifactResults,new Transformer<T,ArtifactResult>(){
    public T transform(    ArtifactResult original){
      if (original instanceof ResolvedArtifactResult) {
        return instantiator.newInstance(impl,((ResolvedArtifactResult)original).getFile());
      }
 else {
        return instantiator.newInstance(impl,((UnresolvedArtifactResult)original).getFailure());
      }
    }
  }
);
}
