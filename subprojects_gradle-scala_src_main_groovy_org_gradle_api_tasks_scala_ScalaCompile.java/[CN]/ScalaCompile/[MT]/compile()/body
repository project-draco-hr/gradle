{
  if (!GUtil.isTrue(getSourceCompatibility()) || !GUtil.isTrue(getTargetCompatibility())) {
    throw new InvalidUserDataException("The sourceCompatibility and targetCompatibility must be set!");
  }
  FileTree source=getSource();
  getAntScalaCompile().execute(source,getDestinationDir(),getClasspath(),getScalaCompileOptions());
  FileTree javaSource=getJavaSrc();
  List<File> classpath=GUtil.addLists(Collections.singleton(getDestinationDir()),getClasspath());
  javaSource.stopExecutionIfEmpty();
  antCompile.execute(javaSource,getDestinationDir(),getDependencyCacheDir(),classpath,getSourceCompatibility(),getTargetCompatibility(),getOptions(),getAnt());
}
