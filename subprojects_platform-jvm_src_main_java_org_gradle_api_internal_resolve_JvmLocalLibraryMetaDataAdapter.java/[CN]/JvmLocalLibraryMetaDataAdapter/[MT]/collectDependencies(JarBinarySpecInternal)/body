{
  final List<DependencySpec> dependencies=Lists.newArrayList(binary.getApiDependencies());
  Iterable<LanguageSourceSet> sourceSets=Iterables.concat(binary.getLibrary().getSources().values(),binary.getSources().values());
  for (  LanguageSourceSet sourceSet : sourceSets) {
    if (sourceSet instanceof DependentSourceSet) {
      dependencies.addAll(((DependentSourceSet)sourceSet).getDependencies().getDependencies());
    }
  }
  dependencies.addAll(binary.getDependencies());
  return dependencies;
}
