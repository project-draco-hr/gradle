{
  final ModuleComponentIdentifier componentIdentifier=md.getComponentIdentifier();
  List<IvyModuleArtifactPublishMetaData> ivyArtifacts=CollectionUtils.collect(md.getArtifacts(),new Transformer<IvyModuleArtifactPublishMetaData,Artifact>(){
    @Override public IvyModuleArtifactPublishMetaData transform(    Artifact artifact){
      return new DefaultIvyModuleArtifactPublishMetaData(componentIdentifier,artifact.getArtifactName(),artifact.getConfigurations());
    }
  }
);
  doWrite(md,ivyArtifacts,output);
}
