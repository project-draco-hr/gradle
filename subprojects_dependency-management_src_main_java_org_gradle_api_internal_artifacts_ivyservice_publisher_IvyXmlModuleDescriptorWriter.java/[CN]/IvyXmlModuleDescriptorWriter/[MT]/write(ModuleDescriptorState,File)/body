{
  final ModuleComponentIdentifier componentIdentifier=md.getComponentIdentifier();
  List<IvyModuleArtifactPublishMetadata> ivyArtifacts=CollectionUtils.collect(md.getArtifacts(),new Transformer<IvyModuleArtifactPublishMetadata,Artifact>(){
    @Override public IvyModuleArtifactPublishMetadata transform(    Artifact artifact){
      return new DefaultIvyModuleArtifactPublishMetadata(componentIdentifier,artifact.getArtifactName(),artifact.getConfigurations());
    }
  }
);
  doWrite(md,ivyArtifacts,output);
}
