{
  this.sourceAddress=sourceAddress;
  this.destinationAddress=destinationAddress;
  outgoingQueue=new AsyncDispatch<Message>(executorService,connection);
  outgoingDispatch=new EndOfStreamDispatch(outgoingQueue);
  this.incomingDispatch=new EndOfStreamFilter(incomingDispatch,new Runnable(){
    public void run(){
      requestStop();
    }
  }
);
  this.incomingQueue=new AsyncDispatch<Message>(executorService,this.incomingDispatch);
  incomingQueue.receiveFrom(connection);
}
