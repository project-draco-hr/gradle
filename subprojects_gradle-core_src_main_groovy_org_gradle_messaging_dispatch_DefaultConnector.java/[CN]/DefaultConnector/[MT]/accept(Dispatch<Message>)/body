{
  lock.lock();
  try {
    URI localAddress;
    try {
      localAddress=new URI(String.format("channel:%s!%d",incomingConnector.getLocalAddress(),nextConnectionId++));
    }
 catch (    URISyntaxException e) {
      throw new GradleException(e);
    }
    Channel channel=new Channel(localAddress,null,incomingDispatch);
    pending.put(localAddress,channel);
    return channel;
  }
  finally {
    lock.unlock();
  }
}
