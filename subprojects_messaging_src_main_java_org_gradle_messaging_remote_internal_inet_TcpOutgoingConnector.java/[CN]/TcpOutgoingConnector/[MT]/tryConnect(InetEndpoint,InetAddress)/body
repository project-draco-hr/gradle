{
  for (int i=0; i < MAXIMUM_RETRIES; i++) {
    SocketChannel socketChannel=SocketChannel.open();
    socketChannel.socket().connect(new InetSocketAddress(candidate,address.getPort()),CONNECT_TIMEOUT);
    if (!detectSelfConnect(socketChannel)) {
      return socketChannel;
    }
    LOGGER.info("Retrying connection... {}/{}",i,MAXIMUM_RETRIES);
    socketChannel.close();
  }
  throw new SocketException("Exceeded retries after detecting TCP self-connect.");
}
