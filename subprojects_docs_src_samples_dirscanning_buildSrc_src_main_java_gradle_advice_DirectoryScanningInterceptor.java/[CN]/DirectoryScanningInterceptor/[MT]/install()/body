{
  ByteBuddyAgent.install();
  ClassLoader targetClassLoader=DirectoryFileTree.class.getClassLoader();
  ByteBuddy byteBuddy=new ByteBuddy();
  for (  Class<?> clazz : new Class<?>[]{CountDirectoryScans.class,CountCacheStats.class,CountCacheStats.Hits.class,CountCacheStats.Misses.class}) {
    makeAndLoad(byteBuddy.redefine(clazz),targetClassLoader);
  }
  makeAndLoad(byteBuddy.redefine(DirectoryFileTree.class).visit(Advice.to(CountDirectoryScans.class).on(ElementMatchers.named("visitFrom"))),targetClassLoader);
  makeAndLoad(byteBuddy.redefine(targetClassLoader.loadClass("org.gradle.api.internal.changedetection.state.CachingTreeVisitor")).visit(Advice.to(CountCacheStats.Hits.class).on(ElementMatchers.named("recordCacheHit")).method(ElementMatchers.named("recordCacheMiss"),Advice.to(CountCacheStats.Misses.class))),targetClassLoader);
}
