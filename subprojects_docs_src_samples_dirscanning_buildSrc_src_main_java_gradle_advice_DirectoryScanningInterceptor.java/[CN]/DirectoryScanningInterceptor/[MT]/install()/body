{
  ByteBuddyAgent.install();
  ClassLoader targetClassLoader=DirectoryFileTree.class.getClassLoader();
  ByteBuddy byteBuddy=new ByteBuddy();
  for (  Class<?> clazz : new Class<?>[]{CountDirectoryScans.class,CountCacheStats.class,CountCacheStats.Hits.class,CountCacheStats.Misses.class}) {
    byteBuddy.redefine(clazz).make().load(targetClassLoader,ClassReloadingStrategy.fromInstalledAgent());
  }
  byteBuddy.redefine(DirectoryFileTree.class).visit(new AsmVisitorWrapper.ForDeclaredMethods().writerFlags(ClassWriter.COMPUTE_FRAMES).method(ElementMatchers.named("visitFrom"),Advice.to(CountDirectoryScans.class))).make().load(targetClassLoader,ClassReloadingStrategy.fromInstalledAgent());
  byteBuddy.redefine(targetClassLoader.loadClass("org.gradle.api.internal.changedetection.state.CachingTreeVisitor")).visit(new AsmVisitorWrapper.ForDeclaredMethods().writerFlags(ClassWriter.COMPUTE_FRAMES).method(ElementMatchers.named("recordCacheHit"),Advice.to(CountCacheStats.Hits.class)).method(ElementMatchers.named("recordCacheMiss"),Advice.to(CountCacheStats.Misses.class))).make().load(targetClassLoader,ClassReloadingStrategy.fromInstalledAgent());
}
