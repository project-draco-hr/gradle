{
  String explicitProjectPath=gradle.getStartParameter().getProjectPath();
  File explicitProjectDir=gradle.getStartParameter().getProjectDir();
  File explicitBuildFile=gradle.getStartParameter().getBuildFile();
  ProjectSpec spec=explicitProjectPath != null ? new ProjectPathProjectSpec(explicitProjectPath) : explicitBuildFile != null ? new BuildFileProjectSpec(explicitBuildFile) : explicitProjectDir == null ? new DefaultProjectSpec(gradle.getStartParameter().getCurrentDir()) : new ProjectDirectoryProjectSpec(explicitProjectDir);
  try {
    gradle.setDefaultProject(spec.selectProject(gradle.getRootProject().getProjectRegistry()));
  }
 catch (  InvalidUserDataException e) {
    throw new GradleException(String.format("Could not select the default project for this build. %s",e.getMessage()),e);
  }
}
