{
  Pattern pattern=Pattern.compile(Pattern.quote(name) + "-.+\\.jar");
  for (  File file : classpath) {
    if (pattern.matcher(file.getName()).matches()) {
      return file;
    }
  }
  for (  File libDir : libDirs) {
    for (    File file : libDir.listFiles()) {
      if (pattern.matcher(file.getName()).matches()) {
        return file;
      }
    }
  }
  throw new IllegalArgumentException(String.format("Cannot locate JAR for module '%s' in distribution directory '%s'.",name,distDir));
}
