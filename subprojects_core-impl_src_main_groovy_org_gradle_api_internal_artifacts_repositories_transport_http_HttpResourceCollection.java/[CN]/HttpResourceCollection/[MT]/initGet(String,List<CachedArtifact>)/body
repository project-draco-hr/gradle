{
  if (candidates.size() > 0) {
    CachedHttpResource cachedResource=findCachedResource(source,candidates);
    if (cachedResource != null) {
      return cachedResource;
    }
  }
  HttpGet request=new HttpGet(source);
  configureMethod(request);
  HttpResponse response;
  try {
    response=executeMethod(request);
  }
 catch (  IOException e) {
    throw new UncheckedIOException(String.format("Could not GET '%s'.",source),e);
  }
  if (wasMissing(response)) {
    LOGGER.info("Resource missing. [HTTP GET: {}]",source);
    return new MissingHttpResource(source);
  }
  if (!wasSuccessful(response)) {
    LOGGER.info("Failed to get resource: {}. [HTTP GET: {}]",response.getStatusLine(),source);
    throw new UncheckedIOException(String.format("Could not GET '%s'. Received status code %s from server: %s",source,response.getStatusLine().getStatusCode(),response.getStatusLine().getReasonPhrase()));
  }
  LOGGER.info("Resource found. [HTTP GET: {}]",source);
  return new HttpGetResource(source,response);
}
