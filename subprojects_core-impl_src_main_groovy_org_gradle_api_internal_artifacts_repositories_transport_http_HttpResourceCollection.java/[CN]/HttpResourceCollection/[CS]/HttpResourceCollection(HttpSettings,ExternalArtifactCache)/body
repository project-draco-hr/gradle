{
  PasswordCredentials credentials=httpSettings.getCredentials();
  if (GUtil.isTrue(credentials.getUsername())) {
    httpClientCredentials=new UsernamePasswordCredentials(credentials.getUsername(),credentials.getPassword());
  }
 else {
    httpClientCredentials=null;
  }
  this.externalArtifactCache=externalArtifactCache;
  ProxySelectorRoutePlanner routePlanner=new ProxySelectorRoutePlanner(client.getConnectionManager().getSchemeRegistry(),ProxySelector.getDefault());
  client.setRoutePlanner(routePlanner);
  client.setHttpRequestRetryHandler(new HttpRequestRetryHandler(){
    public boolean retryRequest(    IOException exception,    int executionCount,    HttpContext context){
      return false;
    }
  }
);
}
