{
  TestFile buildFile=testFile("some build.gradle");
  TestFile settingsFile=testFile("some settings.gradle");
  settingsFile.writelns("","","throw new RuntimeException('<failure message>')");
  ExecutionFailure failure=usingBuildFile(buildFile).usingSettingsFile(settingsFile).withTasks("do-stuff").runWithFailure();
  failure.assertHasFileName(String.format("Settings file '%s'",settingsFile));
  failure.assertHasLineNumber(3);
  failure.assertHasDescription("A problem occurred evaluating settings 'reportsSettingsScriptEvaluationFailsWithRuntimeException'.");
  failure.assertHasCause("<failure message>");
}
