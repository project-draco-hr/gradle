{
  PolyglotModelManager modelManager=new PolyglotModelManager();
  setProp(modelManager.getClass(),modelManager,"log",new PlexusLoggerAdapter(LoggerFactory.getLogger(PolyglotModelManager.class)));
  setProp(modelManager.getClass(),modelManager,"mappings",Arrays.asList(new XmlMapping(),new GroovyMapping()));
  ExecuteManager executeManager=new ExecuteManagerImpl();
  setProp(executeManager.getClass(),executeManager,"log",new PlexusLoggerAdapter(LoggerFactory.getLogger(ExecuteManagerImpl.class)));
  setProp(executeManager.getClass(),executeManager,"manager",modelManager);
  setProp(ModelBuilder.class,this,"executeManager",executeManager);
  Map factories=(Map)getProp(FactoryBuilderSupport.class,this,"factories");
  factories.remove("project");
  ModelFactory modelFactory=new ModelFactory(model);
  registerFactory(modelFactory.getName(),null,modelFactory);
}
