{
  project.getTasks().withType(JettyRun.class).all(new Action<JettyRun>(){
    public void execute(    JettyRun jettyRun){
      jettyRun.getConventionMapping().map("webXml",new ConventionValue(){
        public Object getValue(        Convention convention,        IConventionAware conventionAwareObject){
          return getWebXml(project);
        }
      }
);
      jettyRun.getConventionMapping().map("classpath",new ConventionValue(){
        public Object getValue(        Convention convention,        IConventionAware conventionAwareObject){
          return getJavaConvention(project).getSourceSets().getByName(SourceSet.MAIN_SOURCE_SET_NAME).getRuntimeClasspath();
        }
      }
);
      jettyRun.getConventionMapping().map("webAppSourceDirectory",new ConventionValue(){
        public Object getValue(        Convention convention,        IConventionAware conventionAwareObject){
          return getWarConvention(project).getWebAppDir();
        }
      }
);
    }
  }
);
  JettyRun jettyRun=project.getTasks().add(JETTY_RUN,JettyRun.class);
  jettyRun.setDescription("Uses your files as and where they are and deploys them to Jetty.");
  jettyRun.setGroup(WarPlugin.WEB_APP_GROUP);
}
