{
  if (!canApply(role)) {
    throw new IllegalStateException(String.format("Cannot add %s rule '%s' for model element '%s' when element is in state %s.",role,mutator.getAction().getDescriptor(),getPath(),getState()));
  }
  if (mutators == null) {
    mutators=createMutatorsMap();
  }
  mutators.put(role,mutator);
}
