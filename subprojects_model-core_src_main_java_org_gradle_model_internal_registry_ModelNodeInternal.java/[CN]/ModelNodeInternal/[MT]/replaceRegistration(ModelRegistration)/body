{
  if (isAtLeast(State.Created)) {
    throw new IllegalStateException("Cannot replace registration rule binder when node is already created (node: " + this + ", state: "+ getState()+ ")");
  }
  if (!registration.getInputs().equals(this.registration.getInputs())) {
    Joiner joiner=Joiner.on(", ");
    throw new IllegalStateException("can not replace node " + getPath() + " with registration with different input bindings (old: ["+ joiner.join(this.registration.getInputs())+ "], new: ["+ joiner.join(registration.getInputs())+ "])");
  }
  this.registration=registration;
}
