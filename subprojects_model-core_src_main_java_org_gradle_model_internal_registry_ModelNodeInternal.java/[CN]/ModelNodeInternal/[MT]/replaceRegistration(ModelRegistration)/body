{
  if (isAtLeast(State.Created)) {
    throw new IllegalStateException("Cannot replace registration rule binder when node is already created (node: " + this + ", state: "+ getState()+ ")");
  }
  ModelRegistration newRegistration=registration;
  ModelRegistration oldRegistration=this.registration;
  if (!newRegistration.getInputs().equals(oldRegistration.getInputs())) {
    Joiner joiner=Joiner.on(", ");
    throw new IllegalStateException("can not replace node " + getPath() + " with registration with different input bindings (old: ["+ joiner.join(oldRegistration.getInputs())+ "], new: ["+ joiner.join(newRegistration.getInputs())+ "])");
  }
  this.registration=registration;
}
