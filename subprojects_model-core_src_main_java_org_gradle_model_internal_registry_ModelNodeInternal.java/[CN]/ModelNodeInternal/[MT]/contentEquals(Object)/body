{
  if (this == other) {
    return true;
  }
  if (!(other instanceof ModelNodeInternal)) {
    return false;
  }
  ModelNodeInternal that=(ModelNodeInternal)other;
  if (!Objects.equal(this.getPrivateData(),that.getPrivateData())) {
    return false;
  }
  Iterator<? extends ModelNodeInternal> thisLinks=this.getLinks().iterator();
  Iterator<? extends ModelNodeInternal> thatLinks=that.getLinks().iterator();
  while (thisLinks.hasNext()) {
    if (!thatLinks.hasNext()) {
      return false;
    }
    ModelNodeInternal thisLink=thisLinks.next();
    ModelNodeInternal thatLink=thatLinks.next();
    if (!thisLink.contentEquals(thatLink)) {
      return false;
    }
  }
  return !thatLinks.hasNext();
}
