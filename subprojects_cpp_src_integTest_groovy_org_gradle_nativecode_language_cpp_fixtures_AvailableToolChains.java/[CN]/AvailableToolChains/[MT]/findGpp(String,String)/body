{
  String name=String.format("g++ %s",versionPrefix);
  GppVersionDeterminer versionDeterminer=new GppVersionDeterminer();
  List<File> gppCandidates=OperatingSystem.current().findAllInPath("g++");
  for (int i=0; i < gppCandidates.size(); i++) {
    File candidate=gppCandidates.get(i);
    if (versionDeterminer.transform(candidate).startsWith(versionPrefix)) {
      InstalledToolChain installedToolChain=new InstalledToolChain(name);
      if (i > 0) {
        installedToolChain.inPath(candidate.getParentFile());
      }
      return installedToolChain;
    }
  }
  if (hardcodedFallback != null) {
    File fallback=new File(hardcodedFallback);
    if (fallback.isFile()) {
      return new InstalledToolChain(name).inPath(fallback.getParentFile());
    }
  }
  return new UnavailableToolChain(name);
}
