{
  this.results=results;
  registerTabs();
  Element head=append(html,"head");
  appendWithText(head,"title",String.format("Test results - %s",results.getTitle()));
  Element link=append(head,"link");
  link.setAttribute("rel","stylesheet");
  link.setAttribute("href","base-style.css");
  link.setAttribute("type","text/css");
  link=append(head,"link");
  link.setAttribute("rel","stylesheet");
  link.setAttribute("href","style.css");
  link.setAttribute("type","text/css");
  Element script=append(head,"script");
  script.setAttribute("src","report.js");
  script.setAttribute("type","text/javascript");
  Element body=append(html,"body");
  Element content=appendWithId(body,"div","content");
  appendWithText(content,"h1",results.getTitle());
  renderBreadcrumbs(content);
  Element summary=appendWithId(content,"div","summary");
  Element row=appendTableAndRow(summary);
  Element group=appendCell(row);
  group.setAttribute("class","summaryGroup");
  Element summaryRow=appendTableAndRow(group);
  Element tests=appendCell(summaryRow);
  tests.setAttribute("id","tests");
  tests.setAttribute("class","infoBox");
  Element div=appendWithText(tests,"div",results.getTestCount());
  div.setAttribute("class","counter");
  appendWithText(tests,"p","tests");
  Element failures=appendCell(summaryRow);
  failures.setAttribute("id","failures");
  failures.setAttribute("class","infoBox");
  div=appendWithText(failures,"div",results.getFailureCount());
  div.setAttribute("class","counter");
  appendWithText(failures,"p","failures");
  Element duration=appendCell(summaryRow);
  duration.setAttribute("id","duration");
  duration.setAttribute("class","infoBox");
  div=appendWithText(duration,"div",results.getFormattedDuration());
  div.setAttribute("class","counter");
  appendWithText(duration,"p","duration");
  Element successRate=appendCell(row);
  successRate.setAttribute("id","successRate");
  successRate.setAttribute("class",String.format("infoBox %s",results.getStatusClass()));
  div=appendWithText(successRate,"div",results.getFormattedSuccessRate());
  div.setAttribute("class","percent");
  appendWithText(successRate,"p","successful");
  renderTabs(content);
  Element footer=appendWithId(content,"div","footer");
  Element footerText=append(footer,"p");
  appendText(footerText,"Generated by ");
  appendLink(footerText,"http://www.gradle.org/",String.format("Gradle %s",GradleVersion.current().getVersion()));
  appendText(footerText,String.format(" at %s",DateFormat.getDateTimeInstance().format(new Date())));
}
