{
  ScriptExecutionListener scriptExecutionListener=get(ListenerManager.class).getBroadcaster(ScriptExecutionListener.class);
  return new DefaultScriptCompilerFactory(new CachingScriptCompilationHandler(new DefaultScriptCompilationHandler()),new DefaultScriptRunnerFactory(scriptExecutionListener),get(CacheRepository.class));
}
