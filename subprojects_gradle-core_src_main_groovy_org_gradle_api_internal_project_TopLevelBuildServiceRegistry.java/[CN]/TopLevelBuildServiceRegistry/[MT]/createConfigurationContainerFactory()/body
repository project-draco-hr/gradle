{
  DefaultModuleDescriptorFactoryForClientModule clientModuleDescriptorFactory=new DefaultModuleDescriptorFactoryForClientModule();
  DependencyDescriptorFactoryDelegate dependencyDescriptorFactoryDelegate=new DependencyDescriptorFactoryDelegate(new ClientModuleDependencyDescriptorFactory(get(ExcludeRuleConverter.class),clientModuleDescriptorFactory,clientModuleRegistry),new ProjectDependencyDescriptorFactory(get(ExcludeRuleConverter.class),ProjectDependencyDescriptorFactory.RESOLVE_MODULE_REVISION_ID_STRATEGY),get(ExternalModuleDependencyDescriptorFactory.class));
  clientModuleDescriptorFactory.setDependencyDescriptorFactory(dependencyDescriptorFactoryDelegate);
  PublishModuleDescriptorConverter fileModuleDescriptorConverter=new PublishModuleDescriptorConverter(get(ResolveModuleDescriptorConverter.class),new DefaultArtifactsToModuleDescriptorConverter(DefaultArtifactsToModuleDescriptorConverter.IVY_FILE_STRATEGY));
  return new DefaultConfigurationContainerFactory(clientModuleRegistry,new DefaultSettingsConverter(get(ProgressLoggerFactory.class)),get(ResolveModuleDescriptorConverter.class),get(PublishModuleDescriptorConverter.class),fileModuleDescriptorConverter,new DefaultIvyFactory(),new SelfResolvingDependencyResolver(new DefaultIvyDependencyResolver(new DefaultIvyReportConverter(dependencyDescriptorFactoryDelegate))),new DefaultIvyDependencyPublisher(new DefaultPublishOptionsFactory()),get(ClassGenerator.class));
}
