{
  final TaskDependency dependency=new TaskDependency(){
    public Set<? extends Task> getDependencies(    Task task){
      throw new UnsupportedOperationException();
    }
  }
;
  TestFileCollection collection=new TestFileCollection(){
    @Override public TaskDependency getBuildDependencies(){
      return dependency;
    }
  }
;
  collection.files.add(new File("f1"));
  assertThat(collection.getAsFileTree().getBuildDependencies(),sameInstance(dependency));
  assertThat(collection.getAsFileTree().matching(HelperUtil.TEST_CLOSURE).getBuildDependencies(),sameInstance(dependency));
}
