{
  this.graph=graph;
  rulesBySubject=new NodeIndex(graph);
  rulesByInput=new NodeIndex(graph);
  graph.addListener(new ModelCreationListener(){
    @Override public boolean onCreate(    ModelNodeInternal node){
      rulesBySubject.nodeAdded(node);
      rulesByInput.nodeAdded(node);
      return false;
    }
  }
);
}
