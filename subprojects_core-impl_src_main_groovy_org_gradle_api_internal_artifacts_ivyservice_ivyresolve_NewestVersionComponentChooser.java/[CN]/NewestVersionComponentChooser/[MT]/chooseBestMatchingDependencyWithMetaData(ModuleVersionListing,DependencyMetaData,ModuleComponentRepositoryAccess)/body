{
  for (  Versioned candidate : sortLatestFirst(versions)) {
    MutableModuleVersionMetaData metaData=resolveComponentMetaData(dependency,candidate,moduleAccess);
    if (versionMatcher.accept(dependency.getRequested().getVersion(),metaData)) {
      return metaData.getComponentId();
    }
  }
  return null;
}
