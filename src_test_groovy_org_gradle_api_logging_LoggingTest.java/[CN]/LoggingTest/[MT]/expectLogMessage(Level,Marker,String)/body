{
  final Matcher<LoggingEvent> matcher=new BaseMatcher<LoggingEvent>(){
    public void describeTo(    Description description){
      description.appendText("level: ").appendValue(level).appendText(", marker: ").appendValue(marker).appendText(", text:").appendValue(text);
    }
    public boolean matches(    Object o){
      LoggingEvent event=(LoggingEvent)o;
      return event.getLevel().equals(level) && event.getMessage().equals(text) && event.getMarker() == marker;
    }
  }
;
  context.checking(new Expectations(){
{
      one(appender).doAppend(with(matcher));
    }
  }
);
}
