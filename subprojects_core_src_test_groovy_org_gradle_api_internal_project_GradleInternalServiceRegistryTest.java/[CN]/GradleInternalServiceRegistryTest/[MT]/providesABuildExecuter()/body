{
  context.checking(new Expectations(){
{
      allowing(parent).get(CacheRepository.class);
      will(returnValue(context.mock(CacheRepository.class)));
    }
  }
);
  assertThat(registry.get(BuildExecuter.class),instanceOf(DefaultBuildExecuter.class));
  assertThat(registry.get(BuildExecuter.class),sameInstance(registry.get(BuildExecuter.class)));
}
