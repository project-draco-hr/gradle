{
  context.checking(new Expectations(){
{
      one(listenerManager).createAnonymousBroadcaster(TaskExecutionGraphListener.class);
      will(returnValue(new ListenerBroadcast<TaskExecutionGraphListener>(TaskExecutionGraphListener.class)));
      one(listenerManager).createAnonymousBroadcaster(TaskExecutionListener.class);
      will(returnValue(new ListenerBroadcast<TaskExecutionListener>(TaskExecutionListener.class)));
    }
  }
);
  assertThat(registry.get(TaskGraphExecuter.class),instanceOf(DefaultTaskGraphExecuter.class));
  assertThat(registry.get(TaskGraphExecuter.class),sameInstance(registry.get(TaskGraphExecuter.class)));
}
