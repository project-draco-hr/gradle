{
  final List<ModelResult<T>> results=Lists.newArrayList();
  for (  GradleParticipantBuild participant : participants) {
    try {
      final List<ModelResult<T>> participantResults=buildResultsForParticipant(participant);
      results.addAll(participantResults);
    }
 catch (    GradleConnectionException e) {
      String message=String.format("Could not fetch models of type '%s' using client-side composite connection.",modelType.getSimpleName());
      results.add(new DefaultModelResult<T>(participant.toProjectIdentity(":"),new GradleConnectionException(message,e)));
    }
  }
  handler.onComplete(new ModelResults<T>(){
    @Override public Iterator<ModelResult<T>> iterator(){
      return results.iterator();
    }
  }
);
}
