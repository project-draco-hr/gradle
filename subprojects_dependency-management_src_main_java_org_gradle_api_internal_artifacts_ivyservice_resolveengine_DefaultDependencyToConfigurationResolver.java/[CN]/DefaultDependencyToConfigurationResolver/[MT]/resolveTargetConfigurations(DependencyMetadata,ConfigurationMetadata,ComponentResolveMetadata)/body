{
  Set<String> targetConfigurationNames=new LinkedHashSet<String>();
  for (  String config : dependencyMetadata.getModuleConfigurations()) {
    if (config.equals("*") || config.equals("%")) {
      collectTargetConfiguration(dependencyMetadata,fromConfiguration,fromConfiguration.getName(),targetComponent,targetConfigurationNames);
    }
 else     if (fromConfiguration.getHierarchy().contains(config)) {
      collectTargetConfiguration(dependencyMetadata,fromConfiguration,config,targetComponent,targetConfigurationNames);
    }
  }
  Set<ConfigurationMetadata> targets=new LinkedHashSet<ConfigurationMetadata>();
  for (  String targetConfigurationName : targetConfigurationNames) {
    ConfigurationMetadata targetConfiguration=targetComponent.getConfiguration(targetConfigurationName);
    targets.add(targetConfiguration);
  }
  return targets;
}
