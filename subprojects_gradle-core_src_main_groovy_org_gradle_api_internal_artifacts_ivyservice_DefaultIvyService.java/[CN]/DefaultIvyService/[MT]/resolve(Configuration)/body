{
  Map<String,ModuleDescriptor> clientModuleRegistry=metaDataProvider.getClientModuleRegistry();
  Ivy ivy=ivyForResolve(resolverProvider.getResolvers(),metaDataProvider.getGradleUserHomeDir(),clientModuleRegistry);
  ModuleDescriptor moduleDescriptor=moduleDescriptorConverter.convertForResolve(configuration,metaDataProvider.getModule(),clientModuleRegistry,ivy.getSettings());
  return dependencyResolver.resolve(configuration,ivy,moduleDescriptor);
}
