{
  RenderableGraphProvider graphProvider=new RenderableGraphProvider();
  ((ConfigurationInternal)configuration).setDependencyGraphListener(graphProvider);
  ResolvedConfiguration resolvedConfiguration=configuration.getResolvedConfiguration();
  RenderableDependency root=graphProvider.getRoot();
  if (root == null) {
    root=new MergedResolvedConfiguration(resolvedConfiguration);
  }
  if (root.getChildren().isEmpty()) {
    getTextOutput().withStyle(Info).text("No dependencies");
    getTextOutput().println();
    return;
  }
  renderChildren(root.getChildren(),new HashSet<String>());
  resolvedConfiguration.rethrowFailure();
}
