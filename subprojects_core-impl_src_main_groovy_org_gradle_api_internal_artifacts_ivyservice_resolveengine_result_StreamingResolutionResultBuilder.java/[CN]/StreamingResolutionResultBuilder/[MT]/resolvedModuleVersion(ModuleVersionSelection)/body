{
  if (visitedModules.add(moduleVersion.getSelectedId())) {
    try {
      output.writeShort(MODULE);
      new ModuleVersionSelectionSerializer().write((DataOutput)output,moduleVersion);
    }
 catch (    IOException e) {
      throw throwAsUncheckedException(e);
    }
  }
}
