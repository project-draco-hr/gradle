{
  if (visitedModules.add(moduleVersion.getSelectedId())) {
    store.write(new EncodedWriteAction(){
      public void write(      FlushableEncoder encoder) throws IOException {
        encoder.writeByte(MODULE);
        moduleVersionSelectionSerializer.write(encoder,moduleVersion);
      }
    }
);
  }
}
