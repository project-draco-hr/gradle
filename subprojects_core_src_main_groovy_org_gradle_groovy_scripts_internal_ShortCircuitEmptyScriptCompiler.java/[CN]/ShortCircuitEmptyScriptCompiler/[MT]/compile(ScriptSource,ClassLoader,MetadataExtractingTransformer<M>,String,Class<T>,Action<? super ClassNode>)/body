{
  if (source.getResource().getText().matches("\\s*")) {
    return new ClassCachingCompiledScript<T,M>(new CompiledScript<T,M>(){
      public Class<? extends T> loadClass(){
        return emptyScriptGenerator.generate(scriptBaseClass);
      }
      @Override public M getMetadata(){
        return transformer.getMetadataDefaultValue();
      }
    }
);
  }
  return compiler.compile(source,classLoader,transformer,classpathClosureName,scriptBaseClass,verifier);
}
