{
  do {
    java.nio.channels.FileLock fileLock=lockRegion(lockMode,STATE_REGION_POS,STATE_REGION_SIZE);
    if (fileLock != null) {
      return fileLock;
    }
    if (port != -1) {
      OwnerInfo ownerInfo=readInformationRegion(System.currentTimeMillis());
      if (ownerInfo.port != -1) {
        LOGGER.info("The file lock is held by a different Gradle process (pid: {}, operation: {}). Will attempt to ping owner at port {}",ownerInfo.pid,ownerInfo.operation,ownerInfo.port);
        fileLockContentionHandler.pingOwner(ownerInfo.port,ownerInfo.lockId,displayName);
      }
 else {
        LOGGER.debug("The file lock is held by a different Gradle process. I was unable to read on which port the owner listens for lock access requests.");
      }
    }
    Thread.sleep(200L);
  }
 while (System.currentTimeMillis() < waitUntil);
  return null;
}
