{
  if (resource instanceof MaybeCompressedFileResource) {
    return unwrapSourceFileFromResource(((MaybeCompressedFileResource)resource).getResource());
  }
 else   if (resource instanceof CompressedReadableResource) {
    return unwrapSourceFileFromResource(((CompressedReadableResource)resource).getCompressedResource());
  }
 else   if (resource instanceof AbstractFileResource) {
    return ((AbstractFileResource)resource).getFile();
  }
  return null;
}
