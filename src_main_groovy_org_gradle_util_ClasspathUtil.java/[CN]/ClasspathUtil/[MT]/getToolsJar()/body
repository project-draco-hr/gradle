{
  String javaHome=System.getProperty("java.home");
  File toolsJar=new File(javaHome + "/lib/tools.jar");
  if (toolsJar.exists()) {
    logger.debug("Found tools jar in: {}",toolsJar.getAbsolutePath());
    return toolsJar;
  }
  if (javaHome.toLowerCase(Locale.US).endsWith(File.separator + "jre")) {
    javaHome=javaHome.substring(0,javaHome.length() - 4);
    toolsJar=new File(javaHome + "/lib/tools.jar");
  }
  if (!toolsJar.exists()) {
    logger.warn("Unable to locate tools.jar. " + "Expected to find it in " + toolsJar.getPath());
    return null;
  }
  logger.debug("Found tools jar in: {}",toolsJar.getAbsolutePath());
  return toolsJar;
}
