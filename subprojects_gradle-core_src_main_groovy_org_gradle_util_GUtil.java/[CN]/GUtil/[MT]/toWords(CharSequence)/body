{
  if (string == null) {
    return null;
  }
  StringBuilder builder=new StringBuilder();
  int pos=0;
  boolean inSeparator=false;
  for (; pos < string.length(); pos++) {
    char ch=string.charAt(pos);
    if (Character.isLowerCase(ch)) {
      if (inSeparator && builder.length() > 0) {
        builder.append(' ');
      }
      builder.append(ch);
      inSeparator=false;
    }
 else     if (Character.isUpperCase(ch)) {
      if (builder.length() > 0) {
        builder.append(' ');
      }
      builder.append(Character.toLowerCase(ch));
      inSeparator=false;
    }
 else {
      inSeparator=true;
    }
  }
  return builder.toString();
}
