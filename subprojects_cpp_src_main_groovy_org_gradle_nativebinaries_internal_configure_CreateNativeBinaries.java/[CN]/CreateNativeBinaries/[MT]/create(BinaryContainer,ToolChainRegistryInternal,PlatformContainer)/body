{
  BuildTypeContainer buildTypes=project.getExtensions().getByType(BuildTypeContainer.class);
  NativeBinaryFactory factory=new NativeBinaryFactory(instantiator,project,platforms,buildTypes);
  for (  NativeComponentInternal component : allComponents()) {
    for (    Platform platform : getPlatforms(component,platforms)) {
      ToolChain toolChain=toolChains.getForPlatform(platform);
      for (      BuildType buildType : getBuildTypes(component,buildTypes)) {
        for (        Flavor flavor : component.getFlavors()) {
          binaries.addAll(factory.createNativeBinaries(component,toolChain,platform,buildType,flavor));
        }
      }
    }
  }
}
