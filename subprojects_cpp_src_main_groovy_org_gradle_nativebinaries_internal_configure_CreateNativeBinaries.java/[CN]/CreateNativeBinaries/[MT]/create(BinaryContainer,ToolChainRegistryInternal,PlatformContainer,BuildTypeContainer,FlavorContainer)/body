{
  project.getExtensions().add("platforms",platforms);
  project.getExtensions().add("buildTypes",buildTypes);
  project.getExtensions().add("flavors",flavors);
  Action<ProjectNativeBinary> configureBinaryAction=new ProjectNativeBinaryInitializer(project);
  NativeBinariesFactory factory=new DefaultNativeBinariesFactory(instantiator,configureBinaryAction,resolver);
  BinaryNamingSchemeBuilder namingSchemeBuilder=new DefaultBinaryNamingSchemeBuilder();
  Action<ProjectNativeComponent> createBinariesAction=new ProjectNativeComponentInitializer(factory,namingSchemeBuilder,toolChains,platforms,buildTypes,flavors);
  SoftwareComponentContainer softwareComponents=project.getExtensions().getByType(SoftwareComponentContainer.class);
  for (  ProjectNativeComponent component : softwareComponents.withType(ProjectNativeComponent.class)) {
    createBinariesAction.execute(component);
    binaries.addAll(component.getBinaries());
  }
}
