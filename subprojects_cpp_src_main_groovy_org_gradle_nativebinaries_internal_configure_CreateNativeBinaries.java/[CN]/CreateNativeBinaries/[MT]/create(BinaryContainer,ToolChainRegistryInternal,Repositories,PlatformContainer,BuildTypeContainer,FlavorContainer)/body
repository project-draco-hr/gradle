{
  prebuiltBinariesRule.create(repositories,platforms,buildTypes,flavors);
  project.getExtensions().add("platforms",platforms);
  project.getExtensions().add("buildTypes",buildTypes);
  project.getExtensions().add("flavors",flavors);
  NativeDependencyResolver resolver=createResolver(project);
  Action<ProjectNativeBinary> configureAction=new ProjectNativeBinaryConfiguration(project);
  Transformer<Collection<NativeBinary>,ProjectNativeComponent> factory=new ProjectNativeBinaryFactory(instantiator,resolver,configureAction,toolChains,platforms,buildTypes,flavors);
  for (  ProjectNativeComponent component : allComponents()) {
    binaries.addAll(factory.transform(component));
  }
}
