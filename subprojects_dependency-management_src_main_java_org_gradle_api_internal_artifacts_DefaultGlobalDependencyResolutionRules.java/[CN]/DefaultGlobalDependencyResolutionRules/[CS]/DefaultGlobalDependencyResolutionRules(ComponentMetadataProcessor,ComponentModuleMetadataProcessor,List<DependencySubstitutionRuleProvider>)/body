{
  this.componentMetadataProcessor=componentMetadataProcessor;
  this.moduleMetadataProcessor=moduleMetadataProcessor;
  List<Action<DependencySubstitution>> globalActions=CollectionUtils.collect(ruleProviders,new Transformer<Action<DependencySubstitution>,DependencySubstitutionRuleProvider>(){
    @Override public Action<DependencySubstitution> transform(    DependencySubstitutionRuleProvider dependencySubstitutionRuleProvider){
      return dependencySubstitutionRuleProvider.getDependencySubstitutionRule();
    }
  }
);
  this.globalDependencySubstitutionRule=Actions.composite(globalActions);
}
