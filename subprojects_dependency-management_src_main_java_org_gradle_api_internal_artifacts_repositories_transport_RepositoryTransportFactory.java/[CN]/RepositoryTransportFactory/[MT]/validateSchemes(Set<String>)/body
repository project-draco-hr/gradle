{
  Set<String> validSchemes=Sets.newLinkedHashSet();
  validSchemes.add("file");
  for (  ResourceConnectorFactory registeredProtocol : registeredProtocols) {
    validSchemes.addAll(registeredProtocol.getSupportedProtocols());
  }
  for (  String scheme : schemes) {
    if (!validSchemes.contains(scheme)) {
      throw new InvalidUserDataException(String.format("Not a supported repository protocol '%s': valid protocols are %s",scheme,validSchemes));
    }
  }
}
