{
  File buildFile=projectDescriptor.getBuildFile();
  ScriptSource source;
  if (!buildFile.exists()) {
    source=new StringScriptSource("empty build file","");
  }
 else {
    source=new UriScriptSource("build file",buildFile);
  }
  DefaultProject project=instantiator.newInstance(DefaultProject.class,projectDescriptor.getName(),parent,projectDescriptor.getProjectDir(),source,gradle,gradle.getServiceRegistryFactory(),classLoaderScope);
  if (parent != null) {
    parent.addChildProject(project);
  }
  projectRegistry.addProject(project);
  return project;
}
