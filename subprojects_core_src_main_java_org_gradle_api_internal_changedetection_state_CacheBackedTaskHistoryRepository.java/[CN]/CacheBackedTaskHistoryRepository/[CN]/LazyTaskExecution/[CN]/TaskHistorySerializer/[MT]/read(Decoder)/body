{
  LazyTaskExecution execution=new LazyTaskExecution();
  execution.inputFilesSnapshotIds=readSnapshotIds(decoder);
  execution.outputFilesSnapshotIds=readSnapshotIds(decoder);
  execution.discoveredFilesSnapshotId=decoder.readLong();
  execution.setTaskClass(decoder.readString());
  if (decoder.readBoolean()) {
    execution.setTaskClassLoaderHash(HashCode.fromBytes(decoder.readBinary()));
  }
  if (decoder.readBoolean()) {
    execution.setTaskActionsClassLoaderHash(HashCode.fromBytes(decoder.readBinary()));
  }
  int outputFiles=decoder.readInt();
  Set<String> files=new HashSet<String>();
  for (int j=0; j < outputFiles; j++) {
    files.add(stringInterner.intern(decoder.readString()));
  }
  execution.setOutputFiles(files);
  boolean inputProperties=decoder.readBoolean();
  if (inputProperties) {
    Map<String,Object> map=inputPropertiesSerializer.read(decoder);
    execution.setInputProperties(map);
  }
 else {
    execution.setInputProperties(new HashMap<String,Object>());
  }
  return execution;
}
