{
  String overridenWarmUpCount=System.getProperty("org.gradle.performance.execution.warmups");
  if (overridenWarmUpCount != null) {
    return Integer.valueOf(overridenWarmUpCount);
  }
  if (experiment.getWarmUpCount() != null) {
    return experiment.getWarmUpCount();
  }
  InvocationSpec invocation=experiment.getInvocation();
  if (invocation instanceof GradleInvocationSpec) {
    if (((GradleInvocationSpec)invocation).getBuildWillRunInDaemon()) {
      return 5;
    }
  }
  return 1;
}
