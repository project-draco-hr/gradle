{
  final Action<WorkerContext> action=context.mock(Action.class);
  final List<URL> implementationClassPath=toList(new File(".").toURI().toURL());
  Action<WorkerContext> serializableAction=helper.serializable(action,implementationClassLoader);
  ImplementationClassLoaderWorker worker=new TestImplementationClassLoaderWorker(LogLevel.DEBUG,toList("a","b"),implementationClassPath,serializableAction);
  context.checking(new Expectations(){
{
      one(loggingManager).setLevel(LogLevel.DEBUG);
      will(returnValue(loggingManager));
      one(loggingManager).start();
      allowing(workerContext).getApplicationClassLoader();
      will(returnValue(applicationClassLoader));
      one(action).execute(workerContext);
    }
  }
);
  worker.execute(workerContext);
}
