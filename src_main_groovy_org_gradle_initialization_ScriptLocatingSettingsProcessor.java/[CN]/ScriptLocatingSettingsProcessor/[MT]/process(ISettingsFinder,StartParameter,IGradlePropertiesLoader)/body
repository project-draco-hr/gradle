{
  settingsFinder.find(startParameter);
  propertiesLoader.loadProperties(settingsFinder.getSettingsDir(),startParameter);
  SettingsInternal settings=processor.process(settingsFinder,startParameter,propertiesLoader);
  if (settings.findProject(startParameter.getCurrentDir()) != null) {
    return settings;
  }
  StartParameter noSearchParameter=startParameter.newInstance();
  noSearchParameter.setSearchUpwards(false);
  settingsFinder.find(noSearchParameter);
  propertiesLoader.loadProperties(settingsFinder.getSettingsDir(),noSearchParameter);
  return processor.process(settingsFinder,noSearchParameter,propertiesLoader);
}
