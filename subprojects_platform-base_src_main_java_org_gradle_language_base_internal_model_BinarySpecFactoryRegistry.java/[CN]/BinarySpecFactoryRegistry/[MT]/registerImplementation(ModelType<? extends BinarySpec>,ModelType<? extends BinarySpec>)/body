{
  Class<? extends BinarySpec> implementationTypeRegistration=Cast.uncheckedCast(implementationTypes.get(type.getConcreteClass()));
  if (implementationTypeRegistration != null) {
    throw new IllegalStateException(String.format("Implementation type %s is already registered for type %s",implementationType,type));
  }
  implementationTypes.put(type.getConcreteClass(),implementationType);
}
