{
  ModelPropertyInstance<U> modelPropertyInstance=element.get(propertyType,propertyName);
  ModelSchema<U> propertySchema=schemaStore.getSchema(propertyType);
  if (propertySchema.getKind().equals(ModelSchema.Kind.STRUCT) && !ManagedInstance.class.isInstance(value)) {
    throw new IllegalArgumentException(String.format("Only managed model instances can be set as property '%s' of class '%s'",propertyName,element.getType()));
  }
  modelPropertyInstance.set(Cast.cast(propertyType.getConcreteClass(),value));
}
