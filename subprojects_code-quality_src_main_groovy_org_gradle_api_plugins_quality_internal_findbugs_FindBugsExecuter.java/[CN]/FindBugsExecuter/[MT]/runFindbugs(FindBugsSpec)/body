{
  final ClassLoader contextClassLoader=Thread.currentThread().getContextClassLoader();
  try {
    final List<String> args=spec.getArguments();
    String[] strArray=new String[args.size()];
    args.toArray(strArray);
    Thread.currentThread().setContextClassLoader(FindBugs2.class.getClassLoader());
    FindBugs2 findBugs2=new FindBugs2();
    TextUICommandLine commandLine=new TextUICommandLine();
    FindBugs.processCommandLine(commandLine,strArray,findBugs2);
    findBugs2.execute();
    return createFindbugsResult(findBugs2);
  }
  finally {
    Thread.currentThread().setContextClassLoader(contextClassLoader);
  }
}
