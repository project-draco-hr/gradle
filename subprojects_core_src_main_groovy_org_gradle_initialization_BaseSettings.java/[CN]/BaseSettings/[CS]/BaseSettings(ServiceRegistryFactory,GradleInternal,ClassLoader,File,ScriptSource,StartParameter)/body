{
  this.gradle=gradle;
  this.settingsDir=settingsDir;
  this.settingsScript=settingsScript;
  this.startParameter=startParameter;
  this.classloader=classloader;
  ServiceRegistry services=serviceRegistryFactory.createFor(this);
  this.plugins=services.get(PluginContainer.class);
  this.fileResolver=services.get(FileResolver.class);
  this.scriptPluginFactory=services.get(ScriptPluginFactory.class);
  this.scriptHandlerFactory=services.get(ScriptHandlerFactory.class);
  this.scriptCompileScope=new ScriptCompileScope(){
    public ClassLoader getScriptCompileClassLoader(){
      return BaseSettings.this.classloader;
    }
  }
;
  this.projectDescriptorRegistry=services.get(ProjectDescriptorRegistry.class);
  rootProjectDescriptor=createProjectDescriptor(null,settingsDir.getName(),settingsDir);
}
