{
  this.gradle=gradle;
  this.rootClassLoaderScope=rootClassLoaderScope;
  this.settingsDir=settingsDir;
  this.settingsScript=settingsScript;
  this.startParameter=startParameter;
  this.classLoaderScope=classLoaderScope;
  ServiceRegistry services=serviceRegistryFactory.createFor(this);
  this.fileResolver=services.get(FileResolver.class);
  this.scriptPluginFactory=services.get(ScriptPluginFactory.class);
  this.scriptHandlerFactory=services.get(ScriptHandlerFactory.class);
  this.projectDescriptorRegistry=services.get(ProjectDescriptorRegistry.class);
  rootProjectDescriptor=createProjectDescriptor(null,settingsDir.getName(),settingsDir);
  pluginManager=services.get(PluginManager.class);
}
