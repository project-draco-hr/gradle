{
  ClassLoader classLoader=createImplementationClassLoader(distribution);
  String implementationClassName=loadImplementationClassName(classLoader);
  try {
    return (ConnectionFactoryVersion2)classLoader.loadClass(implementationClassName).newInstance();
  }
 catch (  Throwable t) {
    throw new GradleConnectionException(String.format("Could not create an instance of Tooling API implementation class '%s'.",implementationClassName),t);
  }
}
