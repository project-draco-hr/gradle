{
  if (buildListenerRegistered.compareAndSet(true,false)) {
    gradle.removeListener(buildListener);
  }
  if (taskGraphListenersRegistered.compareAndSet(true,false)) {
    TaskExecutionGraph taskGraph=gradle.getTaskGraph();
    taskGraph.removeTaskExecutionGraphListener(taskExecutionGraphListener);
    taskGraph.removeTaskExecutionListener(taskExecutionListener);
  }
}
