{
synchronized (lock) {
    if (cache == null) {
      cache=inMemoryDecorator.withMemoryCaching(cacheRepository.cache("taskArtifacts").forObject(gradle).withDisplayName("task artifact state cache").withLockMode(FileLockManager.LockMode.Exclusive).open());
    }
    return cache;
  }
}
