{
synchronized (lock) {
    if (cache == null) {
      CacheLayoutBuilder layout=new CacheLayoutBuilder().withBuildScope(gradle.getRootProject());
      cache=cacheRepository.cache("taskArtifacts").withLayout(layout).withDisplayName("task artifact state cache").withLockOptions(mode(FileLockManager.LockMode.None)).open();
    }
    return cache;
  }
}
