{
  type=throwable.getClass().getName();
  stackTrace=throwable.getStackTrace();
  message=throwable.getMessage();
  try {
    toString=throwable.toString();
  }
 catch (  RuntimeException toStringRE) {
    toString=null;
    toStringRuntimeExec=toStringRE;
  }
  ByteArrayOutputStream outstr=new ByteArrayOutputStream();
  ObjectOutputStream oos=new ExceptionReplacingObjectOutputStream(outstr){
    @Override protected Object replaceObject(    Object obj) throws IOException {
      if (obj == throwable) {
        return throwable;
      }
      if (obj == throwable.getCause()) {
        return new CausePlaceholder();
      }
      return super.replaceObject(obj);
    }
  }
;
  try {
    oos.writeObject(throwable);
    oos.close();
    serializedException=outstr.toByteArray();
  }
 catch (  NotSerializableException e) {
  }
  if (throwable.getCause() != null) {
    cause=new ExceptionPlaceholder(throwable.getCause());
  }
}
