{
  final File newDir=new File("newDir");
  final IProjectDescriptorRegistry projectDescriptorRegistryMock=context.mock(IProjectDescriptorRegistry.class);
  projectDescriptor.setProjectDescriptorRegistry(projectDescriptorRegistryMock);
  context.checking(new Expectations(){
{
      one(projectDescriptorRegistryMock).changeProjectDir(projectDescriptor.getDir(),newDir);
    }
  }
);
  projectDescriptor.setDir(newDir);
  assertEquals(newDir,projectDescriptor.getDir());
}
