{
  if (artifact.isSnapshot() && remoteSnapshotRepository != null) {
    return createDeploymentArtifactRepository(remoteSnapshotRepository);
  }
  if (remoteRepository == null) {
    throw new GradleException("Must specify a repository for deployment");
  }
  return createDeploymentArtifactRepository(remoteRepository);
}
