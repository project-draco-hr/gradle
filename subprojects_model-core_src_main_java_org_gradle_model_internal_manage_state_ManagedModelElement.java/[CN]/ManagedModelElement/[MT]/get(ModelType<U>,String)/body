{
  ModelPropertyInstance<?> modelPropertyInstance=properties.get(propertyName);
  ModelType<?> modelPropertyType=modelPropertyInstance.getMeta().getType();
  if (!modelPropertyType.equals(propertyType)) {
    throw new UnexpectedModelPropertyTypeException(propertyName,type,propertyType,modelPropertyType);
  }
  @SuppressWarnings("unchecked") ModelPropertyInstance<U> cast=(ModelPropertyInstance<U>)modelPropertyInstance;
  return cast;
}
