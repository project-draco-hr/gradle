{
  if (!type.isAssignableFrom(EclipseProjectVersion3.class) && !type.isAssignableFrom(EclipseProjectVersion4.class)) {
    throw new UnsupportedOperationException(String.format("Do not know how to build a model of type '%s'.",type.getSimpleName()));
  }
  boolean projectDependenciesOnly=!EclipseProjectVersion3.class.isAssignableFrom(type) && !EclipseProjectVersion4.class.isAssignableFrom(type);
  boolean includeTasks=BuildableProjectVersion1.class.isAssignableFrom(type);
  ModelBuilder defaultBuilder=new ModelBuilder(includeTasks,projectDependenciesOnly,VersionedTypes.forType(type));
  modelBuildingAdapter=new ModelBuildingAdapter(defaultBuilder);
}
