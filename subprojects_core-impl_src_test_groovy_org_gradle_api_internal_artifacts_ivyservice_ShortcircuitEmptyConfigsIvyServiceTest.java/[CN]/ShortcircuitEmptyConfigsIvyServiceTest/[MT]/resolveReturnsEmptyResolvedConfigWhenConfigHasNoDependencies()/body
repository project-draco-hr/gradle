{
  context.checking(new Expectations(){
{
      allowing(configuration).getAllDependencies();
      will(returnValue(Collections.emptySet()));
    }
  }
);
  ResolvedConfiguration resolvedConfig=ivyService.resolve(configuration);
  assertFalse(resolvedConfig.hasError());
  resolvedConfig.rethrowFailure();
  assertThat(resolvedConfig.getFiles(Specs.<Dependency>satisfyAll()),isEmpty());
  assertThat(resolvedConfig.getFirstLevelModuleDependencies(),isEmpty());
  assertThat(resolvedConfig.getResolvedArtifacts(),isEmpty());
}
