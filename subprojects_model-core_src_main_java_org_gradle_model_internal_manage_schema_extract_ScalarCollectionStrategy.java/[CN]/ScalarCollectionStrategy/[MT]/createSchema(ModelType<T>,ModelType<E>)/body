{
  ModelProjection projection;
  if (type.getRawClass() == List.class) {
    projection=ScalarCollectionModelProjection.get(ModelTypes.list(elementType),new ListViewFactory<E>(elementType));
  }
 else {
    projection=ScalarCollectionModelProjection.get(ModelTypes.set(elementType),new SetViewFactory<E>(elementType));
  }
  return new ScalarCollectionSchema<T,E>(type,elementType,projection);
}
