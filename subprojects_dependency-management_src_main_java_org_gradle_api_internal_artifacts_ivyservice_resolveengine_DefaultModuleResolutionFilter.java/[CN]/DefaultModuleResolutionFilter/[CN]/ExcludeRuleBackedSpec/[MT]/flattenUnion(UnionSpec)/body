{
  Set<DefaultModuleResolutionFilter> merged=new LinkedHashSet<DefaultModuleResolutionFilter>();
  for (  DefaultModuleResolutionFilter unionElement : spec.getSpecs()) {
    DefaultModuleResolutionFilter flattenedUnion=doUnion(unionElement);
    if (flattenedUnion != null) {
      merged.add(flattenedUnion);
    }
  }
  return merged;
}
