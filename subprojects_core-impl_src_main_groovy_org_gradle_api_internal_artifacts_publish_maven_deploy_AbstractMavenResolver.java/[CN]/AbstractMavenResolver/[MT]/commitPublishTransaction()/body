{
  InstallDeployTaskSupport installDeployTaskSupport=createPreConfiguredTask(AntUtil.createProject());
  Set<MavenDeployment> mavenDeployments=getArtifactPomContainer().createDeployableFilesInfos();
  File emptySettingsXml=createEmptyMavenSettingsXml();
  installDeployTaskSupport.setSettingsFile(emptySettingsXml);
  for (  MavenDeployment mavenDeployment : mavenDeployments) {
    beforeDeploymentActions.execute(mavenDeployment);
    addPomAndArtifact(installDeployTaskSupport,mavenDeployment);
    execute(installDeployTaskSupport);
  }
  emptySettingsXml.delete();
  settings=((CustomInstallDeployTaskSupport)installDeployTaskSupport).getSettings();
}
