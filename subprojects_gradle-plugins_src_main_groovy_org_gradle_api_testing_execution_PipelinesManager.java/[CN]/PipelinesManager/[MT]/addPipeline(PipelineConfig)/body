{
  lock.lock();
  try {
    final QueueingPipeline pipeline=pipelineFactory.createPipeline(this,pipelineIdSequence++,pipelineConfig);
    pipelinesInfo.put(pipeline.getId(),pipeline);
    orderedPipelines.add(pipeline);
    notStopped.add(pipeline);
    return pipeline;
  }
  finally {
    lock.unlock();
  }
}
