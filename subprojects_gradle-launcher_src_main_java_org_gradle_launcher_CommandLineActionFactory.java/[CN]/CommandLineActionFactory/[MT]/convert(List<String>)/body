{
  CommandLineParser parser=new CommandLineParser();
  startParameterConverter.configure(parser);
  parser.option(HELP,"?","help").hasDescription("Shows this help message");
  parser.option(VERSION,"version").hasDescription("Print version info.");
  parser.option(GUI).hasDescription("Launches a GUI application");
  try {
    ParsedCommandLine commandLine=parser.parse(args);
    if (commandLine.hasOption(HELP)) {
      return new ShowUsageAction(parser);
    }
    if (commandLine.hasOption(VERSION)) {
      return new ShowVersionAction();
    }
    if (commandLine.hasOption(GUI)) {
      return new ShowGuiAction();
    }
    StartParameter startParameter=new StartParameter();
    startParameterConverter.convert(commandLine,startParameter);
    return new RunBuildAction(startParameter);
  }
 catch (  CommandLineArgumentException e) {
    return new CommandLineParseFailureAction(parser,e);
  }
}
