{
  if (commandLine.hasOption(HELP)) {
    return new CompleteOnSuccessAction(new ShowUsageAction(parser));
  }
  if (commandLine.hasOption(VERSION)) {
    return new CompleteOnSuccessAction(new ShowVersionAction());
  }
  if (commandLine.hasOption(GUI)) {
    return new CompleteOnSuccessAction(new ShowGuiAction());
  }
  if (commandLine.hasOption(FOREGROUND)) {
    return new CompleteOnSuccessAction(new Runnable(){
      public void run(){
        new GradleDaemon(loggingServices).run();
      }
    }
);
  }
  if (commandLine.hasOption(STOP)) {
    return new CompleteOnSuccessAction(new Runnable(){
      public void run(){
        new GradleDaemon(loggingServices).stop();
      }
    }
);
  }
  if (commandLine.hasOption(DAEMON)) {
    return new CompleteOnSuccessAction(new Runnable(){
      public void run(){
        new GradleDaemon(loggingServices).clientMain(new File(System.getProperty("user.dir")),commandLine);
      }
    }
);
  }
  StartParameter startParameter=startParameterConverter.convert(commandLine);
  return new RunBuildAction(startParameter,loggingServices);
}
