{
  TestConfiguration testConfiguration=null;
  List<String> testIncludePatterns=providerParameters.getTestIncludePatterns(null);
  List<String> testExcludePatterns=providerParameters.getTestExcludePatterns(null);
  List<? extends InternalTestDescriptor> testDescriptors=providerParameters.getTestDescriptors(null);
  if (testIncludePatterns != null || testExcludePatterns != null || testDescriptors != null) {
    testConfiguration=new TestConfiguration(testIncludePatterns,testExcludePatterns,testDescriptors,providerParameters.isAlwaysRunTests(false));
  }
  return testConfiguration;
}
