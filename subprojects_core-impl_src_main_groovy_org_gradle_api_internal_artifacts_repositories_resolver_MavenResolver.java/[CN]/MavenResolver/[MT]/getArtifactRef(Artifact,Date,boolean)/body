{
  ModuleRevisionId moduleRevisionId=artifact.getModuleRevisionId();
  if (moduleRevisionId.getRevision().endsWith("SNAPSHOT")) {
    ResolvedResource resolvedResource=findSnapshotArtifact(artifact,date,moduleRevisionId,forDownload);
    if (resolvedResource != null) {
      return resolvedResource;
    }
  }
  ResourceMDParser parser=getDefaultRMDParser(artifact.getModuleRevisionId().getModuleId());
  return findResourceUsingPatterns(moduleRevisionId,getArtifactPatterns(),artifact,parser,date,forDownload);
}
