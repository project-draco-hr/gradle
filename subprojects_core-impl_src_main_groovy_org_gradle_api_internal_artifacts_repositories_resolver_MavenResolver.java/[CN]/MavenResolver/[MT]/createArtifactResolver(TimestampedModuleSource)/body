{
  final String timestampedVersion=timestampedModuleSource.getTimestampedVersion();
  Transformer<String,String> patternTransformer=new Transformer<String,String>(){
    public String transform(    String original){
      return original.replaceFirst("\\-\\[revision\\]","-" + timestampedVersion);
    }
  }
;
  return new ArtifactResolver(CollectionUtils.collect(getIvyPatterns(),patternTransformer),CollectionUtils.collect(getArtifactPatterns(),patternTransformer));
}
