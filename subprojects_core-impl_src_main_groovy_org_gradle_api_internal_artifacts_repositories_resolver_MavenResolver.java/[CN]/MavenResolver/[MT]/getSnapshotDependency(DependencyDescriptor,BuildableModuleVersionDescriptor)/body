{
  final ModuleRevisionId dependencyRevisionId=dd.getDependencyRevisionId();
  final String uniqueSnapshotVersion=findUniqueSnapshotVersion(dependencyRevisionId);
  if (uniqueSnapshotVersion != null) {
    DependencyDescriptor enrichedDependencyDescriptor=enrichDependencyDescriptorWithSnapshotVersionInfo(dd,dependencyRevisionId,uniqueSnapshotVersion);
    super.getDependency(enrichedDependencyDescriptor,result);
    if (result.getState() == BuildableModuleVersionDescriptor.State.Resolved) {
      result.resolved(result.getDescriptor(),result.isChanging(),new TimestampedModuleSource(uniqueSnapshotVersion));
    }
  }
 else {
    super.getDependency(dd,result);
  }
}
