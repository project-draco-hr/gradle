{
  ModuleVersionArtifactIdentifier artifactId=new DefaultModuleVersionArtifactIdentifier(module,module.getModule(),"pom","pom");
  DefaultModuleVersionArtifactMetaData pomArtifact=new DefaultModuleVersionArtifactMetaData(artifactId);
  String metadataLocation=toResourcePattern(getWholePattern()).toModuleVersionPath(pomArtifact) + "/maven-metadata.xml";
  MavenMetadata mavenMetadata=parseMavenMetadata(metadataLocation);
  if (mavenMetadata.timestamp != null) {
    String rev=module.getVersion();
    rev=rev.substring(0,rev.length() - "SNAPSHOT".length());
    rev=rev + mavenMetadata.timestamp + "-"+ mavenMetadata.buildNumber;
    return new TimestampedModuleSource(rev);
  }
  return null;
}
