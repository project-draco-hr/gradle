{
  MavenModuleVersionMetaData mavenMetaData=mavenMetaData(module);
  if (mavenMetaData.isPomPackaging()) {
    Set<ComponentArtifactMetaData> artifacts=new LinkedHashSet<ComponentArtifactMetaData>();
    artifacts.addAll(findOptionalArtifacts(module,"jar",null));
    result.resolved(artifacts);
  }
 else {
    ModuleVersionArtifactMetaData artifactMetaData=module.artifact(mavenMetaData.getPackaging(),mavenMetaData.getPackaging(),null);
    if (createArtifactResolver(module.getSource()).artifactExists(artifactMetaData,new DefaultResourceAwareResolveResult())) {
      DeprecationLogger.nagUserOfDeprecated("Relying on packaging to define the extension of the main artifact");
      result.resolved(ImmutableSet.of(artifactMetaData));
    }
 else {
      ModuleVersionArtifactMetaData artifact=module.artifact("jar","jar",null);
      result.resolved(ImmutableSet.of(artifact));
    }
  }
}
