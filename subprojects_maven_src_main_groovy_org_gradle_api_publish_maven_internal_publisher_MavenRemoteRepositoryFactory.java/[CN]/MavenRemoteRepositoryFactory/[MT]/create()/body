{
  RemoteRepository remoteRepository=new RemoteRepository();
  remoteRepository.setUrl(artifactRepository.getUrl().toString());
  Credentials credentials=((AuthenticationSupportedInternal)artifactRepository).getConfiguredCredentials();
  if (credentials != null && credentials instanceof PasswordCredentials) {
    PasswordCredentials passwordCredentials=(PasswordCredentials)credentials;
    String username=passwordCredentials.getUsername();
    String password=passwordCredentials.getPassword();
    if (username != null || password != null) {
      Authentication authentication=new Authentication();
      authentication.setUserName(username);
      authentication.setPassword(password);
      remoteRepository.addAuthentication(authentication);
    }
  }
  return remoteRepository;
}
