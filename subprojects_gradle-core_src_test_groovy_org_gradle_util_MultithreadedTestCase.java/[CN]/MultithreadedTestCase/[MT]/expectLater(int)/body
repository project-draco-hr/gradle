{
  LOGGER.debug("Thread {} expecting tick {}",Thread.currentThread(),tick);
  lock.lock();
  try {
    if (tick != currentTick + 1) {
      throw new RuntimeException(String.format("Cannot wait for clock tick %d, as clock is currently at %s.",tick,currentTick));
    }
    if (!active.contains(Thread.currentThread())) {
      throw new RuntimeException("Cannot wait for clock tick from a thread which is not a test thread.");
    }
    synching.add(Thread.currentThread());
    synchingChanged.signalAll();
  }
  finally {
    lock.unlock();
  }
}
