{
  lock.lock();
  try {
    if (currentTick != tick) {
      throw new RuntimeException(String.format("Expected clock to be at tick %d, but is at %d.",tick,currentTick));
    }
  }
  finally {
    lock.unlock();
  }
}
