{
  ModuleVersionMetaData moduleVersion=(ModuleVersionMetaData)component;
  if (context instanceof ConfigurationResolveContext) {
    String configurationName=((ConfigurationResolveContext)context).getConfigurationName();
    result.resolved(component.getConfiguration(configurationName).getArtifacts());
  }
 else {
    Class<? extends SoftwareArtifact> artifactType=((ArtifactTypeResolveContext)context).getArtifactType();
    try {
      result.resolved(doGetCandidateArtifacts(moduleVersion,artifactType));
    }
 catch (    Exception e) {
      result.failed(new ArtifactResolveException(component.getId(),e));
    }
  }
}
