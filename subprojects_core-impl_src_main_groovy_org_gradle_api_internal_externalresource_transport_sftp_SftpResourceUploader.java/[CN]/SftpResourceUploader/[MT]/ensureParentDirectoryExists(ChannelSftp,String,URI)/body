{
  String directory=FilenameUtils.getFullPathNoEndSeparator(path);
  if (directory.equals("")) {
    return;
  }
  try {
    channel.lstat(directory);
    return;
  }
 catch (  com.jcraft.jsch.SftpException e) {
    if (e.id != ChannelSftp.SSH_FX_NO_SUCH_FILE) {
      throw new SftpException(String.format("Could not get resource '%s'.",baseUri.resolve(directory)),e);
    }
  }
  ensureParentDirectoryExists(channel,directory,baseUri);
  try {
    channel.mkdir(directory);
  }
 catch (  com.jcraft.jsch.SftpException e) {
    throw new SftpException(String.format("Could not create resource '%s'.",baseUri.resolve(directory)),e);
  }
}
