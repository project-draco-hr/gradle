{
  String name=getName();
  VersionMatcher versionMatcher=getSettings().getVersionMatcher();
  try {
    if (!versionMatcher.isDynamic(moduleRevisionId)) {
      return findStaticResourceUsingPattern(moduleRevisionId,pattern,artifact,forDownload);
    }
 else {
      return findDynamicResourceUsingPattern(resourceParser,moduleRevisionId,pattern,artifact,date,forDownload);
    }
  }
 catch (  IOException ex) {
    throw new RuntimeException(name + ": unable to get resource for " + moduleRevisionId+ ": res="+ IvyPatternHelper.substitute(pattern,moduleRevisionId,artifact)+ ": "+ ex,ex);
  }
}
