{
  Scriptable coffeeScriptScope=createCoffeeScriptScope(spec.getCoffeeScriptJs());
  String encoding=spec.getOptions().getEncoding();
  CoffeeScriptCompileDestinationCalculator destinationCalculator=new CoffeeScriptCompileDestinationCalculator(spec.getDestinationDir());
  for (  RelativeFile target : spec.getSource()) {
    String source=readFile(target.getFile(),encoding);
    String output=compile(coffeeScriptScope,source,target.getRelativePath().getPathString());
    writeFile(output,destinationCalculator.transform(target.getRelativePath()),encoding);
  }
  return Boolean.TRUE;
}
