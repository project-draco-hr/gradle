{
  JUnit4Mockery context=new JUnit4Mockery();
  final GradleInternal gradleMock=context.mock(GradleInternal.class);
  final StartParameter testStartParameter=new StartParameter();
  testStartParameter.addInitScript(new File("some init script"));
  testStartParameter.addInitScript(new File("/path/to/another init script"));
  context.checking(new Expectations(){
{
      allowing(gradleMock).getStartParameter();
      will(returnValue(testStartParameter));
    }
  }
);
  List<ScriptSource> sourceList=new DefaultInitScriptFinder().findScripts(gradleMock);
  assertThat(testStartParameter.getInitScripts().size(),equalTo(sourceList.size()));
  assertThat(testStartParameter.getInitScripts(),equalTo(getSourceFiles(sourceList)));
}
