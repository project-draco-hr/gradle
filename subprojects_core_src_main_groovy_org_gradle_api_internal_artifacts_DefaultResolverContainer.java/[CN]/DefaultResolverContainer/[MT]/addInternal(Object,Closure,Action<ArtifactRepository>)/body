{
  ArtifactRepository repository;
  if (userDescription instanceof ArtifactRepository) {
    repository=(ArtifactRepository)userDescription;
  }
 else {
    repository=resolverFactory.createRepository(userDescription);
  }
  DependencyResolver resolver=toResolver(DependencyResolver.class,repository);
  ConfigureUtil.configure(configureClosure,resolver);
  addRepository(new FixedResolverArtifactRepository(resolver),"repository",orderAction);
  return resolver;
}
