{
  if (!GUtil.isTrue(userDescription)) {
    throw new InvalidUserDataException("You must specify userDescription");
  }
  DependencyResolver resolver;
  if (userDescription instanceof DependencyResolver) {
    resolver=(DependencyResolver)userDescription;
  }
 else {
    ArtifactRepository repository=resolverFactory.createRepository(userDescription);
    resolver=toResolver(DependencyResolver.class,repository);
  }
  ConfigureUtil.configure(configureClosure,resolver);
  if (!GUtil.isTrue(resolver.getName())) {
    throw new InvalidUserDataException("You must specify a name for the resolver. Resolver=" + userDescription);
  }
  if (findByName(resolver.getName()) != null) {
    throw new InvalidUserDataException(String.format("Cannot add a resolver with name '%s' as a resolver with that name already exists.",resolver.getName()));
  }
  super.add(resolver);
  orderAction.apply(resolver.getName());
  return resolver;
}
