{
  String vendor=System.getProperty("java.vm.vendor");
  if (vendor.toLowerCase().startsWith("apple inc.")) {
    return new AppleJvm(OperatingSystem.current());
  }
  return new Jvm(OperatingSystem.current());
}
