{
  final String[] expectedArgs={"arg1","arg2"};
  final int expectedExitValue=5;
  final String expectedGradleHome="somepath";
  context.checking(new Expectations(){
{
      one(installMock).createDist("test" + Wrapper.URL_ROOT_PROPERTY,"test" + Wrapper.DISTRIBUTION_BASE_PROPERTY,"test" + Wrapper.DISTRIBUTION_PATH_PROPERTY,"test" + Wrapper.DISTRIBUTION_NAME_PROPERTY,"test" + Wrapper.DISTRIBUTION_VERSION_PROPERTY,"test" + Wrapper.DISTRIBUTION_CLASSIFIER_PROPERTY,"test" + Wrapper.ZIP_STORE_BASE_PROPERTY,"test" + Wrapper.ZIP_STORE_PATH_PROPERTY);
      will(returnValue(expectedGradleHome));
      one(bootstrapMainStarterMock).start(expectedArgs,expectedGradleHome,"test" + Wrapper.DISTRIBUTION_VERSION_PROPERTY);
    }
  }
);
  wrapper.execute(expectedArgs,installMock,bootstrapMainStarterMock);
}
