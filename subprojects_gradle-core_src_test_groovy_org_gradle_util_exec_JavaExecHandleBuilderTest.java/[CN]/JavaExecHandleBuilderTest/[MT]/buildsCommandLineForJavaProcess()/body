{
  File jar1=new File("file1.jar");
  File jar2=new File("file2.jar");
  builder.mainClass("mainClass");
  builder.applicationArgs("arg1","arg2");
  builder.jvmArgs("jvm1","jvm2");
  builder.classpath(jar1,jar2);
  builder.systemProperty("prop","value");
  List<String> jvmArgs=builder.getAllJvmArgs();
  assertThat(jvmArgs.size(),equalTo(5));
  assertThat(jvmArgs.get(0),equalTo("jvm1"));
  assertThat(jvmArgs.get(1),equalTo("jvm2"));
  assertThat(jvmArgs.get(2),equalTo("-Dprop=value"));
  assertThat(jvmArgs.get(3),equalTo("-cp"));
  assertThat(jvmArgs.get(4),equalTo(jar1 + File.pathSeparator + jar2));
  List<String> commandLine=builder.getCommandLine();
  assertThat(commandLine.size(),equalTo(9));
  assertThat(commandLine.get(0),equalTo(Jvm.current().getJavaExecutable().getAbsolutePath()));
  assertThat(commandLine.get(1),equalTo("jvm1"));
  assertThat(commandLine.get(2),equalTo("jvm2"));
  assertThat(commandLine.get(3),equalTo("-Dprop=value"));
  assertThat(commandLine.get(4),equalTo("-cp"));
  assertThat(commandLine.get(5),equalTo(jar1 + File.pathSeparator + jar2));
  assertThat(commandLine.get(6),equalTo("mainClass"));
  assertThat(commandLine.get(7),equalTo("arg1"));
  assertThat(commandLine.get(8),equalTo("arg2"));
}
