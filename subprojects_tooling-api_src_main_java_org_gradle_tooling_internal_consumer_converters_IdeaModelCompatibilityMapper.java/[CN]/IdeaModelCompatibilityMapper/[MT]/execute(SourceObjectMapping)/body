{
  Class<?> targetType=mapping.getTargetType();
  if (IdeaProject.class.isAssignableFrom(targetType) && !versionSupportsIdeaJavaSourceSettings()) {
    mapping.mixIn(CompatibilityIdeaProjectMapping.class);
  }
  if (!versionSupportsIdeaModuleIdentifier()) {
    if (IdeaModuleDependency.class.isAssignableFrom(targetType)) {
      mapping.mixIn(CompatibilityIdeaModuleDependencyMapping.class);
    }
 else     if (IdeaModule.class.isAssignableFrom(targetType)) {
      mapping.mixIn(CompatibilityIdeaModuleMapping.class);
    }
  }
}
