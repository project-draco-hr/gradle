{
  super(target);
  validateTestName(target);
  previous=new ArrayList<BasicGradleDistribution>();
  if (versionStr == null) {
    versionStr=System.getProperty("org.gradle.integtest.versions","latest");
  }
  ReleasedVersions previousVersions=new ReleasedVersions(testDirectoryProvider);
  if (!versionStr.equals("all")) {
    previous.add(previousVersions.getLast());
  }
 else {
    List<BasicGradleDistribution> all=previousVersions.getAll();
    for (    BasicGradleDistribution previous : all) {
      if (!previous.worksWith(Jvm.current())) {
        add(new IgnoredVersion(previous,"does not work with current JVM"));
        continue;
      }
      if (!previous.worksWith(OperatingSystem.current())) {
        add(new IgnoredVersion(previous,"does not work with current OS"));
        continue;
      }
      this.previous.add(previous);
    }
  }
}
