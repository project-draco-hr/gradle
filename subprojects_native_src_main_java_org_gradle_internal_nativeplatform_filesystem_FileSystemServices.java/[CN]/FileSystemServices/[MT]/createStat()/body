{
  final OperatingSystem operatingSystem=OperatingSystem.current();
  if (operatingSystem.isLinux() || operatingSystem.isMacOsX()) {
    LibC libc=loadLibC();
    return new LibCStat(libc,operatingSystem,(BaseNativePOSIX)PosixUtil.current(),createEncoder(libc));
  }
 else {
    return new PosixStat(PosixUtil.current());
  }
}
