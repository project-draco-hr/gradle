{
  ModelNodeInternal node=modelGraph.find(path);
  if (node == null) {
    return;
  }
  Iterable<? extends ModelNode> dependents=node.getDependents();
  if (Iterables.isEmpty(dependents)) {
    modelGraph.remove(node);
    ruleBindings.remove(node);
    unboundRules.remove(node.getRegistrationBinder());
    unboundRules.removeAll(node.getInitializerRuleBinders());
  }
 else {
    throw new RuntimeException("Tried to remove model " + path + " but it is depended on by: "+ Joiner.on(", ").join(dependents));
  }
}
