{
  if (reset) {
    unboundRules.remove(node.getRegistrationBinder());
    unboundRules.removeAll(node.getInitializerRuleBinders());
    return node;
  }
  addRuleBindings(node);
  modelGraph.add(node);
  ruleBindings.nodeCreated(node);
  ModelRegistration registration=node.getRegistrationBinder().getRegistration();
  node.setHidden(registration.isHidden());
  if (registration.isService()) {
    node.ensureAtLeast(Discovered);
  }
  return node;
}
