{
  ModelPath path=creator.getReference().getPath();
  ModelCreator<?> existingCreation=creations.get(path);
  if (existingCreation != null) {
    throw new DuplicateModelException(String.format("Cannot register model creation rule '%s' for path '%s' as the rule '%s' is already registered to create a model element at this path",toString(creator.getSourceDescriptor()),path,toString(existingCreation.getSourceDescriptor())));
  }
  ModelElement<?> existing=store.get(path);
  if (existing != null) {
    throw new DuplicateModelException(String.format("Cannot register model creation rule '%s' for path '%s' as the rule '%s' is already registered (and the model element has been created)",toString(creator.getSourceDescriptor()),path,toString(existing.getCreatorDescriptor())));
  }
  notifyCreationListeners(creator);
  creations.put(path,creator);
}
