{
  ModelNode.State nodeState=node.getState();
  if (nodeState.ordinal() >= to.ordinal()) {
    return nodeState.ordinal() < desired.ordinal();
  }
  while (true) {
    while (!mutationBindersByActionRole.get(type).get(path).isEmpty()) {
      forceBind(mutationBindersByActionRole.get(type).get(path).iterator().next());
    }
    List<BoundModelMutator<?>> mutators=node.removeMutators(type);
    if (mutators.isEmpty()) {
      break;
    }
    for (    BoundModelMutator<?> mutator : mutators) {
      fireMutation(mutator);
    }
  }
  node.setState(to);
  if (to == desired) {
    LOGGER.debug("Finished transitioning model element {} from state {} to {}",path,originalState.name(),desired.name());
    return false;
  }
 else {
    return true;
  }
}
