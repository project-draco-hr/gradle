{
  if (!(identifier instanceof ModuleComponentIdentifier)) {
    throw new UnsupportedOperationException("Can only resolve module components");
  }
  ModuleComponentIdentifier moduleId=(ModuleComponentIdentifier)identifier;
  dependency=dependency.withRequestedVersion(new DefaultModuleVersionSelector(moduleId.getGroup(),moduleId.getModule(),moduleId.getVersion()));
  resolver.resolve(dependency,result);
}
