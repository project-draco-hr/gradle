{
  Set taskDependsOn=new HashSet();
  for (  Object dependsOn : getDependsOn()) {
    if (!isChildArchive(dependsOn)) {
      taskDependsOn.add(dependsOn);
    }
  }
  task.dependsOn((Object[])taskDependsOn.toArray(new Object[taskDependsOn.size()]));
}
