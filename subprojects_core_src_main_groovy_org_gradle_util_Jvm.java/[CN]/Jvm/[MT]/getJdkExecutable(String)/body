{
  if (suppliedJavaHome == null) {
    return new File(JavaEnvUtils.getJdkExecutable(command));
  }
 else {
    File exec=new File(suppliedJavaHome,"bin/" + command);
    File maybeExtension=new File(os.getExecutableName(exec.getAbsolutePath()));
    if (!maybeExtension.isFile()) {
      throw new JavaHomeException(String.format("The supplied javaHome seems to be invalid." + " I cannot find the %s executable. Tried location: %s",command,maybeExtension.getAbsolutePath()));
    }
    return maybeExtension;
  }
}
