{
  File javaHome=getJavaHome();
  File execFile=new File(javaHome,"bin/" + command);
  File executable=new File(os.getExecutableName(execFile.getAbsolutePath()));
  if (executable.isFile()) {
    return executable;
  }
  if (suppliedJavaHome != null) {
    throw new JavaHomeException(String.format("The supplied javaHome seems to be invalid." + " I cannot find the %s executable. Tried location: %s",command,executable.getAbsolutePath()));
  }
  LOGGER.warn("Gradle was not able to find the java executable using home: " + javaHome + ". We will assume the exectuable is on path.");
  return new File(JavaEnvUtils.getJdkExecutable(command));
}
