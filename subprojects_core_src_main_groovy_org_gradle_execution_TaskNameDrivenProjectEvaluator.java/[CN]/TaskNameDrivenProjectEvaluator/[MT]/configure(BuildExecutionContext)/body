{
  if (!context.getGradle().getStartParameter().isConfigureOnDemand()) {
    context.proceed();
    return;
  }
  List<String> taskNames=context.getGradle().getStartParameter().getTaskNames();
  ProjectInternal project=context.getGradle().getDefaultProject();
  for (  String path : taskNames) {
    if (path.contains(Project.PATH_SEPARATOR)) {
      String projectPath=StringUtils.substringBeforeLast(path,Project.PATH_SEPARATOR);
      projectPath=projectPath.length() == 0 ? Project.PATH_SEPARATOR : projectPath;
      project=findProject(project,projectPath);
      project.evaluate();
    }
 else {
      project.evaluate();
      for (      Project sub : project.getSubprojects()) {
        ((ProjectInternal)sub).evaluate();
      }
    }
  }
  context.proceed();
}
