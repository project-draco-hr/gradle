{
  Set<Artifact> allArtifacts=getAllArtifacts(moduleDescriptor);
  Map<Artifact,File> artifactsFiles=new LinkedHashMap<Artifact,File>();
  for (  Artifact artifact : allArtifacts) {
    addPublishedArtifact(artifact,artifactsFiles);
  }
  if (descriptorFile != null) {
    addPublishedDescriptor(artifactsFiles);
  }
  publisher.publish(moduleDescriptor.getModuleRevisionId(),artifactsFiles);
}
