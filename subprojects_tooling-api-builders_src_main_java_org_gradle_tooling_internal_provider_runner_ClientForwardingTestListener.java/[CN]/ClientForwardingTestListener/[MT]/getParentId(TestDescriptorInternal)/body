{
  TestDescriptorInternal parent=descriptor.getParent();
  Object parentId=parent != null ? parent.getId() : null;
  if (parentId == null) {
    if (listenerConfiguration.isSendTaskProgressEvents()) {
      if (descriptor instanceof DecoratingTestDescriptor) {
        descriptor=((DecoratingTestDescriptor)descriptor).getDescriptor();
      }
      if (descriptor instanceof TestMainAction.RootTestSuiteDescriptor) {
        parentId=((TestMainAction.RootTestSuiteDescriptor)descriptor).getTestTaskOperationId();
      }
    }
  }
  return parentId;
}
