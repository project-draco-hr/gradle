{
  File compilerJar=findJar(scalaClasspath,"scala-compiler(-.*)?.jar");
  File libraryJar=findJar(scalaClasspath,"scala-library(-.*)?.jar");
  List<File> extraJars=Lists.newArrayList(scalaClasspath);
  extraJars.remove(compilerJar);
  extraJars.remove(libraryJar);
  File sbtInterfaceJar=findJar(zincClasspath,"sbt-interface(-.*)?.jar");
  File compilerInterfaceSourcesJar=findJar(zincClasspath,"compiler-interface(-.*)?-sources.jar");
  Setup setup=Setup.create(compilerJar,libraryJar,extraJars,sbtInterfaceJar,compilerInterfaceSourcesJar,Jvm.current().getJavaHome());
  if (LOGGER.isDebugEnabled()) {
    Setup.debug(setup,logger);
  }
  return com.typesafe.zinc.Compiler.create(setup,logger);
}
