{
  ScalaLocation scalaLocation=ScalaLocation.fromPath(Lists.newArrayList(scalaClasspath));
  File sbtInterfaceJar=findJar(zincClasspath,"sbt-interface(-.*)?.jar");
  File compilerInterfaceSourcesJar=findJar(zincClasspath,"compiler-interface(-.*)?-sources.jar");
  Setup setup=Setup.create(scalaLocation,sbtInterfaceJar,compilerInterfaceSourcesJar,Jvm.current().getJavaHome());
  if (LOGGER.isDebugEnabled()) {
    Setup.debug(setup,logger);
  }
  return com.typesafe.zinc.Compiler.create(setup,logger);
}
