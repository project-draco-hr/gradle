{
  buildController.setStartParameter(startParameter);
  GradleInternal gradle=buildController.getGradle();
  PayloadSerializer payloadSerializer=gradle.getServices().get(PayloadSerializer.class);
  InternalBuildAction<?> action=(InternalBuildAction<?>)payloadSerializer.deserialize(this.action);
  buildController.configure();
  gradle.getServices().get(ProjectConfigurer.class).configureHierarchy(gradle.getRootProject());
  InternalBuildController internalBuildController=new DefaultBuildController(gradle);
  Object model=null;
  Throwable failure=null;
  try {
    model=action.execute(internalBuildController);
  }
 catch (  BuildCancelledException e) {
    failure=new InternalBuildCancelledException(e);
  }
catch (  RuntimeException e) {
    failure=new InternalBuildActionFailureException(e);
  }
  if (failure != null) {
    return new BuildActionResult(null,payloadSerializer.serialize(failure));
  }
  return new BuildActionResult(payloadSerializer.serialize(model),null);
}
