{
  context.checking(new Expectations(){
{
      one(appender).doAppend(with(event(Level.ERROR,"a line longer than 8 bytes long")));
      one(appender).doAppend(with(event(Level.ERROR,"line 2")));
    }
  }
);
  adapter.write(String.format("a line longer than 8 bytes long%n").getBytes());
  adapter.write("line 2".getBytes());
  adapter.close();
}
