{
  context.checking(new Expectations(){
{
      one(appender).doAppend(with(event(Level.ERROR,"line 1")));
      one(appender).doAppend(with(event(Level.ERROR,"line 2")));
    }
  }
);
  System.setProperty("line.separator","----");
  adapter=new StandardOutputLoggingAdapter(logger,Level.ERROR);
  adapter.write(String.format("line 1----line 2----").getBytes());
}
