{
  if (installedDistribution == null) {
    File installDir;
    try {
      Install install=new Install(false,false,new ProgressReportingDownload(progressLoggerFactory),new PathAssembler(userHomeDir));
      installDir=install.createDist(gradleDistribution);
    }
 catch (    FileNotFoundException e) {
      throw new IllegalArgumentException(String.format("The specified %s does not exist.",getDisplayName()),e);
    }
catch (    Exception e) {
      throw new GradleConnectionException(String.format("Could not install Gradle distribution from '%s'.",gradleDistribution),e);
    }
    installedDistribution=new InstalledDistribution(installDir,getDisplayName(),getDisplayName());
  }
  return installedDistribution.getToolingImplementationClasspath(progressLoggerFactory);
}
