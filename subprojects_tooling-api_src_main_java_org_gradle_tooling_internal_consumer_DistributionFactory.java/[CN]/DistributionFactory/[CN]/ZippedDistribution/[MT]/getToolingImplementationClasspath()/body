{
  if (installedDistribution == null) {
    File installDir;
    try {
      Install install=new Install(false,false,new ProgressReportingDownload(progressLoggerFactory),new PathAssembler(userHomeDir));
      installDir=install.createDist(gradleDistribution,PathAssembler.GRADLE_USER_HOME_STRING,org.gradle.api.tasks.wrapper.Wrapper.DEFAULT_DISTRIBUTION_PARENT_NAME,PathAssembler.GRADLE_USER_HOME_STRING,org.gradle.api.tasks.wrapper.Wrapper.DEFAULT_DISTRIBUTION_PARENT_NAME);
    }
 catch (    FileNotFoundException e) {
      throw new IllegalArgumentException(String.format("The specified %s does not exist.",getDisplayName()),e);
    }
catch (    Exception e) {
      throw new GradleConnectionException(String.format("Could not install Gradle distribution from '%s'.",gradleDistribution),e);
    }
    installedDistribution=new InstalledDistribution(installDir,getDisplayName(),getDisplayName());
  }
  return installedDistribution.getToolingImplementationClasspath();
}
