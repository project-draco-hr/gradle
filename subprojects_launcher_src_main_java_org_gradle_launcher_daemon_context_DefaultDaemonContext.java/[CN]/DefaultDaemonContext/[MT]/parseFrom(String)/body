{
  Pattern pattern=Pattern.compile("^.*DefaultDaemonContext\\[javaHome=([^\\n]+),daemonRegistryDir=([^\\n]+),pid=([^\\n]+),idleTimeout=(.+?),daemonOpts=([^\\n]+)].*",Pattern.MULTILINE + Pattern.DOTALL);
  Matcher matcher=pattern.matcher(source);
  if (matcher.matches()) {
    String javaHome=matcher.group(1);
    String daemonRegistryDir=matcher.group(2);
    Long pid=Long.parseLong(matcher.group(3));
    Integer idleTimeout=Integer.decode(matcher.group(4));
    List<String> jvmOpts=Lists.newArrayList(Splitter.on(',').split(matcher.group(5)));
    return new DefaultDaemonContext(new File(javaHome),new File(daemonRegistryDir),pid,idleTimeout,jvmOpts);
  }
 else {
    throw new IllegalStateException("unable to parse DefaultDaemonContext from source: [" + source + "].");
  }
}
