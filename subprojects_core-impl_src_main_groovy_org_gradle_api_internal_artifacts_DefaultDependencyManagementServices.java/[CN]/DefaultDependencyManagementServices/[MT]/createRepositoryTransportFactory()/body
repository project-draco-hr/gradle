{
  ExternalArtifactCacheBuilder cacheBuilder=new ExternalArtifactCacheBuilder(get(ArtifactCacheMetaData.class),get(LocalMavenCacheLocator.class));
  cacheBuilder.addCurrent(get(ArtifactFileStore.class));
  cacheBuilder.addMilestone6();
  cacheBuilder.addMilestone3();
  cacheBuilder.addMavenLocal();
  return new RepositoryTransportFactory(cacheBuilder.getExternalArtifactCache(),get(ProgressLoggerFactory.class),get(FileStore.class));
}
