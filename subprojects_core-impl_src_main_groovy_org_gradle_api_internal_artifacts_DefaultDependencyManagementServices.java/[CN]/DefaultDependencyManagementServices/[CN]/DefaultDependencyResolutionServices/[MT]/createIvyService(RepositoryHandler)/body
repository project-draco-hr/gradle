{
  DependencyDescriptorFactory dependencyDescriptorFactoryDelegate=createDependencyDescriptorFactory(ProjectDependencyDescriptorFactory.RESOLVE_DESCRIPTOR_STRATEGY);
  PublishModuleDescriptorConverter fileModuleDescriptorConverter=new PublishModuleDescriptorConverter(createResolveModuleDescriptorConverter(ProjectDependencyDescriptorFactory.IVY_FILE_DESCRIPTOR_STRATEGY),new DefaultArtifactsToModuleDescriptorConverter(DefaultArtifactsToModuleDescriptorConverter.IVY_FILE_STRATEGY));
  return new ErrorHandlingIvyService(new ShortcircuitEmptyConfigsIvyService(new DefaultIvyService(dependencyMetaDataProvider,resolverProvider,new DefaultSettingsConverter(parent.get(ProgressLoggerFactory.class),new IvySettingsFactory(parent.get(CacheRepository.class)),new DefaultInternalRepository(projectFinder,parent.get(ModuleDescriptorConverter.class)),clientModuleRegistry),parent.get(PublishModuleDescriptorConverter.class),parent.get(PublishModuleDescriptorConverter.class),fileModuleDescriptorConverter,new DefaultIvyFactory(),new SelfResolvingDependencyResolver(new DefaultIvyDependencyResolver(new DefaultIvyReportConverter(dependencyDescriptorFactoryDelegate))),new DefaultIvyDependencyPublisher(new DefaultPublishOptionsFactory()))));
}
