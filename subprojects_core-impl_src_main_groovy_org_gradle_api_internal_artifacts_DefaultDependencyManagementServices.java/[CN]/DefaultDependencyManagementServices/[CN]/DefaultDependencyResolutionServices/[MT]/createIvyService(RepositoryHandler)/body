{
  DependencyDescriptorFactory dependencyDescriptorFactoryDelegate=createDependencyDescriptorFactory(ProjectDependencyDescriptorFactory.RESOLVE_DESCRIPTOR_STRATEGY);
  PublishModuleDescriptorConverter fileModuleDescriptorConverter=new PublishModuleDescriptorConverter(createResolveModuleDescriptorConverter(ProjectDependencyDescriptorFactory.IVY_FILE_DESCRIPTOR_STRATEGY),new DefaultArtifactsToModuleDescriptorConverter(DefaultArtifactsToModuleDescriptorConverter.IVY_FILE_STRATEGY));
  InternalRepository internalRepository=new DefaultInternalRepository(projectFinder,parent.get(ModuleDescriptorConverter.class));
  return new ErrorHandlingIvyService(new EventBroadcastingIvyService(new ShortcircuitEmptyConfigsIvyService(new DefaultIvyService(dependencyMetaDataProvider,resolverProvider,parent.get(SettingsConverter.class),parent.get(PublishModuleDescriptorConverter.class),parent.get(PublishModuleDescriptorConverter.class),fileModuleDescriptorConverter,new DefaultIvyFactory(),new SelfResolvingDependencyResolver(new DefaultIvyDependencyResolver(new DefaultIvyReportConverter(dependencyDescriptorFactoryDelegate))),new DefaultIvyDependencyPublisher(new DefaultPublishOptionsFactory()),internalRepository,clientModuleRegistry))));
}
