{
  final ResourceOperation downloadOperation=createResourceOperation(resource.getName(),ResourceOperation.Type.download,getClass(),resource.getContentLength());
  final ProgressLoggingOutputStream progressLoggingOutputStream=new ProgressLoggingOutputStream(outputStream,downloadOperation);
  try {
    resource.writeTo(progressLoggingOutputStream);
  }
  finally {
    downloadOperation.completed();
  }
}
