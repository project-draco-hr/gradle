{
  final TestFile gradleHomeDir=file("integTest.gradleHomeDir",null);
  final TestFile samplesDir=file("integTest.samplesdir",new File(gradleHomeDir,"samples").getAbsolutePath());
  final TestFile userGuideOutputDir=file("integTest.userGuideOutputDir","subprojects/gradle-docs/src/samples/userguideOutput");
  final TestFile userGuideInfoDir=file("integTest.userGuideInfoDir","subprojects/gradle-docs/build/docbook/src");
  final TestFile distsDir=file("integTest.distsDir","build/distributions");
  final TestFile testDir=temporaryFolder.getDir();
  return new GradleDistribution(){
    public boolean isFileUnderTest(    File file){
      return gradleHomeDir.isSelfOrDescendent(file) || samplesDir.isSelfOrDescendent(file) || testDir.isSelfOrDescendent(file)|| userHomeDir.isSelfOrDescendent(file);
    }
    public TestFile getUserHomeDir(){
      return userHomeDir;
    }
    public TestFile getGradleHomeDir(){
      return gradleHomeDir;
    }
    public TestFile getSamplesDir(){
      return samplesDir;
    }
    public TestFile getUserGuideInfoDir(){
      return userGuideInfoDir;
    }
    public TestFile getUserGuideOutputDir(){
      return userGuideOutputDir;
    }
    public TestFile getDistributionsDir(){
      return distsDir;
    }
    public TestFile getTestDir(){
      return testDir;
    }
    public TestFile testFile(    Object... path){
      return testDir.file(path);
    }
  }
;
}
