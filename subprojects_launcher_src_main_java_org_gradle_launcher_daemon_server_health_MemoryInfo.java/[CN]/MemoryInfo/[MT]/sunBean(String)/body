{
  OperatingSystemMXBean bean=ManagementFactory.getOperatingSystemMXBean();
  Throwable rootCause=null;
  ClassLoader beanLoader=ClassLoader.getSystemClassLoader();
  try {
    Class<?> osbean=beanLoader.loadClass("com.sun.management.OperatingSystemMXBean");
    return (Long)osbean.getMethod(methodName).invoke(bean);
  }
 catch (  IllegalAccessException e) {
    rootCause=e;
  }
catch (  InvocationTargetException e) {
    rootCause=e;
  }
catch (  NoSuchMethodException e) {
    rootCause=e;
  }
catch (  ClassNotFoundException e) {
    rootCause=e;
  }
  throw new UnsupportedOperationException(methodName + " is unsupported on this JVM.",rootCause);
}
