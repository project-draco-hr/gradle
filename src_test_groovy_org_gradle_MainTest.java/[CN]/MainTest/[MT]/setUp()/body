{
  context.setImposteriser(ClassImposteriser.INSTANCE);
  gradleMock=context.mock(Gradle.class);
  Gradle.injectCustomFactory(new GradleFactory(){
    public Gradle newInstance(    StartParameter startParameter){
      actualStartParameter=startParameter;
      return gradleMock;
    }
  }
);
  expectedGradleUserHome=new File(Main.DEFAULT_GRADLE_USER_HOME);
  expectedGradleImportsFile=new File(TEST_GRADLE_HOME,Main.IMPORTS_FILE_NAME);
  expectedPluginPropertiesFile=new File(TEST_GRADLE_HOME,Main.DEFAULT_PLUGIN_PROPERTIES);
  expectedTaskNames=WrapUtil.toList("clean","compile");
  expectedProjectDir=new File("").getCanonicalFile();
  expectedProjectProperties=new HashMap();
  expectedSystemProperties=new HashMap();
  expectedSettingsFileName=Settings.DEFAULT_SETTINGS_FILE;
  expectedBuildFileName=Project.DEFAULT_BUILD_FILE;
  expectedCacheUsage=CacheUsage.ON;
  expectedSearchUpwards=true;
  expectedEmbeddedScript="somescript";
}
