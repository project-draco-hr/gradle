{
  context.checking(new Expectations(){
{
      one(delegate).process(finder,startParameter,properties);
      will(returnValue(settings));
      one(settings).findDescriptor(currentDir);
      will(returnValue(context.mock(ProjectDescriptor.class)));
    }
  }
);
  assertThat(processor.process(finder,startParameter,properties),sameInstance(settings));
}
