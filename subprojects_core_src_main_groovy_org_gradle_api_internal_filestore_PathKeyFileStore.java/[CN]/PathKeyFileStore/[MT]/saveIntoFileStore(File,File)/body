{
  if (!source.exists()) {
    throw new GradleException(String.format("Cannot copy '%s' into filestore @ '%s' as it does not exist",source,destination));
  }
  File parentDir=destination.getParentFile();
  if (!parentDir.mkdirs() && !parentDir.exists()) {
    throw new GradleException(String.format("Unable to create filestore directory %s",parentDir));
  }
  if (!source.renameTo(destination)) {
    throw new GradleException(String.format("Failed to copy file '%s' into filestore at '%s' ",source,destination));
  }
}
