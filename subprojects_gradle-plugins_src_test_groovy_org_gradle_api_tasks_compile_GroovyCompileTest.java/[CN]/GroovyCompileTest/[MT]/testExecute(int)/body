{
  final IsolatedAntBuilder ant=getProject().getServiceRegistryFactory().get(IsolatedAntBuilder.class);
  setUpMocksAndAttributes(testObj,TEST_GROOVY_CLASSPATH);
  context.checking(new Expectations(){
{
      one(antGroovycCompileMock).execute(with(hasSameItems(testObj.getSource())),with(equalTo(testObj.getDestinationDir())),with(equalTo(TEST_DEPENDENCY_MANAGER_CLASSPATH)),with(equalTo(testObj.getSourceCompatibility())),with(equalTo(testObj.getTargetCompatibility())),with(equalTo(testObj.getGroovyOptions())),with(equalTo(testObj.getOptions())),with(equalTo(TEST_GROOVY_CLASSPATH)));
      one(antGroovycCompileMock).getNumFilesCompiled();
      will(returnValue(numFilesCompiled));
    }
  }
);
  testObj.execute();
}
