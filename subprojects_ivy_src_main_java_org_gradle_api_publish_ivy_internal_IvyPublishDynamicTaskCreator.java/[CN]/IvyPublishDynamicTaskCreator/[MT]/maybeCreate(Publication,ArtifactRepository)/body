{
  if (!(publication instanceof IvyPublicationInternal)) {
    return;
  }
  if (!(repository instanceof IvyArtifactRepositoryInternal)) {
    return;
  }
  IvyPublicationInternal publicationInternal=(IvyPublicationInternal)publication;
  IvyArtifactRepositoryInternal repositoryInternal=(IvyArtifactRepositoryInternal)repository;
  String taskName=String.format("publish%sTo%s",capitalize(publicationInternal.getName()),capitalize(repositoryInternal.getName()));
  IvyPublish task=tasks.add(taskName,IvyPublish.class);
  task.setPublication(publicationInternal);
  task.setTo(repositoryInternal);
  task.setGroup("publishing");
  task.setDescription(String.format("Publishes Ivy publication %s to Ivy repository %s",publication.getName(),repository.getName()));
}
