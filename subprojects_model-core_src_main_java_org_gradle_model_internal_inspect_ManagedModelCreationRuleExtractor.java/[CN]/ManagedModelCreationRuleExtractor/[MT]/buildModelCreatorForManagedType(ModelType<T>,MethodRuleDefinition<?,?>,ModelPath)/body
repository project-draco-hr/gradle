{
  ModelSchema<T> modelSchema=getModelSchema(managedType,ruleDefinition);
  if (modelSchema instanceof ModelValueSchema) {
    throw new InvalidModelRuleDeclarationException(ruleDefinition.getDescriptor(),"a void returning model element creation rule cannot take a value type as the first parameter, which is the element being created. Return the value from the method.");
  }
  if (!(modelSchema instanceof ManagedImplModelSchema)) {
    String description="a void returning model element creation rule has to take an instance of a managed type as the first argument";
    throw new InvalidModelRuleDeclarationException(ruleDefinition.getDescriptor(),description);
  }
  ManagedImplModelSchema<T> managedSchema=(ManagedImplModelSchema<T>)modelSchema;
  List<ModelReference<?>> bindings=ruleDefinition.getReferences();
  List<ModelReference<?>> inputs=bindings.subList(1,bindings.size());
  ModelRuleDescriptor descriptor=ruleDefinition.getDescriptor();
  final ModelReference<T> reference=ModelReference.of(modelPath,managedType);
  return ModelCreators.of(modelPath,managedSchema.getNodeInitializer()).descriptor(descriptor).action(ModelActionRole.Initialize,InputUsingModelAction.of(reference,descriptor,inputs,new RuleMethodBackedMutationAction<T>(ruleDefinition.getRuleInvoker()))).build();
}
