{
  project.getPlugins().apply(LifecycleBasePlugin.class);
  project.getPlugins().apply(LanguageBasePlugin.class);
  LibraryContainer libraries=project.getExtensions().getByType(LibraryContainer.class);
  libraries.registerFactory(JvmLibrary.class,new NamedDomainObjectFactory<JvmLibrary>(){
    public JvmLibrary create(    String name){
      return new DefaultJvmLibrary(name);
    }
  }
);
  BinaryContainer binaries=project.getExtensions().getByType(BinaryContainer.class);
  binaries.registerBinding(JvmLibraryBinary.class,DefaultJvmLibraryBinary.class);
  modelRules.register("libraries",libraries);
  modelRules.rule(new CreateJvmBinaries());
  modelRules.rule(new CloseBinariesForTasks());
}
