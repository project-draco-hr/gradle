{
  context.checking(new Expectations(){
{
      one(projectsLoaderMock).load(settingsMock,expectedClassLoader,expectedStartParams,expectedProjectProperties,System.getProperties(),System.getenv());
      one(settingsProcessorMock).process(rootFinderMock,expectedStartParams);
      will(returnValue(settingsMock));
      one(buildConfigurerMock).process(expectedRootProject);
      one(buildExecuterMock).unknownTasks(expectedTaskNames,expectedRecursive,expectedCurrentProject);
      will(returnValue(WrapUtil.toList("a")));
    }
  }
);
  build.run(expectedStartParams);
}
