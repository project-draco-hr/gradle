{
  ModuleRevisionId actualId=ivyNode.getResolvedId();
  Set<String> configurations=getConfigurationHierarchy(ivyNode,configuration);
  DefaultResolvedDependency resolvedDependency;
  if (actualId.getAttribute(DependencyDescriptorFactory.PROJECT_PATH_KEY) != null) {
    resolvedDependency=new DefaultResolvedDependency(actualId.getAttribute(DependencyDescriptorFactory.PROJECT_PATH_KEY),actualId.getOrganisation(),actualId.getName(),actualId.getRevision(),configuration);
  }
 else {
    resolvedDependency=new DefaultResolvedDependency(actualId.getOrganisation(),actualId.getName(),actualId.getRevision(),configuration);
  }
  Set<ResolvedArtifact> moduleArtifacts=getArtifacts(resolvedDependency,ivyNode);
  for (  ResolvedArtifact artifact : moduleArtifacts) {
    resolvedDependency.addModuleArtifact(artifact);
  }
  return new ConfigurationDetails(resolvedDependency,ivyNode,configurations);
}
