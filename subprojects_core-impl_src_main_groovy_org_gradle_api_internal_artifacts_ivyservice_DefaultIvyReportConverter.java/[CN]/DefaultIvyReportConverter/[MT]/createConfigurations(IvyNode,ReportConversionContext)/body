{
  Collection<Usage> usages=getUsages(node,context);
  for (  Usage usage : usages) {
    Set<String> childConfigs=getRealConfigurations(node,Arrays.asList(usage.dependencyDescriptor.getDependencyConfigurations(usage.dependerConfig)));
    for (    String childConfigName : childConfigs) {
      context.addConfiguration(node,childConfigName);
    }
  }
  if (node == node.getRoot()) {
    context.root=context.addConfiguration(node,context.conf).dependency;
  }
}
