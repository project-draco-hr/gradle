{
  DependencyDescriptor dependencyDescriptor=usage.dependencyDescriptor;
  Set<ResolvedArtifact> artifacts=new LinkedHashSet<ResolvedArtifact>();
  for (  DependencyArtifactDescriptor artifactDescriptor : dependencyDescriptor.getDependencyArtifacts(usage.dependerConfig)) {
    MDArtifact artifact=new MDArtifact(childNode.getDescriptor(),artifactDescriptor.getName(),artifactDescriptor.getType(),artifactDescriptor.getExt(),artifactDescriptor.getUrl(),artifactDescriptor.getQualifiedExtraAttributes());
    artifacts.add(createResolvedArtifact(child.dependency,artifact,childNode));
  }
  if (artifacts.isEmpty()) {
    for (    String childConfig : child.configurationHierarchy) {
      for (      Artifact artifact : childNode.getDescriptor().getArtifacts(childConfig)) {
        artifacts.add(createResolvedArtifact(child.dependency,artifact,childNode));
      }
    }
  }
  return artifacts;
}
