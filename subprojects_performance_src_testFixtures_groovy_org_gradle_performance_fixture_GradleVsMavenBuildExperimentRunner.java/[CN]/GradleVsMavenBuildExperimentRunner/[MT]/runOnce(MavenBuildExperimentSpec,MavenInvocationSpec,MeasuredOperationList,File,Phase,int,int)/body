{
  final BuildExperimentInvocationInfo invocationInfo=new DefaultBuildExperimentInvocationInfo(experiment,projectDir,phase,iterationNumber,iterationMax);
  final Runnable runner=new Runnable(){
    public void run(){
      ExecAction mavenInvocation=createMavenInvocation(buildSpec);
      System.out.println("Run Maven using JVM opts: " + buildSpec.getJvmOpts());
      mavenInvocation.execute();
    }
  }
;
  if (experiment.getListener() != null) {
    experiment.getListener().beforeInvocation(invocationInfo);
  }
  MeasuredOperation operation=getTimer().measure(new Action<MeasuredOperation>(){
    @Override public void execute(    MeasuredOperation measuredOperation){
      runner.run();
    }
  }
);
  final AtomicBoolean omitMeasurement=new AtomicBoolean();
  if (experiment.getListener() != null) {
    experiment.getListener().afterInvocation(invocationInfo,operation,new BuildExperimentListener.MeasurementCallback(){
      @Override public void omitMeasurement(){
        omitMeasurement.set(true);
      }
    }
);
  }
  if (!omitMeasurement.get()) {
    if (operation.getException() == null) {
      getDataCollector().collect(invocationInfo,operation);
    }
    results.add(operation);
  }
}
