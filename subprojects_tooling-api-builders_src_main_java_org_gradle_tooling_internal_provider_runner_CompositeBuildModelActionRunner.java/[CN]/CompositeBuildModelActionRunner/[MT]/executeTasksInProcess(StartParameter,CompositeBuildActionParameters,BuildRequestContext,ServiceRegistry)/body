{
  CompositeParameters compositeParameters=actionParameters.getCompositeParameters();
  GradleLauncherFactory launcherFactory=sharedServices.get(GradleLauncherFactory.class);
  GradleParticipantBuild participant=compositeParameters.getTargetBuild();
  StartParameter startParameter=parentStartParam.newInstance();
  startParameter.setProjectDir(participant.getProjectDir());
  startParameter.setSearchUpwards(false);
  ServiceRegistry buildScopedServices=new BuildSessionScopeServices(sharedServices,startParameter,ClassPath.EMPTY);
  DefaultBuildRequestContext requestContext=new DefaultBuildRequestContext(new DefaultBuildRequestMetaData(new GradleLauncherMetaData(),System.currentTimeMillis()),buildRequestContext.getCancellationToken(),buildRequestContext.getEventConsumer(),buildRequestContext.getOutputListener(),buildRequestContext.getErrorListener());
  GradleLauncher launcher=launcherFactory.newInstance(startParameter,requestContext,buildScopedServices);
  try {
    launcher.run();
  }
  finally {
    launcher.stop();
  }
}
