{
  boolean propagateFailures=ModelIdentifier.NULL_MODEL.equals(modelAction.getModelName());
  CompositeBuildContext context=constructCompositeContext(modelAction,buildRequestContext,compositeParameters,sharedServices,propagateFailures);
  DefaultServiceRegistry compositeServices=(DefaultServiceRegistry)ServiceRegistryBuilder.builder().displayName("Composite services").parent(sharedServices).build();
  compositeServices.add(CompositeBuildContext.class,context);
  compositeServices.addProvider(new CompositeScopeServices(modelAction.getStartParameter(),compositeServices));
  return compositeServices;
}
