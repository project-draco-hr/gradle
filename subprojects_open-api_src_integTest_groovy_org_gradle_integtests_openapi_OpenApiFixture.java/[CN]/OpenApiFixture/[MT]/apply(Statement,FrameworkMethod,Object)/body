{
  return new Statement(){
    @Override public void evaluate() throws Throwable {
      dist=RuleHelper.getField(target,GradleDistribution.class);
      testWorkDirProvider=RuleHelper.getField(target,TestWorkDirProvider.class);
      try {
        base.evaluate();
      }
  finally {
        SwingUtilities.invokeAndWait(new Runnable(){
          public void run(){
            for (            JFrame frame : frames) {
              frame.dispose();
            }
          }
        }
);
      }
    }
  }
;
}
