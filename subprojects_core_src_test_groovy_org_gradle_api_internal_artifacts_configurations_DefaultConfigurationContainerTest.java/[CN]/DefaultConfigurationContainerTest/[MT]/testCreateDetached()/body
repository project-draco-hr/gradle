{
  Dependency dependency1=HelperUtil.createDependency("group1","name1","version1");
  Dependency dependency2=HelperUtil.createDependency("group2","name2","version2");
  Configuration detachedConf=configurationContainer.detachedConfiguration(dependency1,dependency2);
  assertThat(toList(detachedConf.getAll()),equalTo(toList(toSet(detachedConf))));
  assertThat(toList(detachedConf.getHierarchy()),equalTo(toList(toSet(detachedConf))));
  assertThat(detachedConf.getDependencies(),equalTo(toSet(dependency1,dependency2)));
  assertNotSameInstances(detachedConf.getDependencies(),toSet(dependency1,dependency2));
}
