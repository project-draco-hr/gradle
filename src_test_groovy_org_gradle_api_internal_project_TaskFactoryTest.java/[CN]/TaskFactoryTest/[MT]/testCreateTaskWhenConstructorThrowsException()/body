{
  try {
    taskFactory.createTask(testProject,GUtil.map(Task.TASK_NAME,"task",Task.TASK_TYPE,CannotConstructTask.class));
    fail();
  }
 catch (  GradleException e) {
    assertEquals("Could not create task of type 'CannotConstructTask'.",e.getMessage());
    assertTrue(RuntimeException.class.isInstance(e.getCause()));
    assertEquals("fail",e.getCause().getMessage());
  }
}
