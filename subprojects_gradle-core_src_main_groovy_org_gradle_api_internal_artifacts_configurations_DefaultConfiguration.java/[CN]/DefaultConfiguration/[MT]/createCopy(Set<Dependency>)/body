{
  DetachedConfigurationsProvider configurationsProvider=new DetachedConfigurationsProvider();
  DefaultConfiguration copiedConfiguration=new DefaultConfiguration(path + "Copy",name + "Copy",configurationsProvider,ivyService);
  configurationsProvider.setTheOnlyConfiguration(copiedConfiguration);
  copiedConfiguration.visibility=visibility;
  copiedConfiguration.transitive=transitive;
  copiedConfiguration.description=description;
  for (  PublishArtifact artifact : getAllArtifacts()) {
    copiedConfiguration.addArtifact(artifact);
  }
  for (  ExcludeRule excludeRule : getExcludeRules()) {
    copiedConfiguration.excludeRules.add(new DefaultExcludeRule(excludeRule.getExcludeArgs()));
  }
  for (  Dependency dependency : dependencies) {
    copiedConfiguration.addDependency(dependency.copy());
  }
  return copiedConfiguration;
}
