{
  if (daemons.isEmpty()) {
    LOGGER.quiet(DaemonMessages.NO_DAEMONS_RUNNING);
  }
 else {
    LOGGER.quiet(String.format(STATUS_FORMAT,"PID","VERSION","STATUS"));
    for (    DaemonInfo info : daemons) {
      DaemonClientConnection connection=connector.maybeConnect(info);
      if (connection != null) {
        try {
          Status status=reportStatusDispatcher.dispatch(connection,new ReportStatus(idGenerator.generateId(),info.getToken()));
          if (status != null) {
            LOGGER.quiet(String.format(STATUS_FORMAT,status.getPid(),status.getVersion(),status.getStatus()));
          }
 else {
            LOGGER.quiet(String.format(STATUS_FORMAT,info.getPid(),"UNKNOWN","BROKEN"));
          }
        }
  finally {
          connection.stop();
        }
      }
    }
  }
}
