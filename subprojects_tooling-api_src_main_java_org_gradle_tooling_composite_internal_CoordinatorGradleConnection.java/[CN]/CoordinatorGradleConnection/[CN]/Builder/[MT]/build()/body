{
  if (participants.isEmpty()) {
    throw new IllegalStateException("At least one participant must be specified before creating a connection.");
  }
  DefaultCompositeConnectionParameters.Builder compositeConnectionParametersBuilder=DefaultCompositeConnectionParameters.builder();
  compositeConnectionParametersBuilder.setBuilds(participants);
  DefaultCompositeConnectionParameters connectionParameters=compositeConnectionParametersBuilder.build();
  return gradleConnectionFactory.create(FirstParticipantDistributionChooser.chooseDistribution(distributionFactory,participants),connectionParameters);
}
