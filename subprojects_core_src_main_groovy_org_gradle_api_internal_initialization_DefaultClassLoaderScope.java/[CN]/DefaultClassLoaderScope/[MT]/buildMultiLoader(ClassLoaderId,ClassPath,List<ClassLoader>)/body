{
  List<ClassLoader> parents=new ArrayList<ClassLoader>(1 + (loaders == null ? 0 : loaders.size()) + (classPath.isEmpty() ? 1 : 0));
  parents.add(parent.getExportClassLoader());
  if (loaders != null) {
    parents.addAll(loaders);
  }
  if (!classPath.isEmpty()) {
    parents.add(loader(id,classPath));
  }
  return new MultiParentClassLoader(parents);
}
