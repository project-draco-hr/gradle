{
  binaries.afterEach(NativeTestSuiteBinarySpecInternal.class,new Action<NativeTestSuiteBinarySpecInternal>(){
    @Override public void execute(    NativeTestSuiteBinarySpecInternal testSuiteBinary){
      BinaryNamingScheme namingScheme=testSuiteBinary.getNamingScheme();
      NativeTestSuiteBinarySpec.TasksCollection tasks=testSuiteBinary.getTasks();
      InstallExecutable installTask=(InstallExecutable)tasks.getInstall();
      RunTestExecutable runTask=(RunTestExecutable)tasks.getRun();
      runTask.getInputs().files(installTask.getOutputs().getFiles());
      runTask.setExecutable(installTask.getRunScript().getPath());
      Project project=runTask.getProject();
      runTask.setOutputDir(namingScheme.getOutputDirectory(project.getBuildDir(),"test-results"));
    }
  }
);
}
