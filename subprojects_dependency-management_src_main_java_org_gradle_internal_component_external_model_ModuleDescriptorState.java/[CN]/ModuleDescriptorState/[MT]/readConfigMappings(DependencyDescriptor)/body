{
  if (dependencyDescriptor instanceof DefaultDependencyDescriptor) {
    try {
      final Field dependencyConfigField=DefaultDependencyDescriptor.class.getDeclaredField("confs");
      dependencyConfigField.setAccessible(true);
      return (Map<String,List<String>>)dependencyConfigField.get(dependencyDescriptor);
    }
 catch (    NoSuchFieldException e) {
      throw UncheckedException.throwAsUncheckedException(e);
    }
catch (    IllegalAccessException e) {
      throw UncheckedException.throwAsUncheckedException(e);
    }
  }
  String[] modConfs=dependencyDescriptor.getModuleConfigurations();
  Map<String,List<String>> results=Maps.newLinkedHashMap();
  for (  String modConf : modConfs) {
    results.put(modConf,Arrays.asList(dependencyDescriptor.getDependencyConfigurations(modConfs)));
  }
  return results;
}
