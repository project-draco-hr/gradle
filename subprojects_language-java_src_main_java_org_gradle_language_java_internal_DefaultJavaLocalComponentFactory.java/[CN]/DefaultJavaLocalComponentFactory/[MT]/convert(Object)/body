{
  DefaultJavaSourceSetResolveContext context=(DefaultJavaSourceSetResolveContext)source;
  String projectPath=context.getProject().getPath();
  String libraryName=context.getSourceSet().getParentName();
  String version=context.getProject().getVersion().toString();
  ModuleVersionIdentifier id=new DefaultModuleVersionIdentifier(projectPath,libraryName,version);
  ComponentIdentifier component=new DefaultLibraryComponentIdentifier(projectPath,libraryName);
  DefaultLocalComponentMetaData metaData=new DefaultLocalComponentMetaData(id,component,Project.DEFAULT_STATUS);
  metaData.addConfiguration(context.getName(),"Configuration for " + libraryName,Collections.<String>emptySet(),Collections.singleton(context.getName()),true,true);
  addDependencies(projectPath,id,metaData,context.getSourceSet().getDependencies());
  return metaData;
}
