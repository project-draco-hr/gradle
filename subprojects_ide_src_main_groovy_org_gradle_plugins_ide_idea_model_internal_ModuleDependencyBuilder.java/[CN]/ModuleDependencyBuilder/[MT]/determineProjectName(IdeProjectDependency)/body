{
  Project project=dependency.getProject();
  if (project == null) {
    ComponentArtifactMetaData imlArtifact=ideProjectResolver.resolveImlArtifact(dependency.getProjectId());
    return imlArtifact == null ? dependency.getProjectName() : imlArtifact.getName().getName();
  }
 else   if (project.getPlugins().hasPlugin(IdeaPlugin.class)) {
    return ((IdeaModel)project.getExtensions().getByName("idea")).getModule().getName();
  }
 else {
    return project.getName();
  }
}
