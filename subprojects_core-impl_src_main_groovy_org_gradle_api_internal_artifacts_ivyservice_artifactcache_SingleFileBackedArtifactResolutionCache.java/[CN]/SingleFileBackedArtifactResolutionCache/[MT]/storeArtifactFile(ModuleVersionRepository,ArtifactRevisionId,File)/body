{
  if (artifactFile == null) {
    artifactFileStore.removeArtifactFile(repository,artifactId);
    getCache().put(createKey(repository,artifactId),createEntry(null));
    return null;
  }
 else {
    File cacheFile=artifactFileStore.storeArtifactFile(repository,artifactId,artifactFile);
    getCache().put(createKey(repository,artifactId),createEntry(cacheFile));
    return cacheFile;
  }
}
