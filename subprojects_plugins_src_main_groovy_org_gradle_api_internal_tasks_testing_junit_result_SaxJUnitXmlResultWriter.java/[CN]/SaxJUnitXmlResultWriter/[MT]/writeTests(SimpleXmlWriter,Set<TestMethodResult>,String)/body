{
  for (  TestMethodResult methodResult : methodResults) {
    writer.writeCharacters("\n    ");
    String testCase=methodResult.result.getResultType() == TestResult.ResultType.SKIPPED ? "ignored-testcase" : "testcase";
    writer.writeStartElement(writer.element(testCase).attribute("name",methodResult.name).attribute("classname",className).attribute("time",String.valueOf(methodResult.getDuration() / 1000.0)));
    for (    Throwable failure : methodResult.result.getExceptions()) {
      writer.writeCharacters("\n      ");
      writer.writeStartElement(writer.element("failure").attribute("message",failureMessage(failure)).attribute("type",failure.getClass().getName()));
      writer.writeCharacters(stackTrace(failure));
      writer.writeEndElement();
    }
    writer.writeEndElement();
  }
}
