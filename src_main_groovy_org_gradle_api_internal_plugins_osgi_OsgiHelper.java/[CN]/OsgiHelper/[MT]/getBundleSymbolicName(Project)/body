{
  String group=(String)project.property("group");
  int i=group.lastIndexOf('.');
  String lastSection=group.substring(++i);
  if (project.getArchivesBaseName().equals(lastSection)) {
    return group;
  }
  if (project.getArchivesBaseName().startsWith(lastSection)) {
    String artifactId=project.getArchivesBaseName().substring(lastSection.length());
    if (Character.isLetterOrDigit(artifactId.charAt(0))) {
      return getBundleSymbolicName(group,artifactId);
    }
 else {
      return getBundleSymbolicName(group,artifactId.substring(1));
    }
  }
  return getBundleSymbolicName(group,project.getArchivesBaseName());
}
