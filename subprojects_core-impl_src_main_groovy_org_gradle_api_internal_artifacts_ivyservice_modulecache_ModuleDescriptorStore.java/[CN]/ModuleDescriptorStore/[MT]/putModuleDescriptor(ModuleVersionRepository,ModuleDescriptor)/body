{
  String filePath=getFilePath(repository,moduleDescriptor.getModuleRevisionId());
  return pathKeyFileStore.add(filePath,new Action<File>(){
    public void execute(    File moduleDescriptorFile){
      try {
        ivyModuleDescriptorWriter.write(moduleDescriptor,moduleDescriptorFile);
      }
 catch (      Exception e) {
        throw UncheckedException.throwAsUncheckedException(e);
      }
    }
  }
);
}
