{
  LoggingManagerInternal loggingManager=loggingManagerFactory.create();
  if (actionParameters.getStandardOutput() != null) {
    loggingManager.addStandardOutputListener(new StreamBackedStandardOutputListener(actionParameters.getStandardOutput()));
  }
  if (actionParameters.getStandardError() != null) {
    loggingManager.addStandardErrorListener(new StreamBackedStandardOutputListener(actionParameters.getStandardError()));
  }
  ProgressListenerVersion1 progressListener=actionParameters.getProgressListener();
  OutputEventListenerAdapter listener=new OutputEventListenerAdapter(progressListener);
  loggingManager.addOutputEventListener(listener);
  loggingManager.setLevel(actionParameters.getBuildLogLevel());
  loggingManager.start();
  try {
    return executer.execute(action,cancellationToken,actionParameters);
  }
  finally {
    loggingManager.stop();
  }
}
