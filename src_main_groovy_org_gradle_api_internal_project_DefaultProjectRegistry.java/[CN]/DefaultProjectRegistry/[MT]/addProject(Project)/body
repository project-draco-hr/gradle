{
  if (projectDir2Project.get(project.getProjectDir()) != null) {
    throw new InvalidUserDataException("Project " + project + " has already existing projectDir: "+ project.getProjectDir());
  }
  projects.put(project.getPath(),project);
  subProjects.put(project.getPath(),new TreeSet());
  addProjectToParentSubProjects(project);
  projectDir2Project.put(project.getProjectDir(),project);
}
