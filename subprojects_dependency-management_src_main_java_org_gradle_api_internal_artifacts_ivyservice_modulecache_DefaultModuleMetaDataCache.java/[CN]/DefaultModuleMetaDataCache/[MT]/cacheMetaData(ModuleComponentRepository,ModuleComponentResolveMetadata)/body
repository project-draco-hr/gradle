{
  LOGGER.debug("Recording module descriptor in cache: {} [changing = {}]",metadata.getComponentId(),metadata.isChanging());
  LocallyAvailableResource resource=moduleMetadataStore.putModuleDescriptor(repository,metadata);
  ModuleMetadataCacheEntry entry=createEntry(metadata,resource.getSha1());
  getCache().put(createKey(repository,metadata.getComponentId()),entry);
  return new DefaultCachedMetaData(entry,null,timeProvider);
}
