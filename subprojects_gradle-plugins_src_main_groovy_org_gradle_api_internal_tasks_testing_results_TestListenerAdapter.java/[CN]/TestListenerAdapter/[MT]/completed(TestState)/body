{
  TestResult result=new DefaultTestResult(state.resultType,state.failure,state.getStartTime(),state.getEndTime(),state.testCount,state.successfulCount,state.failedCount);
  TestDescriptorInternal test=state.test;
  if (test.isComposite()) {
    listener.afterSuite(test,result);
  }
 else {
    listener.afterTest(test,result);
  }
}
