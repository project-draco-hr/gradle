{
  String[] moduleConfigurations=dependency.getDescriptor().getModuleConfigurations();
  for (int i=0; i < moduleConfigurations.length; i++) {
    String moduleConfiguration=moduleConfigurations[i];
    if (moduleConfiguration.equals("%") || hierarchy.contains(moduleConfiguration)) {
      return true;
    }
    if (moduleConfiguration.equals("*")) {
      boolean include=true;
      for (int j=i + 1; j < moduleConfigurations.length && moduleConfigurations[j].startsWith("!"); j++) {
        if (moduleConfigurations[j].substring(1).equals(getName())) {
          include=false;
          break;
        }
      }
      if (include) {
        return true;
      }
    }
  }
  return false;
}
