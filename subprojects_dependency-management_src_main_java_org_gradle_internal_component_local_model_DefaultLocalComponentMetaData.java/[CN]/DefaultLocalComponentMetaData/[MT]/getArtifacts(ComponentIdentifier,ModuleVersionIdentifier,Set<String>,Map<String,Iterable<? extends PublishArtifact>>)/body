{
  Set<IvyArtifactName> seen=Sets.newHashSet();
  Set<ComponentArtifactMetaData> artifacts=Sets.newLinkedHashSet();
  for (  String config : configurationHierarchy) {
    Iterable<? extends PublishArtifact> publishArtifacts=allArtifacts.get(config);
    if (publishArtifacts != null) {
      for (      PublishArtifact publishArtifact : publishArtifacts) {
        IvyArtifactName ivyArtifact=DefaultIvyArtifactName.forPublishArtifact(publishArtifact,id.getName());
        if (seen.add(ivyArtifact)) {
          artifacts.add(new DefaultLocalArtifactMetaData(componentIdentifier,componentIdentifier.getDisplayName(),ivyArtifact,publishArtifact.getFile()));
        }
      }
    }
  }
  return artifacts;
}
