{
  eventConsumer.dispatch(new TestProgressEventVersion1(){
    @Override public String getEventType(){
      TestResult.ResultType resultType=result.getResultType();
switch (resultType) {
case SUCCESS:
        return TestProgressEventVersion1.TEST_SUCCEEDED;
case SKIPPED:
      return TestProgressEventVersion1.TEST_SKIPPED;
case FAILURE:
    return TestProgressEventVersion1.TEST_FAILED;
default :
  throw new IllegalStateException("Unknown test result type: " + resultType);
}
}
@Override public TestDescriptorVersion1 getDescriptor(){
return new TestDescriptorImpl(test);
}
}
);
}
