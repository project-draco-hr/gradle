{
  if (serviceType.equals(Factory.class)) {
    throw new IllegalArgumentException("Cannot locate service of raw type Factory. Use getFactory() or get(Type) instead.");
  }
  if (serviceType.isArray()) {
    throw new IllegalArgumentException(String.format("Cannot locate service of array type %s[].",serviceType.getComponentType().getSimpleName()));
  }
  if (serviceType.isAnnotation()) {
    throw new IllegalArgumentException(String.format("Cannot locate service of annotation type @%s.",serviceType.getSimpleName()));
  }
  return doGet(serviceType);
}
