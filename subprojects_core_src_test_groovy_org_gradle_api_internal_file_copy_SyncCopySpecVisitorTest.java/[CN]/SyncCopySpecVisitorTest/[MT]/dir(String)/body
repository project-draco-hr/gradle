{
  final RelativePath relativePath=RelativePath.parse(false,path);
  final FileCopyDetailsInternal details=context.mock(FileCopyDetailsInternal.class,relativePath.toString());
  context.checking(new Expectations(){
{
      allowing(details).getRelativePath();
      will(returnValue(relativePath));
    }
  }
);
  return details;
}
