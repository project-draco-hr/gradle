{
  context.checking(new Expectations(){
{
      allowing(delegate).startVisit(with(notNullValue(CopyAction.class)));
      allowing(delegate).visitFile(with(notNullValue(FileCopyDetails.class)));
      allowing(delegate).visitDir(with(notNullValue(FileCopyDetails.class)));
      allowing(delegate).endVisit();
    }
  }
);
}
