{
  final Task task=task("task");
  final Map<String,?> options=GUtil.map(Task.TASK_NAME,"task");
  context.checking(new Expectations(){
{
      one(taskFactory).createTask(project,options);
      will(returnValue(task));
    }
  }
);
  container.add("task");
  final Task newTask=task("task");
  context.checking(new Expectations(){
{
      one(taskFactory).createTask(project,options);
      will(returnValue(newTask));
    }
  }
);
  container.replace("task");
  assertThat(container.getByName("task"),sameInstance(newTask));
}
