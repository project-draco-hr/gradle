{
  final Map<String,?> options=GUtil.map(Task.TASK_TYPE,Task.class,Task.TASK_OVERWRITE,true);
  final Task task=context.mock(Task.class);
  context.checking(new Expectations(){
{
      one(taskFactory).createTask(project,container.getAsMap(),options,"task");
      will(returnValue(task));
    }
  }
);
  assertThat(container.replace("task",Task.class),sameInstance(task));
  assertThat(container.getByName("task"),sameInstance(task));
}
