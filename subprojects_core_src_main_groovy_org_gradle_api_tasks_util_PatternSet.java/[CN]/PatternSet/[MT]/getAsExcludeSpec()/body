{
  Collection<String> allExcludes=Sets.newLinkedHashSet(excludes);
  Collections.addAll(allExcludes,DirectoryScanner.getDefaultExcludes());
  List<Spec<FileTreeElement>> matchers=Lists.newArrayList();
  for (  String exclude : allExcludes) {
    Spec<RelativePath> patternMatcher=PatternMatcherFactory.getPatternMatcher(false,caseSensitive,exclude);
    matchers.add(new RelativePathSpec(patternMatcher));
  }
  matchers.addAll(excludeSpecs);
  return new OrSpec<FileTreeElement>(matchers);
}
