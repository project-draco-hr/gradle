{
  pluginRegistry.apply(JavaPlugin.class,project,pluginRegistry,customValues);
  GroovyPluginConvention groovyPluginConvention=new GroovyPluginConvention(project,customValues);
  project.getConvention().getPlugins().put("groovy",groovyPluginConvention);
  configureCompile(project);
  configureTestCompile(project);
  ((Test)project.task(TEST)).getOptions().getForkOptions().setForkMode(ForkMode.ONCE);
  configureJavadoc(project);
  configureGroovydoc(project);
  project.getDependencies().addConfiguration(new Configuration(GROOVY,Visibility.PRIVATE,null,null,false,null));
  project.getDependencies().addConfiguration(new Configuration(JavaPlugin.COMPILE,Visibility.PRIVATE,null,WrapUtil.toArray(GROOVY),false,null));
}
