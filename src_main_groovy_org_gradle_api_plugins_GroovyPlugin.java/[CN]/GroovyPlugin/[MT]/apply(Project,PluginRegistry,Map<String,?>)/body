{
  JavaPlugin javaPlugin=pluginRegistry.apply(JavaPlugin.class,project,customValues);
  GroovyPluginConvention groovyPluginConvention=new GroovyPluginConvention(project,customValues);
  project.getConvention().getPlugins().put("groovy",groovyPluginConvention);
  configureCompile(javaPlugin,project);
  configureTestCompile(javaPlugin,project);
  ((Test)project.task(TEST)).getOptions().getForkOptions().setForkMode(ForkMode.ONCE);
  configureJavadoc(project);
  configureGroovydoc(project);
  project.getDependencies().addConfiguration(GROOVY).setVisible(false).setTransitive(false);
  project.getDependencies().configuration(COMPILE).extendsFrom(GROOVY);
}
