{
  GroovyCompile compileTests=(GroovyCompile)javaPlugin.configureCompileTests(project.getTasks().replace(COMPILE_TESTS_TASK_NAME,GroovyCompile.class),(Compile)project.task(COMPILE_TASK_NAME),DefaultConventionsToPropertiesMapping.TEST_COMPILE,project.getConfigurations());
  compileTests.setGroovyClasspath(project.getConfigurations().getByName("groovy"));
  compileTests.setDescription("Compiles the Java and Groovy test source code.");
  compileTests.conventionMapping(GUtil.map("groovySourceDirs",new ConventionValue(){
    public Object getValue(    Convention convention,    IConventionAware conventionAwareObject){
      return groovy(convention).getGroovyTestSrcDirs();
    }
  }
));
}
