{
  GroovyCompile compileTests=(GroovyCompile)javaPlugin.configureCompileTests(project.getTasks().replace(COMPILE_TESTS_TASK_NAME,GroovyCompile.class),(Compile)project.getTasks().getByName(COMPILE_TASK_NAME),DefaultConventionsToPropertiesMapping.TEST_COMPILE,project.getConfigurations());
  compileTests.setGroovyClasspath(project.getConfigurations().getByName(GROOVY_CONFIGURATION_NAME));
  compileTests.setDescription("Compiles the Java and Groovy test source code.");
  compileTests.conventionMapping("groovySourceDirs",new ConventionValue(){
    public Object getValue(    Convention convention,    IConventionAware conventionAwareObject){
      return groovy(convention).getGroovyTestSrcDirs();
    }
  }
);
}
