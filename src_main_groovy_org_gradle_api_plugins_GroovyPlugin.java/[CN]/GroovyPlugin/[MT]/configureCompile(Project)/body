{
  project.addTaskLifecycleListener(GroovyCompile.class,new TaskLifecycleListener<GroovyCompile>(){
    public void taskAdded(    GroovyCompile compile){
      compile.setGroovyClasspath(project.getConfigurations().get("groovy"));
      compile.conventionMapping(GUtil.map("groovySourceDirs",new ConventionValue(){
        public Object getValue(        Convention convention,        IConventionAware conventionAwareObject){
          return groovy(convention).getGroovySrcDirs();
        }
      }
));
    }
  }
);
  project.createTask(GUtil.map("type",GroovyCompile.class,"overwrite",true),COMPILE_TASK_NAME).setDescription("Compiles the Java and Groovy source code.");
}
