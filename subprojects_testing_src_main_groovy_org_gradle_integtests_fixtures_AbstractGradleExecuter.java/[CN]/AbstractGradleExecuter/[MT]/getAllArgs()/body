{
  List<String> allArgs=new ArrayList<String>();
  if (buildScript != null) {
    allArgs.add("--build-file");
    allArgs.add(buildScript.getAbsolutePath());
  }
  if (buildScriptText != null) {
    allArgs.add("--embedded");
    allArgs.add(buildScriptText);
  }
  if (projectDir != null) {
    allArgs.add("--project-dir");
    allArgs.add(projectDir.getAbsolutePath());
  }
  for (  File initScript : initScripts) {
    allArgs.add("--init-script");
    allArgs.add(initScript.getAbsolutePath());
  }
  if (settingsFile != null) {
    allArgs.add("--settings-file");
    allArgs.add(settingsFile.getAbsolutePath());
  }
  if (quiet) {
    allArgs.add("--quiet");
  }
  if (taskList) {
    allArgs.add("tasks");
  }
  if (dependencyList) {
    allArgs.add("dependencies");
  }
  if (!searchUpwards) {
    allArgs.add("--no-search-upward");
  }
  if (userHomeDir != null) {
    allArgs.add("--gradle-user-home");
    allArgs.add(userHomeDir.getAbsolutePath());
  }
  allArgs.addAll(args);
  allArgs.addAll(tasks);
  return allArgs;
}
