{
  TestResultsProvider resultsProvider=createAggregateProvider();
  try {
    if (resultsProvider.isHasResults()) {
      DefaultTestReport testReport=new DefaultTestReport();
      testReport.generateReport(resultsProvider,getDestinationDir());
    }
 else {
      setDidWork(false);
    }
  }
  finally {
    stoppable(resultsProvider).stop();
  }
}
