{
  ClassPath implementationClasspath=distribution.getToolingImplementationClasspath(progressLoggerFactory);
  LOGGER.debug("Using tooling provider classpath: {}",implementationClasspath);
  FilteringClassLoader filteringClassLoader=new FilteringClassLoader(classLoader);
  filteringClassLoader.allowPackage("org.gradle.tooling.internal.protocol");
  return new MutableURLClassLoader(filteringClassLoader,implementationClasspath.getAsURLArray());
}
