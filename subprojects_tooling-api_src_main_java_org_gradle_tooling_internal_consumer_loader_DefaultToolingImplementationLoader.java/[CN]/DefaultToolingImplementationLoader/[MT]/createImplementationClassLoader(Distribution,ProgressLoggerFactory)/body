{
  Set<File> implementationClasspath=distribution.getToolingImplementationClasspath(progressLoggerFactory);
  LOGGER.debug("Using tooling provider classpath: {}",implementationClasspath);
  URL[] urls=GFileUtils.toURLArray(implementationClasspath);
  FilteringClassLoader filteringClassLoader=new FilteringClassLoader(classLoader);
  filteringClassLoader.allowPackage("org.gradle.tooling.internal.protocol");
  return new MutableURLClassLoader(filteringClassLoader,urls);
}
