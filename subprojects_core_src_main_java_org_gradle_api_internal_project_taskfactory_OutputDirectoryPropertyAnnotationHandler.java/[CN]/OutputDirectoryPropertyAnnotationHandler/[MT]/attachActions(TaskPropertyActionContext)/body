{
  context.setValidationAction(outputDirValidation);
  context.setConfigureAction(new UpdateAction(){
    public void update(    TaskInternal task,    final Callable<Object> futureValue){
      task.getOutputs().files(futureValue);
      task.prependParallelSafeAction(new Action<Task>(){
        public void execute(        Task task){
          Iterable<File> files=valueTransformer.transform(uncheckedCall(futureValue));
          for (          File file : files) {
            file=FileUtils.canonicalize(file);
            GFileUtils.mkdirs(file);
          }
        }
      }
);
    }
  }
);
}
