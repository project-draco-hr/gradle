{
  BuildableComponentResolveResult moduleResolveResult=new DefaultBuildableComponentResolveResult();
  componentResolver.resolve(componentIdentifier,new DefaultComponentOverrideMetadata(),moduleResolveResult);
  ComponentResolveMetaData component=moduleResolveResult.getMetaData();
  BuildableArtifactSetResolveResult artifactSetResolveResult=new DefaultBuildableArtifactSetResolveResult();
  getArtifactResolver().resolveModuleArtifacts(component,new DefaultComponentUsage(configurationId.getConfiguration()),artifactSetResolveResult);
  Set<ComponentArtifactMetaData> artifacts=artifactSetResolveResult.getArtifacts();
  Set<ComponentArtifactMetaData> result=new LinkedHashSet<ComponentArtifactMetaData>();
  ModuleIdentifier moduleId=configurationId.getId().getModule();
  for (  ComponentArtifactMetaData artifact : artifacts) {
    IvyArtifactName artifactName=artifact.getName();
    if (!selector.acceptArtifact(moduleId,artifactName)) {
      continue;
    }
    result.add(artifact);
  }
  return result;
}
