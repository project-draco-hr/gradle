{
  project.getConfigurations().create(TWIRL_CONFIGURATION_NAME);
  project.getDependencies().add(TWIRL_CONFIGURATION_NAME,project.getDependencies().create(DEFAULT_TWIRL_DEPENDENCY));
  project.getTasks().withType(TwirlCompile.class).all(new Action<TwirlCompile>(){
    public void execute(    TwirlCompile twirlCompile){
      twirlCompile.getConventionMapping().map("compilerClasspath",new Callable<FileCollection>(){
        public FileCollection call() throws Exception {
          return project.getConfigurations().getByName(TWIRL_CONFIGURATION_NAME);
        }
      }
);
    }
  }
);
}
