{
  final FileResolver fileResolver=serviceRegistry.get(FileResolver.class);
  final Instantiator instantiator=serviceRegistry.get(Instantiator.class);
  components.withType(PlayApplicationSpec.class).all(new Action<PlayApplicationSpec>(){
    public void execute(    PlayApplicationSpec playComponent){
      ScalaLanguageSourceSet appSources=BaseLanguageSourceSet.create(DefaultScalaLanguageSourceSet.class,"scala",playComponent.getName(),fileResolver,instantiator);
      appSources.getSource().srcDir("app");
      appSources.getSource().include("**/*.scala");
      appSources.getSource().include("**/*.java");
      ((ComponentSpecInternal)playComponent).getSources().add(appSources);
      DefaultSourceDirectorySet resourcesDirectorySet=new DefaultSourceDirectorySet("resources",fileResolver);
      JvmResourceSet appResources=instantiator.newInstance(DefaultJvmResourceSet.class,"resources",playComponent.getName(),resourcesDirectorySet);
      appResources.getSource().srcDirs("conf");
      ((ComponentSpecInternal)playComponent).getSources().add(appResources);
    }
  }
);
}
