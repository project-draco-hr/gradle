{
  for (  final RoutesSourceSet routesSourceSet : binary.getInputs().withType(RoutesSourceSet.class)) {
    final String routesCompileTaskName=String.format("compile%s%s",StringUtils.capitalize(binary.getName()),StringUtils.capitalize(routesSourceSet.getName()));
    final File routesCompilerOutputDirectory=srcOutputDirectory(buildDir,binary,routesCompileTaskName);
    tasks.create(routesCompileTaskName,RoutesCompile.class,new Action<RoutesCompile>(){
      public void execute(      RoutesCompile routesCompile){
        routesCompile.setDescription("Generates routes for the '" + routesSourceSet.getName() + "' source set.");
        routesCompile.setPlatform(binary.getTargetPlatform());
        routesCompile.setAdditionalImports(new ArrayList<String>());
        routesCompile.setSource(routesSourceSet.getSource());
        routesCompile.setOutputDirectory(routesCompilerOutputDirectory);
        routesCompile.setUseStaticRouter(binary.getApplication().getUseStaticRouter());
        ScalaLanguageSourceSet routesScalaSources=binary.getGeneratedScala().get(routesSourceSet);
        routesScalaSources.getSource().srcDir(routesCompilerOutputDirectory);
        routesScalaSources.builtBy(routesCompile);
      }
    }
);
  }
}
