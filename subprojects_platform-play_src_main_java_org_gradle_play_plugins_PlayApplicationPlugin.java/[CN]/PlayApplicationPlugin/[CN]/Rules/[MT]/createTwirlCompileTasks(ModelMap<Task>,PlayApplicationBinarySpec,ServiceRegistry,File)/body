{
  for (  final TwirlSourceSet twirlSourceSet : binary.getInputs().withType(TwirlSourceSet.class)) {
    final String twirlCompileTaskName=String.format("compile%s%s",StringUtils.capitalize(binary.getName()),StringUtils.capitalize(twirlSourceSet.getName()));
    final File twirlCompileOutputDirectory=srcOutputDirectory(buildDir,binary,twirlCompileTaskName);
    tasks.create(twirlCompileTaskName,TwirlCompile.class,new Action<TwirlCompile>(){
      public void execute(      TwirlCompile twirlCompile){
        twirlCompile.setPlatform(binary.getTargetPlatform());
        twirlCompile.setSource(twirlSourceSet.getSource());
        twirlCompile.setOutputDirectory(twirlCompileOutputDirectory);
        ScalaLanguageSourceSet twirlScalaSources=binary.getGeneratedScala().get(twirlSourceSet);
        twirlScalaSources.getSource().srcDir(twirlCompileOutputDirectory);
        twirlScalaSources.builtBy(twirlCompile);
      }
    }
);
  }
}
