{
  if (ivySettings != null) {
    return ivySettings;
  }
  Clock clock=new Clock();
  ChainResolver userResolverChain=createUserResolverChain(dependencyResolvers,internalRepository);
  ClientModuleResolver clientModuleResolver=createClientModuleResolver(clientModuleRegistry,userResolverChain);
  ChainResolver outerChain=createOuterChain(userResolverChain,clientModuleResolver);
  IvySettings ivySettings=createIvySettings(gradleUserHome);
  initializeResolvers(ivySettings,getAllResolvers(dependencyResolvers,Collections.<DependencyResolver>emptyList(),internalRepository,userResolverChain,clientModuleResolver,outerChain));
  ivySettings.setDefaultResolver(CLIENT_MODULE_CHAIN_NAME);
  logger.debug("Timing: Ivy convert for resolve took {}",clock.getTime());
  return ivySettings;
}
