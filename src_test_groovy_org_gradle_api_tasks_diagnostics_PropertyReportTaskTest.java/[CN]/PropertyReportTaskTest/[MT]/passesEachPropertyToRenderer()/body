{
  context.checking(new Expectations(){
{
      one(project).getAllprojects();
      will(returnValue(toLinkedSet(project)));
      one(project).getProperties();
      will(returnValue(GUtil.map("b","value2","a","value1")));
      Sequence sequence=context.sequence("seq");
      one(renderer).startProject(project);
      inSequence(sequence);
      one(renderer).addProperty("a","value1");
      inSequence(sequence);
      one(renderer).addProperty("b","value2");
      inSequence(sequence);
      one(renderer).completeProject(project);
      inSequence(sequence);
      one(renderer).complete();
      inSequence(sequence);
    }
  }
);
  task.execute();
}
