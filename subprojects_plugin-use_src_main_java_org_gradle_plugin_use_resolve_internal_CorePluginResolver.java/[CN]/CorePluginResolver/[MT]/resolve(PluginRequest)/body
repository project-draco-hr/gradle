{
  PluginId id=pluginRequest.getId();
  if (!id.isQualified() || id.inNamespace(CORE_PLUGIN_NAMESPACE)) {
    try {
      Class<? extends Plugin> typeForId=pluginRegistry.getTypeForId(id.getName());
      if (pluginRequest.getVersion() != null) {
        throw new InvalidPluginRequestException(pluginRequest,"Plugin '" + id + "' is a core Gradle plugin, which cannot be specified with a version number. "+ "Such plugins are versioned as part of Gradle. Please remove the version number from the declaration.");
      }
      return new SimplePluginResolution(typeForId);
    }
 catch (    UnknownPluginException e) {
      return null;
    }
  }
 else {
    return null;
  }
}
