{
  StringBuilder sb=new StringBuilder("Could not resolve dependency '");
  sb.append(selector);
  sb.append("'");
  if ("".equals(selector.getLibraryName())) {
    sb.append(". Project ").append(selectorProjectPath);
    if (candidateLibraries.isEmpty()) {
      sb.append(" doesn't define any library.");
    }
 else {
      sb.append(" contains more than one library. Please select one of ");
      Joiner.on(", ").appendTo(sb,candidateLibraries);
    }
  }
 else   if (project == null) {
    sb.append(". Project '").append(selectorProjectPath).append("' not found.");
  }
 else {
    sb.append(" on project '").append(requestedProjectPath).append("'");
    sb.append(". Did you want to use ");
    if (candidateLibraries.size() == 1) {
      sb.append(candidateLibraries.get(0));
    }
 else {
      sb.append("one of ");
      Joiner.on(", ").appendTo(sb,candidateLibraries);
    }
    sb.append("?");
  }
  return sb.toString();
}
