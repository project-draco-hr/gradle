{
  liveOutputTimer.cancel();
  sendLiveOutput();
  String details=GradlePluginLord.getGradleExceptionMessage(buildResult.getFailure(),gradle.getStartParameter().getShowStacktrace());
  output+=details;
  client.sendMessageWaitForReply(ProtocolConstants.EXECUTION_COMPLETED_TYPE,output,new Boolean(wasSuccessful));
  client.sendMessageWaitForReply(ProtocolConstants.EXITING,null,null);
  client.stop();
}
