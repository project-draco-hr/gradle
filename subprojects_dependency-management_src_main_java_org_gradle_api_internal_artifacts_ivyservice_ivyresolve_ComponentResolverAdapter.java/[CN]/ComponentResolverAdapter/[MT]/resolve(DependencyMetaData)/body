{
  final DefaultBuildableComponentIdResolveResult idResult=new DefaultBuildableComponentIdResolveResult();
  idResolver.resolve(dependency,idResult);
  if (idResult.getFailure() != null) {
    return new BrokenResult(idResult);
  }
  if (idResult.getMetaData() != null) {
    return new WithMetaDataResult(idResult);
  }
  return new LazyResult(idResult,dependency);
}
