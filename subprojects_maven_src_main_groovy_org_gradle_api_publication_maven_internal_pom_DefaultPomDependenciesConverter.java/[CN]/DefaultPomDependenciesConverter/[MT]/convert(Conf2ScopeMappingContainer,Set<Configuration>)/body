{
  Map<ModuleDependency,Set<Configuration>> dependencyToConfigurations=createDependencyToConfigurationsMap(configurations);
  Map<ModuleDependency,String> dependenciesMap=createDependencyToScopeMap(conf2ScopeMappingContainer,dependencyToConfigurations);
  List<Dependency> mavenDependencies=new ArrayList<Dependency>();
  for (  ModuleDependency dependency : dependenciesMap.keySet()) {
    String scope=dependenciesMap.get(dependency);
    Set<Configuration> dependencyConfigurations=dependencyToConfigurations.get(dependency);
    if (dependency.getArtifacts().size() == 0) {
      addFromDependencyDescriptor(mavenDependencies,dependency,scope,dependencyConfigurations);
    }
 else {
      addFromArtifactDescriptor(mavenDependencies,dependency,scope,dependencyConfigurations);
    }
  }
  return mavenDependencies;
}
