{
  List<Dependency> mavenDependencies=new ArrayList<Dependency>();
  if (dependency instanceof ProjectDependency) {
    ProjectDependency projectDependency=(ProjectDependency)dependency;
    final String artifactId=determineProjectDependencyArtifactId((ProjectDependency)dependency);
    Configuration dependencyConfig=projectDependency.getProjectConfiguration();
    for (    PublishArtifact artifactToPublish : dependencyConfig.getAllArtifacts()) {
      Dependency mavenDependency=new Dependency();
      mavenDependency.setArtifactId(artifactId);
      if (artifactToPublish.getClassifier() != null && artifactToPublish.getClassifier() != "") {
        mavenDependency.setClassifier(artifactToPublish.getClassifier());
      }
      mavenDependencies.add(mavenDependency);
    }
  }
 else {
    Dependency mavenDependency=new Dependency();
    mavenDependency.setArtifactId(name);
    mavenDependency.setClassifier(classifier);
    mavenDependencies.add(mavenDependency);
  }
  for (  Dependency mavenDependency : mavenDependencies) {
    mavenDependency.setGroupId(dependency.getGroup());
    mavenDependency.setVersion(mapToMavenSyntax(dependency.getVersion()));
    mavenDependency.setType(type);
    mavenDependency.setScope(scope);
    mavenDependency.setExclusions(getExclusions(dependency,configurations));
  }
  return mavenDependencies;
}
