{
  TaskState state=task.getState();
  long startTime=startTime(state);
  long endTime=endTime(state);
  if (state.getSkipped()) {
    return new DefaultTaskSkippedResult(startTime,endTime,state.getUpToDate());
  }
  Throwable failure=state.getFailure();
  if (failure == null) {
    return new DefaultTaskSuccessResult(startTime,endTime);
  }
  return new DefaultTaskFailureResult(startTime,endTime,DefaultFailure.fromThrowable(failure));
}
