{
  TaskState state=task.getState();
  if (isSkipped(state)) {
    return new DefaultTaskSkippedResult(0,0,!state.getDidWork());
  }
  if (state.getDidWork()) {
    return new DefaultTaskSuccessResult(0L,0L);
  }
  Throwable failure=state.getFailure();
  return new DefaultTaskFailureResult(0,0,failure != null ? DefaultFailure.fromThrowable(failure) : null);
}
