{
  TaskState state=task.getState();
  if (state.getSkipped()) {
    return new DefaultTaskSkippedResult(0,0,"UP-TO-DATE".equals(state.getSkipMessage()));
  }
  Throwable failure=state.getFailure();
  if (failure == null) {
    return new DefaultTaskSuccessResult(0L,0L);
  }
  return new DefaultTaskFailureResult(0,0,DefaultFailure.fromThrowable(failure));
}
