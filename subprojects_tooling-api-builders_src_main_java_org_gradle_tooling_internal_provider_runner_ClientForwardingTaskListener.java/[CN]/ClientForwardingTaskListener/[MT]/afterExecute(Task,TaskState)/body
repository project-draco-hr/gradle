{
  long eventTime=endTime(state);
  if (state.getSkipped()) {
    eventConsumer.dispatch(new DefaultTaskSkippedProgressEvent(eventTime,adapt(task),adaptTaskResult(task)));
  }
 else {
    eventConsumer.dispatch(new DefaultTaskFinishedProgressEvent(eventTime,adapt(task),adaptTaskResult(task)));
  }
}
