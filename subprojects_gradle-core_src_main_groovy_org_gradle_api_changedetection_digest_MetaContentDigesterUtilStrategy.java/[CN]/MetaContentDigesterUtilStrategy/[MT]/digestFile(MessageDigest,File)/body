{
  super.digestFile(digester,file);
  FileInputStream fileStream=null;
  try {
    fileStream=new FileInputStream(file);
    final byte[] fileContentBuffer=new byte[fileContentBufferSize.get()];
    while (fileStream.read(fileContentBuffer) != -1) {
      digester.update(fileContentBuffer);
    }
  }
 catch (  IOException e) {
    throw new GradleException("failed to add content to file digest",e);
  }
 finally {
    IOUtils.closeQuietly(fileStream);
  }
}
