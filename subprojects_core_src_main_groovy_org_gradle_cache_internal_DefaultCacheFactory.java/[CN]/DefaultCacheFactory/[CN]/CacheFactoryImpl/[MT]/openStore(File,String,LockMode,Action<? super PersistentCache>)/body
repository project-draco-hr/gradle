{
  if (initializer != null) {
    throw new UnsupportedOperationException("Initializer actions are not currently supported by the directory store implementation.");
  }
  File canonicalDir=GFileUtils.canonicalise(storeDir);
  DirCacheReference dirCacheReference=dirCaches.get(canonicalDir);
  if (dirCacheReference == null) {
    DefaultPersistentDirectoryStore cache=new DefaultPersistentDirectoryStore(canonicalDir,displayName,lockMode,lockManager);
    cache.open();
    dirCacheReference=new DirCacheReference(cache,Collections.<String,Object>emptyMap(),lockMode);
    dirCaches.put(canonicalDir,dirCacheReference);
  }
  dirCacheReference.addReference(this);
  return dirCacheReference.getCache();
}
