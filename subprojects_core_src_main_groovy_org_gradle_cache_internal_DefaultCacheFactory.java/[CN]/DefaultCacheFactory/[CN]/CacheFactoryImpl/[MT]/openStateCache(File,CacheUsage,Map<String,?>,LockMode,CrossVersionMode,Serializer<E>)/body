{
  if (lockMode == LockMode.Shared) {
    throw new UnsupportedOperationException("No shared state cache implementation available.");
  }
  StateCacheReference<E> cacheReference=doOpenDir(cacheDir,usage,properties,LockMode.Exclusive,null).getStateCache(serializer);
  cacheReference.addReference(this);
  return cacheReference.getCache();
}
