{
  if (!watcher.isRunning()) {
    return;
  }
  watchDir(dir.toPath());
  File[] contents=dir.listFiles();
  for (  File file : contents) {
    maybeFire(watcher,FileWatcherEvent.create(file));
    if (!watcher.isRunning()) {
      return;
    }
    if (file.isDirectory()) {
      newDirectory(watcher,file);
    }
  }
}
