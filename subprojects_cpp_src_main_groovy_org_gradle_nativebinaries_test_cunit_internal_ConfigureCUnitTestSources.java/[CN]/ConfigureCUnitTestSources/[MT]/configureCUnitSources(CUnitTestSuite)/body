{
  FunctionalSourceSet suiteSourceSet=createSuiteSources(cUnitTestSuite);
  CSourceSet launcherSources=suiteSourceSet.create("cunitLauncher",CSourceSet.class);
  cUnitTestSuite.source(launcherSources);
  createCUnitLauncherTask(cUnitTestSuite,launcherSources);
  CSourceSet testSources=suiteSourceSet.create("cunit",CSourceSet.class);
  cUnitTestSuite.source(testSources);
  testSources.lib(launcherSources);
  if (cUnitTestSuite instanceof ProjectComponentTestSuite) {
    ProjectNativeComponent testedComponent=((ProjectComponentTestSuite)cUnitTestSuite).getTestedComponent();
    testSources.lib(testedComponent.getSource().withType(CSourceSet.class));
    cUnitTestSuite.source(testedComponent.getSource());
  }
}
