{
  ImmutableMap.Builder<File,String> files=ImmutableMap.builder();
  for (  ResolvedArtifact artifact : getResolvedArtifacts()) {
    boolean isProject=artifact.getId().getComponentIdentifier() instanceof ProjectComponentIdentifier;
    if (isProject) {
      ProjectComponentIdentifier projectComponentIdentifier=(ProjectComponentIdentifier)artifact.getId().getComponentIdentifier();
      files.put(artifact.getFile(),rename(projectComponentIdentifier,artifact.getFile()));
    }
 else {
      files.put(artifact.getFile(),artifact.getFile().getName());
    }
  }
  return files.build();
}
