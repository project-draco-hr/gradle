{
  if (env == null) {
    return;
  }
  try {
    Map<String,String> currentEnv=System.getenv();
    Iterable<String> names=new LinkedList(currentEnv.keySet());
    for (    String name : names) {
      env.unsetenv(name);
    }
    for (    String key : source.keySet()) {
      env.setenv(key,source.get(key));
    }
  }
 catch (  Throwable t) {
    String warning=String.format("Unable to set env variables on OS: %s.",OperatingSystem.current());
    LOGGER.warn(warning,t);
  }
}
