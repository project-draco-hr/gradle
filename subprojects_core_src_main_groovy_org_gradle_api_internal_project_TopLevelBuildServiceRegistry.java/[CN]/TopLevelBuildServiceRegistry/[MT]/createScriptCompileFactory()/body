{
  ScriptExecutionListener scriptExecutionListener=get(ListenerManager.class).getBroadcaster(ScriptExecutionListener.class);
  EmptyScriptGenerator emptyScriptGenerator=new AsmBackedEmptyScriptGenerator();
  return new DefaultScriptCompilerFactory(new ShortCircuitEmptyScriptCompiler(new FileCacheBackedScriptClassCompiler(get(CacheRepository.class),new CachingScriptCompilationHandler(new DefaultScriptCompilationHandler(emptyScriptGenerator))),emptyScriptGenerator),new DefaultScriptRunnerFactory(scriptExecutionListener));
}
