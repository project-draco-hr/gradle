{
  DefaultDependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(parent,moduleRevisionId,clientModule.isForce(),false,clientModule.isTransitive());
  addExcludesArtifactsAndDependencies(configuration,clientModule,dependencyDescriptor);
  ModuleDescriptor moduleDescriptor=clientModuleDescriptorFactory.createModuleDescriptor(dependencyDescriptor.getDependencyRevisionId(),clientModule.getDependencies(),DefaultDependencyDescriptorFactory.this,clientModuleRegistry);
  clientModuleRegistry.put(clientModule.getId(),moduleDescriptor);
  return dependencyDescriptor;
}
