{
  DefaultDependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(parent,ModuleRevisionId.newInstance(clientModule.getGroup(),clientModule.getName(),clientModule.getVersion(),WrapUtil.toMap(ClientModule.CLIENT_MODULE_KEY,clientModule.getId())),clientModule.isForce(),false,clientModule.isTransitive());
  addExcludesArtifactsAndDependencies(configuration,clientModule,dependencyDescriptor);
  ModuleDescriptor moduleDescriptor=clientModuleDescriptorFactory.createModuleDescriptor(dependencyDescriptor.getDependencyRevisionId(),clientModule.getDependencies(),this,clientModuleRegistry);
  clientModuleRegistry.put(clientModule.getId(),moduleDescriptor);
  return dependencyDescriptor;
}
