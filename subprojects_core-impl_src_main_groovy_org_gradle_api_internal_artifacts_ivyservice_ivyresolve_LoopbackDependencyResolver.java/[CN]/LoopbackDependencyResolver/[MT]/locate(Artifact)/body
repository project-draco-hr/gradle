{
  return cacheLockingManager.useCache(String.format("Locate %s",artifact),new Factory<ArtifactOrigin>(){
    public ArtifactOrigin create(){
      try {
        DependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(artifact.getModuleRevisionId(),false);
        DefaultBuildableModuleVersionResolveResult resolveResult=new DefaultBuildableModuleVersionResolveResult();
        DefaultDependencyMetaData dependency=new DefaultDependencyMetaData(dependencyDescriptor);
        dependencyResolver.resolve(dependency,resolveResult);
        DefaultBuildableArtifactResolveResult artifactResolveResult=new DefaultBuildableArtifactResolveResult();
        DefaultModuleVersionArtifactMetaData artifactMetaData=new DefaultModuleVersionArtifactMetaData(resolveResult.getId(),artifact);
        artifactResolver.resolve(resolveResult.getMetaData(),artifactMetaData,artifactResolveResult);
        File artifactFile=artifactResolveResult.getFile();
        return new ArtifactOrigin(artifact,false,artifactFile.getAbsolutePath());
      }
 catch (      ModuleVersionNotFoundException e) {
        return null;
      }
catch (      ArtifactNotFoundException e) {
        return null;
      }
    }
  }
);
}
