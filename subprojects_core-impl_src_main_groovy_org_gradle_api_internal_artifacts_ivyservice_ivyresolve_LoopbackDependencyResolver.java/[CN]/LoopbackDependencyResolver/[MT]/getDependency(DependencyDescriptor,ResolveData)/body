{
  final DependencyResolver loopback=this;
  return cacheLockingManager.useCache(String.format("Resolve %s",dd),new Factory<ResolvedModuleRevision>(){
    public ResolvedModuleRevision create(){
      ModuleVersionResolveResult dependency;
      IvyContext ivyContext=IvyContext.pushNewCopyContext();
      try {
        ivyContext.setResolveData(data);
        dependency=userResolverChain.resolve(dd);
      }
  finally {
        IvyContext.popContext();
      }
      return new ResolvedModuleRevision(loopback,loopback,dependency.getDescriptor(),null);
    }
  }
);
}
