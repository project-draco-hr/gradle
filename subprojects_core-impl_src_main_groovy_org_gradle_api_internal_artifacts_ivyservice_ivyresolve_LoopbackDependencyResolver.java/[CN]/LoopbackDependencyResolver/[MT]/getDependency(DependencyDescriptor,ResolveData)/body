{
  final DependencyResolver loopback=this;
  return cacheLockingManager.useCache(String.format("Resolve %s",dd),new Factory<ResolvedModuleRevision>(){
    public ResolvedModuleRevision create(){
      DefaultBuildableModuleVersionResolveResult dependency=new DefaultBuildableModuleVersionResolveResult();
      IvyContext ivyContext=IvyContext.pushNewCopyContext();
      try {
        ivyContext.setResolveData(data);
        userResolverChain.resolve(dd,dependency);
      }
  finally {
        IvyContext.popContext();
      }
      return new ResolvedModuleRevision(loopback,loopback,dependency.getMetaData().getDescriptor(),null);
    }
  }
);
}
