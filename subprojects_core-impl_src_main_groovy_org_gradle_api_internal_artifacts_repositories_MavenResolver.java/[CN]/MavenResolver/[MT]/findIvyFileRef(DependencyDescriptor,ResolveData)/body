{
  if (shouldResolveDependencyDescriptors()) {
    ModuleRevisionId moduleRevisionId=convertM2IdForResourceSearch(dd.getDependencyRevisionId());
    if (moduleRevisionId.getRevision().endsWith("SNAPSHOT")) {
      ResolvedResource resolvedResource=findSnapshotDescriptor(dd,data,moduleRevisionId,true);
      if (resolvedResource != null) {
        return resolvedResource;
      }
    }
    Artifact pomArtifact=DefaultArtifact.newPomArtifact(moduleRevisionId,data.getDate());
    ResourceMDParser parser=getRMDParser(dd,data);
    return findResourceUsingPatterns(moduleRevisionId,getIvyPatterns(),pomArtifact,parser,data.getDate(),true);
  }
  return null;
}
