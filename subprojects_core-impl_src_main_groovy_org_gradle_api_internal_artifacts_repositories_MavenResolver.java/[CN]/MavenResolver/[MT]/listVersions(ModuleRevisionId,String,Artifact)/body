{
  final ChainedVersionLister chainedVersionLister=new ChainedVersionLister(true);
  String metadataLocation=IvyPatternHelper.substituteTokens(root + "[organisation]/[module]/maven-metadata.xml",moduleRevisionId.getModuleId().getAttributes());
  if (shouldUseMavenMetadata(pattern)) {
    final MavenMetadata mavenMetadata=parseMavenMetadata(metadataLocation);
    chainedVersionLister.appendVersionLister(new MavenVersionLister(mavenMetadata));
  }
  chainedVersionLister.appendVersionLister(new ResourceVersionLister(getRepository()));
  final VersionList versionList=chainedVersionLister.getVersionList(moduleRevisionId,pattern,artifact);
  return versionList;
}
