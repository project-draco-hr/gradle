{
  if (dd.getDependencyRevisionId().getRevision().endsWith("SNAPSHOT")) {
    DependencyDescriptor changingDescriptor=ForceChangeDependencyDescriptor.forceChangingFlag(dd,true);
    ResolvedModuleRevision changingModule=super.getDependency(changingDescriptor,data);
    ModuleRevisionId resolvedId=changingModule.getDescriptor().getResolvedModuleRevisionId();
    ModuleRevisionId changingId=ModuleRevisionId.newInstance(resolvedId.getOrganisation(),resolvedId.getName(),resolvedId.getRevision(),Collections.singletonMap("CHANGING_MODULE","TRUE"));
    changingModule.getDescriptor().setResolvedModuleRevisionId(changingId);
    return changingModule;
  }
  return super.getDependency(dd,data);
}
