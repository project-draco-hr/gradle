{
  ModuleRevisionId moduleRevisionId=convertM2IdForResourceSearch(artifact.getModuleRevisionId());
  if (moduleRevisionId.getRevision().endsWith("SNAPSHOT")) {
    ResolvedResource resolvedResource=findSnapshotArtifact(artifact,date,moduleRevisionId);
    if (resolvedResource != null) {
      return resolvedResource;
    }
  }
  ResourceMDParser parser=getDefaultRMDParser(artifact.getModuleRevisionId().getModuleId());
  return findResourceUsingPatterns(moduleRevisionId,getArtifactPatterns(),artifact,parser,date);
}
