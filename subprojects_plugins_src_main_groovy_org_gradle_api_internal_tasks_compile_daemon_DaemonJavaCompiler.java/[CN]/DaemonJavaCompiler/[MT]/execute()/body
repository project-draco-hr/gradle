{
  configure(delegate);
  DaemonForkOptions forkOptions=new DaemonForkOptions(getCompileOptions().getForkOptions());
  CompilerDaemon daemon=CompilerDaemonManager.getInstance().getDaemon(project,forkOptions);
  CompileResult result=daemon.execute(delegate);
  if (result.isSuccess() || !compileOptions.isFailOnError()) {
    return result;
  }
  throw UncheckedException.asUncheckedException(result.getException());
}
