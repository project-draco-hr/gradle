{
  final Package[] packages=new Package[0];
  ClassLoader classLoader=new ClassLoader(){
    @Override protected Package[] getPackages(){
      return packages;
    }
  }
;
  JavaMethod<ClassLoader,Package[]> method=new JavaMethod<ClassLoader,Package[]>(ClassLoader.class,Package[].class,"getPackages");
  assertThat(method.invoke(classLoader),sameInstance(packages));
}
