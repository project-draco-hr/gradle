{
  testDependencies=new ArrayList<DependencyDescriptor>();
  dependencyManagerMock=context.mock(DependencyManagerInternal.class);
  pomFilterContainerMock=createPomFilterContainerMock();
  artifactPomContainerMock=context.mock(ArtifactPomContainer.class);
  pomMock=context.mock(MavenPom.class);
  mavenSettingsMock=context.mock(Settings.class);
  final ModuleDescriptor moduleDescriptorMock=context.mock(ModuleDescriptor.class);
  context.checking(new Expectations(){
{
      allowing(dependencyManagerMock).createModuleDescriptor(Filters.NO_FILTER,Filters.NO_FILTER,Filters.NO_FILTER);
      will(returnValue(moduleDescriptorMock));
      allowing(moduleDescriptorMock).getDependencies();
      will(returnValue(testDependencies.toArray(new DependencyDescriptor[testDependencies.size()])));
    }
  }
);
}
