{
  if (referenceValue < granularity) {
    throw new IllegalArgumentException("reference value must be larger than granularity");
  }
  return (int)((double)referenceValue * sizingRatio) / granularity * granularity;
}
