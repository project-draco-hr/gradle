{
  if (path == null || path.getParent() == null || !visitedDirs.add(path)) {
    return;
  }
  maybeVisit(path.getParent());
  visitor.visitDir(dirDetails);
}
