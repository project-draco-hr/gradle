{
  target.getPlugins().apply(JvmLanguagePlugin.class);
  BinaryContainer jvmBinaryContainer=target.getExtensions().getByType(BinaryContainer.class);
  jvmBinaryContainer.withType(ClassDirectoryBinarySpecInternal.class).all(new Action<ClassDirectoryBinarySpecInternal>(){
    public void execute(    final ClassDirectoryBinarySpecInternal binary){
      final BinaryNamingScheme namingScheme=binary.getNamingScheme();
      binary.getSource().withType(JavaSourceSet.class).all(new Action<JavaSourceSet>(){
        public void execute(        JavaSourceSet javaSourceSet){
          JavaCompile compileTask=target.getTasks().create(namingScheme.getTaskName("compile","java"),JavaCompile.class);
          configureCompileTask(compileTask,javaSourceSet,binary);
          binary.getTasks().add(compileTask);
          binary.builtBy(compileTask);
        }
      }
);
    }
  }
);
}
