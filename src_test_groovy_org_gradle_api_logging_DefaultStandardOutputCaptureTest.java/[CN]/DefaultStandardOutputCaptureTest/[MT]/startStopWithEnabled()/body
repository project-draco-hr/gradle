{
  StandardOutputLogging.onOut(LogLevel.ERROR);
  StandardOutputLogging.onErr(LogLevel.DEBUG);
  standardOutputCapture=new DefaultStandardOutputCapture(true,LogLevel.DEBUG);
  StandardOutputState oldState=StandardOutputLogging.getStateSnapshot();
  standardOutputCapture.start();
  assertSame(StandardOutputLogging.OUT_LOGGING_STREAM.get(),System.out);
  assertSame(StandardOutputLogging.ERR_LOGGING_STREAM.get(),System.err);
  assertEquals(StandardOutputLogging.getOutAdapter().getLevel(),LogLevel.DEBUG);
  assertEquals(StandardOutputLogging.getErrAdapter().getLevel(),LogLevel.ERROR);
  standardOutputCapture.stop();
  assertEquals(oldState,StandardOutputLogging.getStateSnapshot());
}
