{
  Closure closure=TestUtil.toClosure("{it.write('content'.getBytes())}");
  tree.add("path/file.txt",closure);
  tree.add("file.txt",closure);
  tree.add("path/subdir/file.txt",closure);
  assertVisits(tree,toList("path/file.txt","file.txt","path/subdir/file.txt"),toList("path","path/subdir"));
  assertSetContainsForAllTypes(tree,toList("path/file.txt","file.txt","path/subdir/file.txt"));
}
