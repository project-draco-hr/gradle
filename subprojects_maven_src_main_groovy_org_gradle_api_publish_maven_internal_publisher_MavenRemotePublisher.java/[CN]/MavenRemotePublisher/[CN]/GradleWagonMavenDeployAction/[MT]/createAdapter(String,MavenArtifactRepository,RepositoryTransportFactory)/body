{
  AuthenticationSupportedInternal artifactRepositoryInternal=(AuthenticationSupportedInternal)artifactRepository;
  Set<Authentication> authentications=artifactRepositoryInternal.getConfiguredAuthentications();
  Credentials credentials=artifactRepositoryInternal.getConfiguredCredentials();
  RepositoryTransport transport=repositoryTransportFactory.createTransport(protocol,artifactRepository.getName(),credentials,authentications);
  URI rootUri=artifactRepository.getUrl();
  return new RepositoryTransportWagonAdapter(transport,rootUri);
}
