{
  this.s3ConnectionProperties=s3ConnectionProperties;
  AWSCredentials credentials=awsCredentials == null ? null : new AWSCredentials(awsCredentials.getAccessKey(),awsCredentials.getSecretKey());
  try {
    s3Service=new RestS3Service(credentials,null,null,createConnectionProperties());
  }
 catch (  S3ServiceException e) {
    throw new S3Exception("Could instantiate S3 Service",e);
  }
}
