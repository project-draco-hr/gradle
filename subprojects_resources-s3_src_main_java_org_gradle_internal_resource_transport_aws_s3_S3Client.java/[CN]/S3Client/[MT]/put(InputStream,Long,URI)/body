{
  try {
    String bucketName=getBucketName(destination);
    String s3BucketKey=getS3BucketKey(destination);
    S3Object object=new S3Object(s3BucketKey);
    object.setContentLength(contentLength);
    object.setDataInputStream(inputStream);
    LOGGER.debug("Attempting to put resource:[{}] into s3 bucket [{}]",s3BucketKey,bucketName);
    s3Service.putObject(bucketName,object);
  }
 catch (  S3ServiceException e) {
    throw new S3Exception(String.format("Could not put s3 resource: [%s]. %s",destination.toString(),e.getErrorMessage()),e);
  }
}
