{
  List<String> lines=new ArrayList<String>();
  lines.addAll(Arrays.asList("import org.gradle.api.dependencies.Artifact","usePlugin(" + type.getPluginClass() + ")","version='0.1'","sourceCompatibility=1.5","targetCompatibility=1.5","dependencies { ","File libDir = new File(rootDir, '../lib')","   addFlatDirResolver('lib',libDir).addArtifactPattern(new File(libDir.absolutePath, '[artifact](-[revision])(-[conf]).[ext]').absolutePath) "));
  if (type == GROOVY_TYPE) {
    lines.addAll(Arrays.asList("compile " + type.getCompileDependency()));
  }
  lines.addAll(Arrays.asList("clientModule(['testCompile'],'testng:testng:5.8:jdk15') {","Artifact testngArtifact = new Artifact('testng','jar','jar',null, null)","testngArtifact.setConfs(['" + testngConfiguration + "'])","addArtifact(testngArtifact)","}","}"));
  lines.addAll(writeBuildFileTestTask(testReport));
  buildFile.writelns(lines);
}
