{
  if (!compileOptions.isIncremental()) {
    compile();
    return;
  }
  SingleMessageLogger.incubatingFeatureUsed("Incremental java compilation");
  DefaultJavaCompileSpec spec=createSpec();
  CompileCaches compileCaches=new DefaultCompileCaches(getCacheRepository(),this,getGeneralCompileCaches());
  IncrementalCompilerFactory factory=new IncrementalCompilerFactory((FileOperations)getProject(),getPath(),createCompiler(spec),source,compileCaches,(IncrementalTaskInputsInternal)inputs);
  Compiler<JavaCompileSpec> compiler=factory.createCompiler();
  performCompilation(spec,compiler);
}
