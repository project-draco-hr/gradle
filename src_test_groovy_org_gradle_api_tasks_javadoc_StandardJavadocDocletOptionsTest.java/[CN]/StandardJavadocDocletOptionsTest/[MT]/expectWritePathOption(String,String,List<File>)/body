{
  expectWriteOptionHeader(optionName);
  final Iterator<File> filesIt=files.iterator();
  while (filesIt.hasNext()) {
    final File file=filesIt.next();
    context.checking(new Expectations(){
{
        one(optionWriterMock).write(file.getAbsolutePath());
        if (filesIt.hasNext()) {
          one(optionWriterMock).write(joiner);
        }
      }
    }
);
  }
  context.checking(new Expectations(){
{
      one(optionWriterMock).newLine();
    }
  }
);
}
