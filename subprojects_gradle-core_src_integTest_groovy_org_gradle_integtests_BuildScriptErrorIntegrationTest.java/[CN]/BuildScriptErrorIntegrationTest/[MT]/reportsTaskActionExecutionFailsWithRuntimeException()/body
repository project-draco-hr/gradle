{
  File buildFile=testFile("build.gradle").writelns("task brokenClosure << {","    throw new RuntimeException('broken closure')","}");
  ExecutionFailure failure=usingBuildFile(buildFile).withTasks("brokenClosure").runWithFailure();
  failure.assertHasFileName(String.format("Build file '%s'",buildFile));
  failure.assertHasLineNumber(2);
  failure.assertHasDescription("Execution failed for task ':brokenClosure'");
  failure.assertHasCause("broken closure");
}
