{
  if (message instanceof LookupRequest) {
    LookupRequest lookupRequest=(LookupRequest)message;
    LOGGER.debug("Broadcasting lookup request {}.",lookupRequest);
    RequestDetails request=new RequestDetails(lookupRequest);
    channels.put(lookupRequest.getChannel(),request);
    request.run();
  }
 else {
    throw new UnsupportedOperationException();
  }
}
