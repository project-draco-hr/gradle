{
  DefaultExcludeRuleConverter excludeRuleConverter=new DefaultExcludeRuleConverter();
  IvyService ivyService=new ErrorHandlingIvyService(new ShortcircuitEmptyConfigsIvyService(new DefaultIvyService(dependencyMetaDataProvider,resolverProvider,new DefaultSettingsConverter(),new DefaultModuleDescriptorConverter(new DefaultModuleDescriptorFactory(),new DefaultConfigurationsToModuleDescriptorConverter(),new DefaultDependenciesToModuleDescriptorConverter(new DefaultDependencyDescriptorFactory(excludeRuleConverter,new DefaultClientModuleDescriptorFactory(),clientModuleRegistry),excludeRuleConverter),new DefaultArtifactsToModuleDescriptorConverter()),new DefaultIvyFactory(),new SelfResolvingDependencyResolver(new DefaultIvyDependencyResolver(new DefaultIvyReportConverter())),new DefaultIvyDependencyPublisher(new DefaultModuleDescriptorForUploadConverter(),new DefaultPublishOptionsFactory()),clientModuleRegistry)));
  return new DefaultConfigurationHandler(ivyService);
}
