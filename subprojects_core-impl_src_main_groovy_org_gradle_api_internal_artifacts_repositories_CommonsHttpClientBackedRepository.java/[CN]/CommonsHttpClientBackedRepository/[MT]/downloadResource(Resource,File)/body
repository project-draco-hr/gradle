{
  FileOutputStream output=new FileOutputStream(destination);
  try {
    InputStream input=resource.openStream();
    try {
      FileUtil.copy(input,output,progress);
    }
  finally {
      input.close();
    }
  }
  finally {
    output.close();
  }
}
