{
  Configuration publishConfiguration=createPopulatedConfiguration(publication);
  MavenPom deployerPom=deployer.getPom();
  copyIdentity(publication,deployerPom);
  copyDependencies(publishConfiguration,deployerPom);
  deployerPom.withXml(publication.getPomWithXmlAction());
  Module module=new MavenProjectIdentityModuleAdapter(publication);
  DependencyResolver dependencyResolver=Cast.cast(DependencyResolver.class,deployer);
  artifactPublisher.publish(Collections.singleton(dependencyResolver),module,Collections.singleton(publishConfiguration),null);
}
