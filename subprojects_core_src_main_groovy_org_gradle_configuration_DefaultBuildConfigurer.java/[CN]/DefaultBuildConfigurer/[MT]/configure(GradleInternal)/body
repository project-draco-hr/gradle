{
  maybeInformAboutIncubatingMode(gradle.getStartParameter());
  if (gradle.getStartParameter().isConfigureOnDemand()) {
    projectConfigurer.configure(gradle.getRootProject());
  }
 else {
    projectConfigurer.configureHierarchy(gradle.getRootProject());
  }
  if (cancellationToken.isCancellationRequested()) {
    throw new BuildCancelledException();
  }
}
