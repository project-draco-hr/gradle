{
  ChosenComponentResult chosenComponent=componentChooser.choose(selectionResult.getVersions(),dependency,moduleAccess);
  if (chosenComponent.hasMatch()) {
    dependency=dependency.withRequestedVersion(chosenComponent.getModuleComponentIdentifier().getVersion());
    moduleAccess.resolveComponentMetaData(dependency,chosenComponent.getModuleComponentIdentifier(),resolveResult);
  }
  return chosenComponent;
}
