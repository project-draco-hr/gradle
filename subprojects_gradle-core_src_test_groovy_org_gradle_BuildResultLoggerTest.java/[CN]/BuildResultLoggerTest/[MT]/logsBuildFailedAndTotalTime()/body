{
  context.checking(new Expectations(){
{
      one(buildTimeClock).getTime();
      will(returnValue("10s"));
      one(textOutputFactory).create(BuildResultLogger.class,LogLevel.ERROR);
      will(returnValue(textOutput));
      one(textOutput).println();
      one(textOutput).style(Failure);
      will(returnValue(textOutput));
      one(textOutput).text("BUILD FAILED");
      will(returnValue(textOutput));
      one(textOutput).style(Normal);
      one(textOutput).println();
      one(textOutput).println();
      one(textOutput).formatln("Total time: %s","10s");
    }
  }
);
  listener.buildFinished(new BuildResult(null,new RuntimeException()));
}
