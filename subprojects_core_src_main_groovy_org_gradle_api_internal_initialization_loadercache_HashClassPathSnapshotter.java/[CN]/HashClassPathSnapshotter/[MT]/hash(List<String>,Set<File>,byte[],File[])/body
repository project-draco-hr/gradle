{
  for (  File file : toHash) {
    file=GFileUtils.canonicalise(file);
    if (file.isDirectory()) {
      if (visitedDirs.add(file)) {
        combinedHash=hash(visitedFilePaths,visitedDirs,combinedHash,file.listFiles());
      }
    }
 else {
      visitedFilePaths.add(file.getAbsolutePath());
      combinedHash=Bytes.concat(combinedHash,hasher.hash(file));
    }
  }
  return combinedHash;
}
