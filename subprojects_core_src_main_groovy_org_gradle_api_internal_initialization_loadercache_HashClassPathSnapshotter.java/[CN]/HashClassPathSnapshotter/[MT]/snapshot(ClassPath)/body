{
  List<String> visitedFilePaths=Lists.newLinkedList();
  Set<File> visitedDirs=Sets.newLinkedHashSet();
  List<byte[]> combinedHash=Lists.newLinkedList();
  List<File> cpFiles=classPath.getAsFiles();
  hash(combinedHash,visitedFilePaths,visitedDirs,cpFiles.toArray(new File[cpFiles.size()]));
  return new ClassPathSnapshotImpl(visitedFilePaths,combinedHash);
}
