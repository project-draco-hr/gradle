{
  List<String> visitedFilePaths=new LinkedList<String>();
  Set<File> visitedDirs=new LinkedHashSet<File>();
  byte[] combinedHash=new byte[0];
  List<File> cpFiles=classPath.getAsFiles();
  combinedHash=hash(visitedFilePaths,visitedDirs,combinedHash,cpFiles.toArray(new File[cpFiles.size()]));
  return new ClassPathSnapshotImpl(visitedFilePaths,combinedHash);
}
