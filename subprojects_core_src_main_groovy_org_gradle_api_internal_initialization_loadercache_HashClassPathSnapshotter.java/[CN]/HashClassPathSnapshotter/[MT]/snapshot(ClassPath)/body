{
  final List<String> visitedFilePaths=Lists.newLinkedList();
  final Set<File> visitedDirs=Sets.newLinkedHashSet();
  final List<File> cpFiles=classPath.getAsFiles();
  final Adler32 checksum=new Adler32();
  hash(checksum,visitedFilePaths,visitedDirs,cpFiles.iterator());
  return new HashClassPathSnapshot(visitedFilePaths,checksum.getValue());
}
