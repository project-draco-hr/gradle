{
  File codeSource=ClasspathUtil.getClasspathForClass(AbstractClassPathProvider.class);
  if (codeSource.isFile()) {
    File gradleHome=codeSource.getParentFile().getParentFile();
    runtimeLibs=new DirScanner(new File(gradleHome + "/lib"));
    pluginLibs=new DirScanner(new File(gradleHome + "/lib/plugins"));
    coreImplLibs=new DirScanner(new File(gradleHome + "/lib/core-impl"));
  }
 else {
    runtimeLibs=new ClassPathScanner(codeSource);
    pluginLibs=runtimeLibs;
    coreImplLibs=runtimeLibs;
  }
}
