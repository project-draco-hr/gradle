{
  FileVisitDetailsImpl details=new FileVisitDetailsImpl(fileDetails,spec,fileSystem);
  for (  Action<? super FileCopyDetails> action : spec.getAllCopyActions()) {
    action.execute(details);
    if (details.excluded) {
      return;
    }
  }
  getVisitor().visitFile(details);
}
