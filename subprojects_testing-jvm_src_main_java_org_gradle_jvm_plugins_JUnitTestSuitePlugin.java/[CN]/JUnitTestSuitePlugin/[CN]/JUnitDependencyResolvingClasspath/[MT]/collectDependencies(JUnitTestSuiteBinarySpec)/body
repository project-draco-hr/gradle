{
  final List<DependencySpec> dependencies=Lists.newArrayList();
  Iterable<LanguageSourceSet> sourceSets=Iterables.concat(binary.getTestSuite().getSources().values(),binary.getSources().values());
  for (  LanguageSourceSet sourceSet : sourceSets) {
    if (sourceSet instanceof DependentSourceSet) {
      dependencies.addAll(((DependentSourceSet)sourceSet).getDependencies().getDependencies());
    }
  }
  dependencies.addAll(((WithDependencies)binary).getDependencies());
  return dependencies;
}
