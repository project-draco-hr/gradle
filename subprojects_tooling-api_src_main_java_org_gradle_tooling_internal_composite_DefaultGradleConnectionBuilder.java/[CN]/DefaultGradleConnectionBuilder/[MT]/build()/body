{
  if (participants.isEmpty()) {
    throw new IllegalStateException("At least one participant must be specified before creating a connection.");
  }
  if (useDaemonCoordinator()) {
    return createDaemonCoordinatorGradleConnection();
  }
  return createToolingClientGradleConnection();
}
