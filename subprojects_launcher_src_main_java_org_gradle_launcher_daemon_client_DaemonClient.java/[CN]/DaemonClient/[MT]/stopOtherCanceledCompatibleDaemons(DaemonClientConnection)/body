{
  final Spec<DaemonInfo> filter=new Spec<DaemonInfo>(){
    @Override public boolean isSatisfiedBy(    DaemonInfo daemon){
      return daemon.getUid() != connectionToExclude.getDaemon().getUid() && daemon.getState() == Canceled && compatibilitySpec.isSatisfiedBy(daemon.getContext());
    }
  }
;
  Collection<DaemonInfo> canceledCompatibleDaemons=CollectionUtils.filter(daemonRegistry.getAll(),filter);
  stop(canceledCompatibleDaemons);
}
