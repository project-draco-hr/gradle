{
  Spec<DaemonContext> stoppableDaemonSpec=Specs.satisfyAll();
  DaemonConnection connection=connector.maybeConnect(stoppableDaemonSpec);
  if (connection == null) {
    LOGGER.lifecycle(DaemonMessages.NO_DAEMONS_RUNNING);
    return;
  }
  LOGGER.lifecycle("Stopping daemon(s).");
  while (connection != null) {
    new StopDispatcher().dispatch(clientMetaData,connection.getConnection());
    LOGGER.lifecycle("Gradle daemon stopped.");
    connection=connector.maybeConnect(stoppableDaemonSpec);
  }
}
