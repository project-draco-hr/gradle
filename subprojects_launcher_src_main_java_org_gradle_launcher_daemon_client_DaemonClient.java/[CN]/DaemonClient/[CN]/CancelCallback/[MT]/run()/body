{
  LOGGER.info("Request daemon stop to handle build cancellation...");
  wasCancelled=true;
  DaemonClientConnection connection=connector.maybeConnect(executingCompatibilitySpec);
  if (connection == null) {
    LOGGER.error("Cannot connect to daemon process to cancel the build.");
    return;
  }
  new CancelDispatcher(idGenerator).dispatch(connection,buildId);
  LOGGER.lifecycle("Gradle build stopped.");
  connection.stop();
}
