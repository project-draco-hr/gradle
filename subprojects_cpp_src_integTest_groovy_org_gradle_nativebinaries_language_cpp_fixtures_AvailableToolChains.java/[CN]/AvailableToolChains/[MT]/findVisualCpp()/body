{
  File compilerExe=OperatingSystem.current().findInPath("cl.exe");
  if (compilerExe != null) {
    return new InstalledVisualCpp("visual c++");
  }
  VisualStudioLocator vsLocator=new DefaultVisualStudioLocator();
  File visualStudioDir=vsLocator.locateDefaultVisualStudio().getResult();
  if (visualStudioDir != null) {
    VisualStudioInstall install=new VisualStudioInstall(visualStudioDir);
    return new InstalledVisualCpp("visual c++").withInstall(install);
  }
  return new UnavailableToolChain("visual c++");
}
