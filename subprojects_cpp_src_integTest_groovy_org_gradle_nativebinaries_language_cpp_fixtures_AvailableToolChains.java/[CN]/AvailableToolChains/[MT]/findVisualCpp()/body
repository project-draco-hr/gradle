{
  File compilerExe=OperatingSystem.current().findInPath("cl.exe");
  if (compilerExe != null) {
    return new InstalledVisualCpp("visual c++");
  }
  VisualStudioLocator vsLocator=new VisualStudioLocator();
  File visualStudioDir=vsLocator.locateDefaultVisualStudio();
  File windowsSdkDir=vsLocator.locateWindowsSdk();
  if (visualStudioDir != null && windowsSdkDir != null) {
    VisualStudioInstall install=new VisualStudioInstall(visualStudioDir,new WindowsSdk(windowsSdkDir));
    return new InstalledVisualCpp("visual c++").withInstall(install);
  }
  return new UnavailableToolChain("visual c++");
}
