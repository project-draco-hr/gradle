{
  super(name);
  SftpResourceAccessor accessor=new SftpResourceAccessor(sftpClientFactory,credentials);
  SftpResourceUploader uploader=new SftpResourceUploader(sftpClientFactory,credentials);
  ProgressLoggingExternalResourceAccessor loggingAccessor=new ProgressLoggingExternalResourceAccessor(accessor,progressLoggerFactory);
  resourceAccessor=new DefaultCacheAwareExternalResourceAccessor(loggingAccessor,cachedExternalResourceIndex,timeProvider,temporaryFileProvider,cacheLockingManager);
  repository=new DefaultExternalResourceRepository(name,accessor,new ProgressLoggingExternalResourceUploader(uploader,progressLoggerFactory),new SftpResourceLister(sftpClientFactory,credentials),temporaryFileProvider);
}
