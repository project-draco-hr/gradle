{
  IvyContext.pushNewContext();
  try {
    Ivy ivy=getIvy();
    try {
      IvyContext.getContext().setIvy(ivy);
      return action.transform(ivy);
    }
  finally {
      releaseIvy(ivy);
    }
  }
  finally {
    IvyContext.popContext();
  }
}
