{
  if (atTopLevel()) {
    ArrayList<String> names=Lists.newArrayList();
    boolean propertyNameIsPart=extractPropertyPath(expression,names);
    if (!names.isEmpty()) {
      String modelPath=ModelPath.pathString(names);
      inputs.relativePath(modelPath,expression.getLineNumber());
      if (propertyNameIsPart) {
        replaceVisitedExpressionWith(conditionalInputGet(modelPath,expression));
      }
 else {
        expression.setObjectExpression(conditionalInputGet(modelPath,expression.getObjectExpression()));
      }
    }
  }
 else {
    super.visitPropertyExpression(expression);
  }
}
