{
  ArrayList<String> names=Lists.newArrayList();
  boolean propertyNameIsPart=extractPropertyPath(expression,names);
  if (!names.isEmpty()) {
    if (names.get(0).equals("thing")) {
      String modelPath=ModelPath.pathString(names);
      inputs.relativePath(modelPath,expression.getLineNumber());
      if (propertyNameIsPart) {
        replaceVisitedExpressionWith(conditionalInputGet(modelPath,expression));
      }
 else {
        expression.setObjectExpression(conditionalInputGet(modelPath,expression.getObjectExpression()));
      }
    }
 else {
      expression.setObjectExpression(new TernaryExpression(new BooleanExpression(ConstantExpression.TRUE),expression.getObjectExpression(),ConstantExpression.FALSE));
    }
  }
}
