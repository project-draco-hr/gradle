{
  getResource().withContent(new Action<InputStream>(){
    public void execute(    InputStream inputStream){
      URL schemaURL=validate ? getSchemaURL() : null;
      InputSource inSrc=new InputSource(inputStream);
      inSrc.setSystemId(descriptorURL.toExternalForm());
      try {
        ParserHelper.parse(inSrc,schemaURL,Parser.this);
      }
 catch (      Exception e) {
        throw new MetaDataParseException("Ivy file",getResource(),e);
      }
    }
  }
);
  checkErrors();
  checkConfigurations();
  replaceConfigurationWildcards();
  if (!artifactsDeclared) {
    IvyArtifactName implicitArtifact=new DefaultIvyArtifactName(getMd().getModuleRevisionId().getName(),"jar","jar");
    Set<String> configurationNames=Sets.newHashSet(getMd().getConfigurationsNames());
    metaData.addArtifact(implicitArtifact,configurationNames);
  }
  checkErrors();
  getMd().check();
}
