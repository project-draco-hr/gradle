{
  for (  final JdkSpec jdk : jdks) {
    installedJdks.create(jdk.getName(),InstalledJdkInternal.class,new Action<InstalledJdkInternal>(){
      @Override public void execute(      InstalledJdkInternal installedJdk){
        EnumMap<JavaInstallationProbe.Type,String> metadata=probe.getMetadata(jdk.getPath());
        installedJdk.setJavaHome(jdk.getPath());
        installedJdk.setJavaVersion(JavaVersion.toVersion(metadata.get(JavaInstallationProbe.Type.VERSION)));
        installedJdk.setDisplayName(String.format("%s %s",metadata.get(JavaInstallationProbe.Type.VENDOR),metadata.get(JavaInstallationProbe.Type.VM)));
      }
    }
);
  }
}
