{
  File currentJavaHome=canonicalFile(Jvm.current().getJavaHome());
  for (  final JdkSpec jdk : jdks) {
    final File javaHome=canonicalFile(jdk.getPath());
    if (!javaHome.equals(currentJavaHome) && probe.isValidInstallation(javaHome)) {
      installedJdks.create(jdk.getName(),InstalledJdkInternal.class,new Action<InstalledJdkInternal>(){
        @Override public void execute(        InstalledJdkInternal installedJdk){
          installedJdk.setJavaHome(javaHome);
          probe.configure(javaHome,installedJdk);
        }
      }
);
    }
  }
}
