{
  List<PlatformRequirement> targetPlatforms=((JvmLibrarySpecInternal)jvmLibrary).getTargetPlatforms();
  if (targetPlatforms.isEmpty()) {
    String defaultJavaPlatformName=new DefaultJavaPlatform(JavaVersion.current()).getName();
    targetPlatforms=Collections.singletonList(DefaultPlatformRequirement.create(defaultJavaPlatformName));
  }
  return CollectionUtils.collect(targetPlatforms,new Transformer<JavaPlatform,PlatformRequirement>(){
    @Override public JavaPlatform transform(    PlatformRequirement platformRequirement){
      return platforms.resolve(JavaPlatform.class,platformRequirement);
    }
  }
);
}
