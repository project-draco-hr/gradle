{
  if (notation instanceof File) {
    return (T)notation;
  }
  if (notation instanceof URL) {
    try {
      notation=((URL)notation).toURI();
    }
 catch (    URISyntaxException e) {
      throw new UncheckedIOException(e);
    }
  }
  if (notation instanceof URI) {
    URI uri=(URI)notation;
    if (uri.getScheme().equals("file")) {
      return (T)new File(uri.getPath());
    }
 else {
      return (T)uri;
    }
  }
  if (notation instanceof CharSequence) {
    String notationString=notation.toString();
    if (notationString.startsWith("file:")) {
      return (T)new File(uriDecode(notationString.substring(5)));
    }
    for (    File file : File.listRoots()) {
      String rootPath=file.getAbsolutePath();
      String normalisedStr=notationString;
      if (!fileSystem.isCaseSensitive()) {
        rootPath=rootPath.toLowerCase();
        normalisedStr=normalisedStr.toLowerCase();
      }
      if (normalisedStr.startsWith(rootPath) || normalisedStr.startsWith(rootPath.replace(File.separatorChar,'/'))) {
        return (T)new File(notationString);
      }
    }
    if (URI_SCHEME.matcher(notationString).matches()) {
      try {
        return (T)new URI(notationString);
      }
 catch (      URISyntaxException e) {
        throw new UncheckedIOException(e);
      }
    }
  }
 else {
    DeprecationLogger.nagUserOfDeprecated(String.format("Converting class %s to File using toString() method",notation.getClass().getName()),"Please use java.io.File, java.lang.String, java.net.URL, or java.net.URI instead");
  }
  return (T)new File(notation.toString());
}
