{
  if (ivySettings != null) {
    return ivySettings;
  }
  ChainResolver userResolverChain=createUserResolverChain(classpathResolvers,buildResolver);
  ClientModuleResolver clientModuleResolver=createClientModuleResolver(clientModuleRegistry,userResolverChain);
  ChainResolver outerChain=createOuterChain(userResolverChain,clientModuleResolver);
  IvySettings ivySettings=createIvySettings(gradleUserHome);
  initializeResolvers(ivySettings,getAllResolvers(classpathResolvers,otherResolvers,buildResolver,userResolverChain,clientModuleResolver,outerChain));
  ivySettings.setDefaultResolver(CLIENT_MODULE_CHAIN_NAME);
  return ivySettings;
}
