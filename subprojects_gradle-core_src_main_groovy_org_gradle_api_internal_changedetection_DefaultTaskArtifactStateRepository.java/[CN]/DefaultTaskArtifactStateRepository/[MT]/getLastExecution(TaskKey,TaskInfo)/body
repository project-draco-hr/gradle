{
  TaskExecution taskInfo=null;
  List<String> outOfDateMessages=new ArrayList<String>();
  for (  File outputFile : thisExecution.outputFiles.keySet()) {
    OutputGenerators generators=cache.get(outputFile);
    if (generators == null) {
      cache.put(outputFile,new OutputGenerators());
      outOfDateMessages.add(String.format("No history is available for %s.",outputFile));
      continue;
    }
    if (generators.invalidate(outputFile)) {
      cache.put(outputFile,generators);
    }
    TaskExecution lastExecution=generators.get(key);
    if (lastExecution == null) {
      outOfDateMessages.add(String.format("Task did not produce %s.",outputFile));
      continue;
    }
    if (lastExecution instanceof TaskInfo) {
      taskInfo=lastExecution;
    }
  }
  if (!outOfDateMessages.isEmpty()) {
    return new EmptyTaskInfo(outOfDateMessages);
  }
  if (taskInfo == null) {
    return new EmptyTaskInfo();
  }
  return taskInfo;
}
