{
  if (last instanceof EmptyTaskInfo) {
    EmptyTaskInfo emptyTaskInfo=(EmptyTaskInfo)last;
    return emptyTaskInfo.outOfDateMessages;
  }
  if (!acceptInputs) {
    return Arrays.asList("Task does not accept any input files.");
  }
  TaskInfo lastExecution=(TaskInfo)last;
  final List<String> messages=new ArrayList<String>();
  outputsBefore.changesSince(lastExecution.outputsSnapshot,new FileCollectionSnapshot.ChangeListener(){
    public void added(    File file){
    }
    public void removed(    File file){
      messages.add(String.format("Output file %s removed.",file));
    }
    public void changed(    File file){
      messages.add(String.format("Output file %s changed.",file));
    }
  }
);
  if (!messages.isEmpty()) {
    return messages;
  }
  inputsSnapshot.changesSince(lastExecution.inputsSnapshot,new FileCollectionSnapshot.ChangeListener(){
    public void added(    File file){
      messages.add(String.format("Input file %s added.",file));
    }
    public void removed(    File file){
      messages.add(String.format("Input file %s removed.",file));
    }
    public void changed(    File file){
      messages.add(String.format("Input file %s changed.",file));
    }
  }
);
  if (!messages.isEmpty()) {
    return messages;
  }
  return null;
}
