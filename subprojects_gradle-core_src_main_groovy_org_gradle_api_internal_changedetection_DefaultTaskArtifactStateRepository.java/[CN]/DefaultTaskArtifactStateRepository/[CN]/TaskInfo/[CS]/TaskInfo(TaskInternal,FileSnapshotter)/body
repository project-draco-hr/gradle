{
  this.task=task;
  this.fileSnapshotter=fileSnapshotter;
  for (  File file : task.getOutputs().getFiles()) {
    outputFiles.put(file,null);
  }
  acceptInputs=task.getInputs().getHasInputFiles();
  inputsSnapshot=fileSnapshotter.snapshot(task.getInputs().getFiles());
  outputsBefore=fileSnapshotter.snapshot(task.getOutputs().getCandidateFiles());
}
