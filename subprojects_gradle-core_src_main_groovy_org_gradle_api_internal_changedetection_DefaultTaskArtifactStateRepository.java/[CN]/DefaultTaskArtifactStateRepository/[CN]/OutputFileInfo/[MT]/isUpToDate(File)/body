{
  if (type == MISSING) {
    return true;
  }
  byte newType=type(file);
  if (type == FILE) {
    return newType == FILE;
  }
  if (newType != DIR) {
    return false;
  }
  if (empty) {
    return true;
  }
  return file.list().length != 0;
}
