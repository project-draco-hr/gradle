{
  context.checking(new Expectations(){
{
      one(layoutFactory).getLayoutFor(startParameter.getCurrentDir(),startParameter.isSearchUpwards());
      will(returnValue(new BuildLayout(settingsDir,settingsDir,settingsFile)));
    }
  }
);
  SettingsLocation settingsLocation=defaultSettingsFinder.find(startParameter);
  assertEquals(settingsDir,settingsLocation.getSettingsDir());
  assertEquals(GFileUtils.canonicalise(settingsFile),settingsLocation.getSettingsScriptSource().getResource().getFile());
}
