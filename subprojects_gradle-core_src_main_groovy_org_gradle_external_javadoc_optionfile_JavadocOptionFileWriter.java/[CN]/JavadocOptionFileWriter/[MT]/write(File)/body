{
  BufferedWriter writer=null;
  try {
    final Map<String,JavadocOptionFileOption> options=optionFile.getOptions();
    writer=new BufferedWriter(new FileWriter(outputFile));
    JavadocOptionFileWriterContext writerContext=new JavadocOptionFileWriterContext(writer);
    for (    final String option : options.keySet()) {
      options.get(option).write(writerContext);
    }
    optionFile.getSourceNames().write(writerContext);
  }
  finally {
    IOUtils.closeQuietly(writer);
  }
}
