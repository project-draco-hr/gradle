{
  if (!index.containsKey(className)) {
    index.put(className,new LinkedHashMap<String,TestCaseRegion>());
  }
  Map<String,TestCaseRegion> testCaseRegions=index.get(className);
  if (!testCaseRegions.containsKey(testCaseName)) {
    TestCaseRegion region=new TestCaseRegion();
    region.name=testCaseName;
    testCaseRegions.put(testCaseName,region);
  }
  TestCaseRegion region=testCaseRegions.get(testCaseName);
  Region streamRegion=isStdout ? region.stdOutRegion : region.stdErrRegion;
  if (streamRegion.start < 0) {
    streamRegion.start=output.position();
  }
  streamRegion.stop=output.position();
}
