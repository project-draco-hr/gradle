{
  Output indexOutput;
  try {
    indexOutput=new Output(new FileOutputStream(getIndexFile()));
  }
 catch (  FileNotFoundException e) {
    throw new UncheckedIOException(e);
  }
  indexOutput.writeInt(index.size(),true);
  for (  Map.Entry<String,Map<Long,TestCaseRegion>> classEntry : index.entrySet()) {
    String className=classEntry.getKey();
    Map<Long,TestCaseRegion> regions=classEntry.getValue();
    indexOutput.writeString(className);
    indexOutput.writeInt(regions.size(),true);
    for (    Map.Entry<Long,TestCaseRegion> testCaseEntry : regions.entrySet()) {
      Object id=testCaseEntry.getKey();
      TestCaseRegion region=testCaseEntry.getValue();
      writeObject(id,indexOutput);
      indexOutput.writeLong(region.stdOutRegion.start);
      indexOutput.writeLong(region.stdOutRegion.stop);
      indexOutput.writeLong(region.stdErrRegion.start);
      indexOutput.writeLong(region.stdErrRegion.stop);
    }
  }
  indexOutput.close();
}
