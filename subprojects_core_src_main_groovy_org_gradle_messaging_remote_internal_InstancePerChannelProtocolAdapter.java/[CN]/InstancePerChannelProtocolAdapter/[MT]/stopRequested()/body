{
  stopping=true;
  for (  ProtocolContextAdapter adapter : new ArrayList<ProtocolContextAdapter>(channels.values())) {
    adapter.stopRequested();
  }
  if (!channels.isEmpty()) {
    context.stopLater();
  }
}
