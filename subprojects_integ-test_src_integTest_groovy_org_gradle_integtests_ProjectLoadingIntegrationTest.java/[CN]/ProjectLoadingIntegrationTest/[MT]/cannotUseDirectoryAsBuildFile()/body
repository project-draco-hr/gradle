{
  TestFile settingsDir=testFile("gradle");
  TestFile settingsFile=settingsDir.file("settings.gradle");
  settingsFile.writelns("rootProject.projectDir = new File(settingsDir, '../root')");
  getTestDirectory().createDir("root").file("build.gradle").writelns("task thing");
  inTestDirectory().withArguments("-b",settingsDir.getAbsolutePath()).withTasks("thing").runWithFailure().assertHasDescription(String.format("Build file '%s' is not a file.",settingsDir.getAbsolutePath()));
}
