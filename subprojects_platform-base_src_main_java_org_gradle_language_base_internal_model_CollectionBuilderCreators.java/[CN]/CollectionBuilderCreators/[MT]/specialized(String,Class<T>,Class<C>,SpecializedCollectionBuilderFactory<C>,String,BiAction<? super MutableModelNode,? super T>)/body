{
  ModelType<RuleAwareNamedDomainObjectFactoryRegistry<T>> factoryRegistryType=new ModelType.Builder<RuleAwareNamedDomainObjectFactoryRegistry<T>>(){
  }
.where(new ModelType.Parameter<T>(){
  }
,ModelType.of(typeClass)).build();
  ModelReference<CollectionBuilder<T>> containerReference=ModelReference.of(name,DefaultCollectionBuilder.typeOf(typeClass));
  SpecializedCollectionBuilderProjection<C,T> specializedCollectionBuilderProjection=new SpecializedCollectionBuilderProjection<C,T>(ModelType.of(containerClass),collectionBuilderFactory);
  return ModelCreators.of(containerReference,new BiAction<MutableModelNode,List<ModelView<?>>>(){
    @Override public void execute(    MutableModelNode mutableModelNode,    List<ModelView<?>> modelViews){
      final DefaultDynamicTypesNamedEntityInstantiator<T> namedEntityInstantiator=new DefaultDynamicTypesNamedEntityInstantiator<T>(typeClass,"this collection");
      ModelType<RuleAwareDynamicTypesNamedEntityInstantiator<T>> instantiatorType=new ModelType.Builder<RuleAwareDynamicTypesNamedEntityInstantiator<T>>(){
      }
.where(new ModelType.Parameter<T>(){
      }
,ModelType.of(typeClass)).build();
      mutableModelNode.setPrivateData(instantiatorType,new DefaultRuleAwareDynamicTypesNamedEntityInstantiator<T>(namedEntityInstantiator));
    }
  }
).descriptor(descriptor).ephemeral(true).withProjection(specializedCollectionBuilderProjection).withProjection(new DynamicTypesCollectionBuilderProjection<T>(ModelType.of(typeClass),initializeAction)).withProjection(new UnmanagedModelProjection<RuleAwareNamedDomainObjectFactoryRegistry<T>>(factoryRegistryType)).build();
}
