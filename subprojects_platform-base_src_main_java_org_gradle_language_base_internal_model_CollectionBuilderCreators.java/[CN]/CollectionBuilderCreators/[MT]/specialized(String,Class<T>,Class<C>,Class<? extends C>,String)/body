{
  ModelType<RuleAwareNamedDomainObjectFactoryRegistry<T>> factoryRegistryType=new ModelType.Builder<RuleAwareNamedDomainObjectFactoryRegistry<T>>(){
  }
.where(new ModelType.Parameter<T>(){
  }
,ModelType.of(typeClass)).build();
  ModelReference<CollectionBuilder<T>> containerReference=ModelReference.of(name,DefaultCollectionBuilder.typeOf(typeClass));
  PolymorphicCollectionBuilderProjection<T> collectionBuilderProjection=new PolymorphicCollectionBuilderProjection<T>(ModelType.of(typeClass),BiActions.doNothing());
  return ModelCreators.of(containerReference,new BiAction<MutableModelNode,List<ModelView<?>>>(){
    @Override public void execute(    MutableModelNode mutableModelNode,    List<ModelView<?>> modelViews){
      final DefaultPolymorphicNamedEntityInstantiator<T> namedEntityInstantiator=new DefaultPolymorphicNamedEntityInstantiator<T>(typeClass,"this collection");
      ModelType<RuleAwarePolymorphicNamedEntityInstantiator<T>> instantiatorType=new ModelType.Builder<RuleAwarePolymorphicNamedEntityInstantiator<T>>(){
      }
.where(new ModelType.Parameter<T>(){
      }
,ModelType.of(typeClass)).build();
      mutableModelNode.setPrivateData(instantiatorType,new DefaultRuleAwarePolymorphicNamedEntityInstantiator<T>(namedEntityInstantiator));
    }
  }
).descriptor(descriptor).withProjection(collectionBuilderProjection).withProjection(new SpecializedCollectionBuilderProjection<C,T>(ModelType.of(containerClass),ModelType.of(typeClass),collectionBuilderProjection,new Transformer<C,CollectionBuilder<T>>(){
    @Override public C transform(    CollectionBuilder<T> delegate){
      return DirectInstantiator.instantiate(viewClass,delegate);
    }
  }
)).withProjection(new UnmanagedModelProjection<RuleAwareNamedDomainObjectFactoryRegistry<T>>(factoryRegistryType)).build();
}
