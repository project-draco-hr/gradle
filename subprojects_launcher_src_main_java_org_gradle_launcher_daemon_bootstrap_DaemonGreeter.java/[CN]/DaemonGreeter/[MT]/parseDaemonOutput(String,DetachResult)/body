{
  if (!new DaemonStartupCommunication().containsGreeting(output)) {
    throw new GradleException(prepareMessage(output,detachResult));
  }
  String[] lines=output.split("\n");
  String lastLine=lines[lines.length - 1];
  return new DaemonStartupCommunication().readDiagnostics(lastLine);
}
