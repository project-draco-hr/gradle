{
  if (!output.contains(DaemonMessages.ABOUT_TO_CLOSE_STREAMS)) {
    throw new GradleException(prepareMessage(output,detachResult));
  }
  String[] lines=output.split("\n");
  String lastLine=lines[lines.length - 1];
  return new DaemonStartupCommunication().readDiagnostics(lastLine);
}
