{
  if (!output.contains(DaemonMessages.ABOUT_TO_CLOSE_STREAMS)) {
    throw new GradleException(DaemonMessages.UNABLE_TO_START_DAEMON + "\n" + processOutput(output));
  }
  String[] lines=output.split("\n");
  String lastLine=lines[lines.length - 1];
  return new DaemonStartupCommunication().readDiagnostics(lastLine);
}
