{
  if (!(this instanceof JavaCompile)) {
    DeprecationLogger.nagUserOfReplacedTaskType("Compile","JavaCompile task type");
  }
  Factory<AntBuilder> antBuilderFactory=getServices().getFactory(AntBuilder.class);
  JavaCompilerFactory inProcessCompilerFactory=new InProcessJavaCompilerFactory();
  ProjectInternal projectInternal=(ProjectInternal)getProject();
  TemporaryFileProvider tempFileProvider=projectInternal.getServices().get(TemporaryFileProvider.class);
  JavaCompilerFactory defaultCompilerFactory=new DefaultJavaCompilerFactory(projectInternal,tempFileProvider,antBuilderFactory,inProcessCompilerFactory);
  Compiler<JavaCompileSpec> delegatingCompiler=new DelegatingJavaCompiler(defaultCompilerFactory);
  javaCompiler=new IncrementalJavaCompiler(delegatingCompiler,antBuilderFactory,getOutputs());
}
