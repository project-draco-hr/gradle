{
  final TestListener listener1=context.mock(TestListener.class);
  final TestListener listener2=context.mock(TestListener.class);
  final TestListener listener3=context.mock(TestListener.class);
  final RuntimeException failure1=new RuntimeException();
  final RuntimeException failure2=new RuntimeException();
  context.checking(new Expectations(){
{
      one(listener1).event1("param");
      will(throwException(failure1));
      one(listener2).event1("param");
      will(throwException(failure2));
      one(listener3).event1("param");
    }
  }
);
  broadcast.add(listener1);
  broadcast.add(listener2);
  broadcast.add(listener3);
  try {
    broadcast.getSource().event1("param");
    fail();
  }
 catch (  ListenerNotificationException e) {
    assertThat(e.getCauses().size(),equalTo(2));
    assertThat(e.getCauses().get(0),sameInstance((Throwable)failure1));
    assertThat(e.getCauses().get(1),sameInstance((Throwable)failure2));
  }
}
