{
  boolean javaHomeMatch=getJavaHome().equals(requiredBuildParameters.getEffectiveJavaHome());
  List<String> currentImmutable=new JvmOptions(new IdentityFileResolver()).getAllImmutableJvmArgs();
  List<String> requiredImmutable=requiredBuildParameters.getEffectiveJvmArgs();
  List<String> requiredImmutableMinusDefaults=removeDefaults(requiredImmutable);
  boolean noImmutableJvmArgsRequired=requiredImmutableMinusDefaults.equals(currentImmutable);
  if (javaHomeMatch && noImmutableJvmArgsRequired) {
    Properties properties=new Properties();
    properties.putAll(requiredBuildParameters.getEffectiveSystemProperties());
    System.setProperties(properties);
    return true;
  }
  return false;
}
