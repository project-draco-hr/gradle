{
  noHistoryState=NoHistoryUpToDateRule.create(task,lastExecution);
  taskTypeState=TaskTypeChangedUpToDateRule.create(task,lastExecution,thisExecution);
  inputPropertiesState=InputPropertiesChangedUpToDateRule.create(task,lastExecution,thisExecution);
  outputFilesState=OutputFilesChangedUpToDateRule.create(task,lastExecution,thisExecution,outputFilesSnapshotter);
  inputFilesState=InputFilesChangedUpToDateRule.create(task,lastExecution,thisExecution,inputFilesSnapshotter);
  allTaskState=new CompositeUpToDateState(noHistoryState,taskTypeState,inputPropertiesState,outputFilesState,inputFilesState);
  rebuildState=new CompositeUpToDateState(noHistoryState,taskTypeState,inputPropertiesState,outputFilesState);
}
