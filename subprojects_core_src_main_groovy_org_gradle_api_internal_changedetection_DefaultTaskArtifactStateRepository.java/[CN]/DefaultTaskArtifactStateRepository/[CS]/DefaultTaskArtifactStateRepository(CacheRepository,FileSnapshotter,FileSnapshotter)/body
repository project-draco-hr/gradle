{
  this.repository=new CacheBackedTaskHistoryRepository(repository);
  upToDateRule=new CompositeUpToDateRule(new TaskTypeChangedUpToDateRule(),new InputPropertiesChangedUpToDateRule(),new OutputFilesChangedUpToDateRule(outputFilesSnapshotter),new InputFilesChangedUpToDateRule(inputFilesSnapshotter));
}
