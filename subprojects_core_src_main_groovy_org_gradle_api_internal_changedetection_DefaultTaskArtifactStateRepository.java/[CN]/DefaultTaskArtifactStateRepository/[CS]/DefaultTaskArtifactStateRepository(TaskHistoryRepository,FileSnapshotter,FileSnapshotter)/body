{
  this.taskHistoryRepository=taskHistoryRepository;
  upToDateRule=new CompositeUpToDateRule(new TaskTypeChangedUpToDateRule(),new InputPropertiesChangedUpToDateRule(),new OutputFilesChangedUpToDateRule(outputFilesSnapshotter),new InputFilesChangedUpToDateRule(inputFilesSnapshotter));
  incrementalUpToDateRule=new CompositeUpToDateRule(new TaskTypeChangedUpToDateRule(),new InputPropertiesChangedUpToDateRule(),new OutputFilesChangedUpToDateRule(outputFilesSnapshotter));
  this.inputFilesSnapshotter=inputFilesSnapshotter;
}
