{
  ModuleVersionIdentifier mvi=metaData.getId();
  for (  DependencySpec dependency : allDependencies.getDependencies()) {
    String projectPath=dependency.getProjectPath();
    if (Strings.isNullOrEmpty(projectPath)) {
      projectPath=defaultProject;
    }
    String libraryName=dependency.getLibraryName();
    ComponentSelector selector=new DefaultLibraryComponentSelector(projectPath,libraryName,null);
    DefaultModuleVersionSelector requested=new DefaultModuleVersionSelector(Strings.nullToEmpty(projectPath),Strings.nullToEmpty(libraryName),mvi.getVersion());
    LocalComponentDependencyMetaData localComponentDependencyMetaData=new LocalComponentDependencyMetaData(selector,requested,LibraryComponentIdentifier.CONFIGURATION_NAME,LibraryComponentIdentifier.CONFIGURATION_NAME,Collections.<IvyArtifactName>emptySet(),EXCLUDE_RULES,false,false,true);
    metaData.addDependency(localComponentDependencyMetaData);
  }
}
