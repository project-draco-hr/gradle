{
  Pom pom=new Pom();
  pom.setProject(installOrDeployTask.getProject());
  pom.setFile(publication.getPomFile());
  installOrDeployTask.addPom(pom);
  MavenArtifact mainArtifact=publication.getMainArtifact();
  installOrDeployTask.setFile(mainArtifact == null ? publication.getPomFile() : mainArtifact.getFile());
  for (  MavenArtifact mavenArtifact : publication.getArtifacts()) {
    if (mavenArtifact == mainArtifact) {
      continue;
    }
    AttachedArtifact attachedArtifact=installOrDeployTask.createAttach();
    attachedArtifact.setClassifier(GUtil.elvis(mavenArtifact.getClassifier(),""));
    attachedArtifact.setType(GUtil.elvis(mavenArtifact.getExtension(),""));
    attachedArtifact.setFile(mavenArtifact.getFile());
  }
}
