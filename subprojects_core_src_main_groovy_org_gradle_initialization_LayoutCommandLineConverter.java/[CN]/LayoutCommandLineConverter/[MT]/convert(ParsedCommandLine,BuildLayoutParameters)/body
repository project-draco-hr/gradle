{
  FileResolver resolver=new BaseDirFileResolver(FileSystems.getDefault(),target.getProjectDir());
  if (options.hasOption(NO_SEARCH_UPWARDS)) {
    target.setSearchUpwards(false);
  }
  if (options.hasOption(PROJECT_DIR)) {
    target.setProjectDir(resolver.resolve(options.option(PROJECT_DIR).getValue()));
  }
  if (options.hasOption(GRADLE_USER_HOME)) {
    target.setGradleUserHomeDir(resolver.resolve(options.option(GRADLE_USER_HOME).getValue()));
  }
  return target;
}
