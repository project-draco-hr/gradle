{
  for (  ModelProperty<?> property : properties) {
    addPropertyLink(modelNode,property,nodeInitializerRegistry,proxyFactory,typeConverter);
  }
  if (isANamedType()) {
    ModelProperty<?> nameProperty=schema.getProperty("name");
    if (nameProperty != null && nameProperty.getStateManagementType().equals(ModelProperty.StateManagementType.MANAGED) && properties.contains(nameProperty)) {
      MutableModelNode nameLink=modelNode.getLink("name");
      if (nameLink == null) {
        throw new IllegalStateException("expected name node for " + modelNode.getPath());
      }
      nameLink.setPrivateData(ModelType.of(String.class),modelNode.getPath().getName());
    }
  }
}
