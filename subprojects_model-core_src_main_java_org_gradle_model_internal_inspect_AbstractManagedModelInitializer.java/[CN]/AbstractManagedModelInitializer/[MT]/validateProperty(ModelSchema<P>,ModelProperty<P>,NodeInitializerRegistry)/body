{
  if (propertySchema instanceof ManagedImplSchema) {
    if (!property.isWritable()) {
      if (propertySchema instanceof CollectionSchema && !(propertySchema instanceof ScalarCollectionSchema)) {
        CollectionSchema<P,?> propertyCollectionsSchema=(CollectionSchema<P,?>)propertySchema;
        ModelType<?> elementType=propertyCollectionsSchema.getElementType();
        nodeInitializerRegistry.ensureHasInitializer(NodeInitializerContext.forProperty(elementType,property,schema.getType()));
      }
      if (property.isDeclaredAsHavingUnmanagedType()) {
        throw new UnmanagedPropertyMissingSetterException(property);
      }
    }
  }
 else   if (!shouldHaveANodeInitializer(property,propertySchema) && !property.isWritable() && !isNamePropertyOfANamedType(property)) {
    throw new ReadonlyImmutableManagedPropertyException(schema.getType(),property.getName(),property.getType());
  }
}
