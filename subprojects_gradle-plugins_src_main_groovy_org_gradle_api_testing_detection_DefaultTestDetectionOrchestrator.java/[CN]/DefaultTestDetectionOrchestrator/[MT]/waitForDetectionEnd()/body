{
  detectionRunStateLock.lock();
  try {
    if (detectionThread != null) {
      ThreadUtils.join(detectionThread);
      detectionThread=null;
    }
  }
  finally {
    detectionRunStateLock.unlock();
  }
}
