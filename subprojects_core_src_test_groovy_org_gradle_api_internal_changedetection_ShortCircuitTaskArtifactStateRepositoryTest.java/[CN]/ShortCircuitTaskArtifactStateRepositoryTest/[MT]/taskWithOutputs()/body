{
  final TaskInternal task=context.mock(TaskInternal.class);
  context.checking(new Expectations(){
{
      allowing(task).getOutputs();
      will(returnValue(taskOutputsInternal));
      allowing(taskOutputsInternal).getHasOutput();
      will(returnValue(true));
      allowing(taskOutputsInternal).getUpToDateSpec();
      will(returnValue(upToDateSpec));
    }
  }
);
  return task;
}
