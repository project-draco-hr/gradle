{
  TaskInternal task=taskWithNoOutputs();
  TaskArtifactState state=repository.getStateFor(task);
  assertNotNull(state);
  assertFalse(state.isUpToDate());
  state.beforeTask();
  state.afterTask();
  state.finished();
}
