{
  setMocks();
  context.checking(new Expectations(){
{
      allowing(testMock).getTestSrcDirs();
      will(returnValue(testSrcDirs));
      allowing(testMock).getTestReportDir();
      will(returnValue(testReportDir));
      one(testngOptionsMock).setTestResources(testSrcDirs);
      one(testngOptionsMock).getSuites(testReportDir);
    }
  }
);
  TestClassProcessor processor=testNGTestFrameworkInstance.getProcessorFactory().create(idGeneratorMock);
  assertThat(processor,instanceOf(TestNGTestClassProcessor.class));
}
