{
  GradleConnector connector=GradleConnector.newConnector();
  try {
    connector.forProjectDirectory(new File("."));
    if (args.length > 0) {
      connector.useInstallation(new File(args[0]));
    }
    BuildConnection connection=connector.connect();
    EclipseBuild build=connection.getModel(EclipseBuild.class);
    System.out.println("Project classpath:");
    for (    ExternalDependency externalDependency : build.getRootProject().getClasspath()) {
      System.out.println(externalDependency.getFile().getName());
    }
  }
  finally {
    connector.close();
  }
}
