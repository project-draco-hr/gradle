{
  TestFile testDir=dist.getTestDir();
  testDir.file("build.gradle").writelns("task defaultTask {","    custom = 'value'","}","task javaTask(type: Copy) {","    custom = 'value'","}","task groovyTask(type: Jar) {","    custom = 'value'","}","configurations {","    test { custom = 'value' }","}","dependencies {","    test('::name:') { custom = 'value' } ","    test(module('::other')) { custom = 'value' } ","    test(project(':')) { custom = 'value' } ","    test(files('src')) { custom = 'value' } ","}","defaultTask.custom = 'another value'","javaTask.custom = 'another value'","groovyTask.custom = 'another value'","assert !project.hasProperty('custom')","assert defaultTask.custom == 'another value'","assert configurations.test.custom == 'value'","configurations.test.dependencies.each { assert it.custom == 'value' }");
  executer.inDirectory(testDir).withTasks("defaultTask").run();
}
