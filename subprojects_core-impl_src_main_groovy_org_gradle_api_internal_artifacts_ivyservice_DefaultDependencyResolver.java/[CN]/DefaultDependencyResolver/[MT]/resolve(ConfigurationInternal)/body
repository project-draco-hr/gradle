{
  Ivy ivy=ivyFactory.create(configuration.getResolutionStrategy());
  IvyConfig ivyConfig=new IvyConfig(ivy.getSettings(),configuration.getResolutionStrategy());
  ModuleDescriptor moduleDescriptor=moduleDescriptorConverter.convert(configuration.getAll(),configuration.getModule(),ivyConfig);
  DependencyResolver resolver=ivy.getSettings().getDefaultResolver();
  ResolveOptions options=new ResolveOptions();
  options.setDownload(false);
  options.setConfs(WrapUtil.toArray(configuration.getName()));
  ResolveData resolveData=new ResolveData(ivy.getResolveEngine(),options);
  DependencyToModuleResolver dependencyResolver=new IvyResolverBackedDependencyToModuleResolver(ivy,resolveData,resolver);
  IvyResolverBackedArtifactToFileResolver artifactResolver=new IvyResolverBackedArtifactToFileResolver(resolver);
  ResolveState resolveState=new ResolveState();
  ConfigurationResolveState root=resolveState.getConfiguration(moduleDescriptor,configuration.getName());
  ResolvedConfigurationImpl result=new ResolvedConfigurationImpl(configuration,root.getResult());
  resolve(dependencyResolver,result,root,resolveState,resolveData,artifactResolver,configuration);
  return result;
}
