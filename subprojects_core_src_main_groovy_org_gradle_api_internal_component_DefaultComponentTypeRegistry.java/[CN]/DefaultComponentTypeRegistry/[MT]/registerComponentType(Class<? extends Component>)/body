{
  if (componentRegistrations.containsKey(componentType)) {
    throw new IllegalStateException(String.format("Component type %s is already registered.",componentType.getName()));
  }
  ComponentTypeRegistration registration=new DefaultComponentTypeRegistration(componentType);
  componentRegistrations.put(componentType,registration);
  return registration;
}
