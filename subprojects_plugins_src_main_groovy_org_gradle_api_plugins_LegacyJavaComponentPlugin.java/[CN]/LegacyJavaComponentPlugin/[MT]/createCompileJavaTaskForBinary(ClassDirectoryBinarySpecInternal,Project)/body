{
  final BinaryNamingScheme namingScheme=binary.getNamingScheme();
  binary.getInputs().withType(JavaSourceSet.class).all(new Action<JavaSourceSet>(){
    public void execute(    JavaSourceSet javaSourceSet){
      JavaCompile compileTask=target.getTasks().create(namingScheme.getTaskName("compile","java"),JavaCompile.class);
      configureCompileTask(compileTask,javaSourceSet,binary);
      binary.getTasks().add(compileTask);
      binary.builtBy(compileTask);
    }
  }
);
}
