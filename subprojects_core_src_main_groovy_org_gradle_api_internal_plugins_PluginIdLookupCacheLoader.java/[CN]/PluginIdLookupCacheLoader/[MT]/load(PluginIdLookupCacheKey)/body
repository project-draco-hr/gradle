{
  Class<?> pluginClass=key.getPluginClass();
  try {
    Class<?> typeForId=pluginRegistry.getTypeForId(key.getId());
    if (typeForId.equals(pluginClass)) {
      return true;
    }
  }
 catch (  UnknownPluginException ignore) {
  }
  PluginDescriptorLocator locator=new ClassloaderBackedPluginDescriptorLocator(pluginClass.getClassLoader());
  PluginDescriptor pluginDescriptor=locator.findPluginDescriptor(key.getId());
  return pluginDescriptor != null && pluginDescriptor.getImplementationClassName().equals(pluginClass.getName());
}
