{
  matcher=PatternMatcherFactory.getPatternMatcher(true,true,"**");
  assertThat(matcher,matchesDir());
  assertThat(matcher,matchesDir("a"));
  assertThat(matcher,matchesDir("a","b","c"));
  matcher=PatternMatcherFactory.getPatternMatcher(true,true,"**/a");
  assertThat(matcher,matchesDir());
  assertThat(matcher,matchesDir("a"));
  assertThat(matcher,matchesDir("b","a"));
  assertThat(matcher,matchesDir("a","b","a"));
  assertThat(matcher,matchesDir("d"));
  matcher=PatternMatcherFactory.getPatternMatcher(true,true,"**/a/b/**");
  assertThat(matcher,matchesDir());
  assertThat(matcher,matchesDir("a","b"));
  assertThat(matcher,matchesDir("c","a","b"));
  assertThat(matcher,matchesDir("a","b","c"));
  assertThat(matcher,matchesDir("c","a","b","d"));
  assertThat(matcher,matchesDir("a","b","a","b"));
  assertThat(matcher,matchesDir("a"));
  assertThat(matcher,matchesDir("c"));
  assertThat(matcher,matchesDir("c","a"));
  assertThat(matcher,matchesDir("c","a","a","b"));
  matcher=PatternMatcherFactory.getPatternMatcher(true,true,"a/b/**");
  assertThat(matcher,matchesDir());
  assertThat(matcher,matchesDir("a","b"));
  assertThat(matcher,matchesDir("a","b","c"));
  assertThat(matcher,matchesDir("a"));
  assertThat(matcher,not(matchesDir("b")));
  assertThat(matcher,not(matchesDir("d")));
  assertThat(matcher,not(matchesDir("c","a","b")));
  matcher=PatternMatcherFactory.getPatternMatcher(true,true,"a/b/**/c");
  assertThat(matcher,matchesDir());
  assertThat(matcher,matchesDir("a","b","c"));
  assertThat(matcher,matchesDir("a","b","d","c"));
  assertThat(matcher,matchesDir("a"));
  assertThat(matcher,matchesDir("a","b"));
  assertThat(matcher,matchesDir("a","b","d"));
  assertThat(matcher,matchesDir("a","b","c","d"));
  assertThat(matcher,not(matchesDir("a","c","b","c")));
  assertThat(matcher,not(matchesDir("d","a","b")));
}
