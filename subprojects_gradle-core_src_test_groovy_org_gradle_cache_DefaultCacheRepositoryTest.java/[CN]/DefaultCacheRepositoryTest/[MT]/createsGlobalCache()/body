{
  final PersistentCache cache=context.mock(PersistentCache.class);
  context.checking(new Expectations(){
{
      one(cacheFactory).open(sharedCacheDir.file(version + "/a/b/c"),CacheUsage.ON,properties);
      will(returnValue(cache));
    }
  }
);
  assertThat(repository.getGlobalCache("a/b/c",properties),sameInstance(cache));
}
