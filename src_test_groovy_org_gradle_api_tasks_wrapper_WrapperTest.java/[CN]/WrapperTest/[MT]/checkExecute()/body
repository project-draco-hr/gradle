{
  context.checking(new Expectations(){
{
      one(wrapperScriptGeneratorMock).generate(targetWrapperJarPath + "/" + Install.WRAPPER_JAR,new File(getProject().getProjectDir(),wrapper.getScriptDestinationPath()));
    }
  }
);
  wrapper.execute();
  File unjarDir=HelperUtil.makeNewTestDir("unjar");
  CompressUtil.unzip(expectedTargetWrapperJar,unjarDir);
  assertEquals(TEST_TEXT,FileUtils.readFileToString(new File(unjarDir,TEST_FILE_NAME)));
  Properties properties=GUtil.createProperties(new File(unjarDir.getAbsolutePath() + "/org/gradle/wrapper/wrapper.properties"));
}
