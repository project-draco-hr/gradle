{
  context.checking(new Expectations(){
{
      one(wrapperScriptGeneratorMock).generate(wrapper.getGradleVersion(),wrapper.getUrlRoot(),targetWrapperJarPath + "/" + Install.WRAPPER_JAR,expectedDistributionBase,distributionPath,new File(getProject().getProjectDir(),wrapper.getScriptDestinationPath()),expectedZipBase,zipPath);
    }
  }
);
  wrapper.execute();
  assertEquals(FileUtils.readFileToString(sourceWrapperJar),FileUtils.readFileToString(new File(getProject().getProjectDir(),expectedTargetWrapperJar)));
}
