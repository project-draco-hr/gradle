{
  if (!instruction.isRebuild()) {
    return new DefaultTaskDependency();
  }
  return new TaskDependency(){
    public Set<? extends Task> getDependencies(    Task task){
      DefaultTaskDependency taskDependency=new DefaultTaskDependency();
      Configuration configuration=getProjectConfiguration();
      taskDependency.add(configuration);
      taskDependency.add(configuration.getBuildArtifacts());
      for (      String taskName : instruction.getTaskNames()) {
        taskDependency.add(dependencyProject.getTasks().getByName(taskName));
      }
      return taskDependency.getDependencies(task);
    }
  }
;
}
