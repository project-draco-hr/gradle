{
  ProjectDependencyInternal projectDependency=(ProjectDependencyInternal)dependency;
  projectDependency.beforeResolved();
  ((ConfigurationInternal)projectDependency.getProjectConfiguration()).triggerWhenEmptyActionsIfNecessary();
  ModuleRevisionId moduleRevisionId=createModuleRevisionId(dependency);
  DefaultDependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(parent,moduleRevisionId,false,false,dependency.isTransitive());
  addExcludesArtifactsAndDependencies(configuration,dependency,dependencyDescriptor);
  DefaultProjectDependencyMetaData projectDependencyMetaData=new DefaultProjectDependencyMetaData(dependencyDescriptor,projectDependency.getDependencyProject().getPath());
  return new DslOriginDependencyMetaDataWrapper(projectDependencyMetaData,projectDependency);
}
