{
  ProjectDependencyInternal projectDependency=(ProjectDependencyInternal)dependency;
  projectDependency.beforeResolved();
  ((ConfigurationInternal)projectDependency.getProjectConfiguration()).triggerWhenEmptyActionsIfNecessary();
  Module module=getProjectModule(dependency);
  DefaultDependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(parent,IvyUtil.createModuleRevisionId(module),false,false,dependency.isTransitive());
  configureDependencyDescriptor(configuration,dependency,dependencyDescriptor);
  ModuleVersionSelector requested=new DefaultModuleVersionSelector(module.getGroup(),module.getName(),module.getVersion());
  ComponentSelector selector=DefaultProjectComponentSelector.newSelector(projectDependency.getDependencyProject().getPath());
  LocalComponentDependencyMetaData dependencyMetaData=new LocalComponentDependencyMetaData(selector,requested,configuration,dependency.getConfiguration(),convertExcludeRules(configuration,dependency.getExcludeRules()),false,false,dependency.isTransitive(),dependencyDescriptor);
  return new DslOriginDependencyMetaDataWrapper(dependencyMetaData,dependency);
}
