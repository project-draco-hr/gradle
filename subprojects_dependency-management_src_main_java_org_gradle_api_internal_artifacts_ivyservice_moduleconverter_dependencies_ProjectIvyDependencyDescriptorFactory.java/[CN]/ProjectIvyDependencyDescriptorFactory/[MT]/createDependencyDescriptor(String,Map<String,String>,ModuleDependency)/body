{
  ProjectDependencyInternal projectDependency=(ProjectDependencyInternal)dependency;
  projectDependency.beforeResolved();
  ConfigurationInternal selectedConfiguration=(ConfigurationInternal)projectDependency.findProjectConfiguration(clientAttributes);
  selectedConfiguration.triggerWhenEmptyActionsIfNecessary();
  Module module=getProjectModule(dependency);
  ModuleVersionSelector requested=new DefaultModuleVersionSelector(module.getGroup(),module.getName(),module.getVersion());
  ComponentSelector selector=DefaultProjectComponentSelector.newSelector(projectDependency.getDependencyProject());
  LocalComponentDependencyMetadata dependencyMetaData=new LocalComponentDependencyMetadata(selector,requested,clientConfiguration,clientAttributes,selectedConfiguration.getName(),convertArtifacts(dependency.getArtifacts()),convertExcludeRules(clientConfiguration,dependency.getExcludeRules()),false,false,dependency.isTransitive());
  return new DslOriginDependencyMetadataWrapper(dependencyMetaData,dependency);
}
