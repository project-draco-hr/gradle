{
  checkNotEmpty();
  CacheOperation operation=operations.remove(0);
  if (operation.description.equals(description) && operation.longRunningOperation == longRunningOperation) {
    return operation;
  }
  throw new IllegalStateException("Cannot pop operation '" + description + "'. It is not at the top of the stack");
}
