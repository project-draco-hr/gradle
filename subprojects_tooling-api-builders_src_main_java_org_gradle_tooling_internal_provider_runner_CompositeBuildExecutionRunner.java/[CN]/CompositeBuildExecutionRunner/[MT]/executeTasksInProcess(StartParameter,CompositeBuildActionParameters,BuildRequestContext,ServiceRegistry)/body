{
  GradleLauncherFactory gradleLauncherFactory=sharedServices.get(GradleLauncherFactory.class);
  CompositeParameters compositeParameters=actionParameters.getCompositeParameters();
  DefaultServiceRegistry compositeServices=new BuildSessionScopeServices(sharedServices,startParameter,ClassPath.EMPTY);
  compositeServices.addProvider(new CompositeScopeServices(buildRequestContext,true));
  compositeServices.get(CompositeContextBuilder.class).addToCompositeContext(compositeParameters.getBuilds());
  BuildActionRunner runner=new ExecuteBuildActionRunner();
  BuildActionExecuter<BuildActionParameters> buildActionExecuter=new InProcessBuildActionExecuter(gradleLauncherFactory,runner);
  ServiceRegistry buildScopedServices=new BuildSessionScopeServices(compositeServices,startParameter,ClassPath.EMPTY);
  buildActionExecuter.execute(new ExecuteBuildAction(startParameter),buildRequestContext,null,buildScopedServices);
}
