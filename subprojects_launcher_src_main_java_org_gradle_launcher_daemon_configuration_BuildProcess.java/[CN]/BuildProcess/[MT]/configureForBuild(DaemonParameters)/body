{
  boolean javaHomeMatch=getJvm().equals(requiredBuildParameters.getEffectiveJvm());
  final JvmOptions jvmOptions=new JvmOptions(new IdentityFileResolver());
  jvmOptions.systemProperties(getJvmOptions().getImmutableSystemProperties());
  List<String> currentImmutable=jvmOptions.getAllImmutableJvmArgs();
  List<String> requiredImmutable=requiredBuildParameters.getEffectiveJvmArgs();
  getJvmOptions().getImmutableSystemProperties();
  requiredImmutable.removeAll(DaemonParameters.DEFAULT_JVM_ARGS);
  boolean noImmutableJvmArgsRequired=requiredImmutable.equals(currentImmutable);
  if (javaHomeMatch && noImmutableJvmArgsRequired) {
    Properties properties=new Properties();
    properties.putAll(requiredBuildParameters.getEffectiveSystemProperties());
    System.setProperties(properties);
    return true;
  }
  return false;
}
