{
  boolean javaHomeMatch=getJvm().equals(requiredBuildParameters.getEffectiveJvm());
  List<String> currentImmutable=new JvmOptions(new IdentityFileResolver()).getAllImmutableJvmArgs();
  List<String> requiredImmutable=requiredBuildParameters.getEffectiveJvmArgs();
  requiredImmutable.removeAll(DaemonParameters.DEFAULT_JVM_ARGS);
  boolean noImmutableJvmArgsRequired=requiredImmutable.equals(currentImmutable);
  if (javaHomeMatch && noImmutableJvmArgsRequired) {
    Properties properties=new Properties();
    properties.putAll(requiredBuildParameters.getEffectiveSystemProperties());
    System.setProperties(properties);
    return true;
  }
  return false;
}
