{
  final ProjectDependencyFactory projectDependencyFactoryStub=context.mock(ProjectDependencyFactory.class);
  final ProjectDependency projectDependency=context.mock(ProjectDependency.class);
  final ProjectFinder projectFinderDummy=context.mock(ProjectFinder.class);
  DefaultDependencyFactory dependencyFactory=new DefaultDependencyFactory(null,null,projectDependencyFactoryStub);
  final Map<String,String> map=WrapUtil.toMap("key","value");
  context.checking(new Expectations(){
{
      allowing(projectDependencyFactoryStub).createProjectDependencyFromMap(projectFinderDummy,map);
      will(returnValue(projectDependency));
    }
  }
);
  assertThat(dependencyFactory.createProjectDependencyFromMap(projectFinderDummy,map),sameInstance(projectDependency));
}
