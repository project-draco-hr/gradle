{
  execution.proceed();
  Result result;
  Throwable commandException=execution.getException();
  if (commandException != null) {
    result=new CommandFailure(commandException);
  }
 else {
    result=new Success(execution.getResult());
  }
  execution.getConnection().dispatch(result);
}
