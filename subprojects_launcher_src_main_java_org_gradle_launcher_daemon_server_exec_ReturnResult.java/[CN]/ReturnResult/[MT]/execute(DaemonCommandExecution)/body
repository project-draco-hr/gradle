{
  Object result;
  try {
    execution.proceed();
    Throwable commandException=execution.getException();
    if (commandException != null) {
      result=new CommandFailure(UncheckedException.asUncheckedException(commandException));
    }
 else {
      result=new Success(execution.getResult());
    }
  }
 catch (  Throwable daemonException) {
    LOGGER.error(String.format("Daemon failure during execution of %s - ",execution.getCommand()),daemonException);
    result=new DaemonFailure(UncheckedException.asUncheckedException(daemonException));
  }
  execution.getConnection().dispatch(result);
}
