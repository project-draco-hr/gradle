{
  stop=new CountDownLatch(1);
  if (disableUrlCaching) {
    disableUrlCaching();
  }
  client=context.getServerConnection().addOutgoing(CompilerDaemonClientProtocol.class);
  context.getServerConnection().addIncoming(CompilerDaemonServerProtocol.class,this);
  context.getServerConnection().connect();
  try {
    stop.await();
  }
 catch (  InterruptedException e) {
    throw UncheckedException.throwAsUncheckedException(e);
  }
}
