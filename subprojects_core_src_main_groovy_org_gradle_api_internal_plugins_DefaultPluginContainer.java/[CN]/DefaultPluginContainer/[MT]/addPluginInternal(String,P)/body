{
  PotentialPlugin potentialPlugin=pluginRegistry.inspect(plugin.getClass());
  if (potentialPlugin.hasRules()) {
    applicator.applyImperativeRulesHybrid(pluginId,plugin);
  }
 else {
    applicator.applyImperative(pluginId,plugin);
  }
  add(plugin);
  return plugin;
}
