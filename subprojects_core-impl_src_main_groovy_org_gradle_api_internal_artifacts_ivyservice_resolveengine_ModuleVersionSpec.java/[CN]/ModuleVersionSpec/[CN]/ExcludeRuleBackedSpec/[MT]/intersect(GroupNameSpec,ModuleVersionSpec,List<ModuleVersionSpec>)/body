{
  if (spec2 instanceof GroupNameSpec) {
    GroupNameSpec groupNameSpec=(GroupNameSpec)spec2;
    if (spec1.group.equals(groupNameSpec.group)) {
      merged.add(spec1);
    }
  }
 else   if (spec2 instanceof ModuleNameSpec) {
    ModuleNameSpec moduleNameSpec=(ModuleNameSpec)spec2;
    merged.add(new ModuleIdSpec(createModuleId(spec1.group,moduleNameSpec.module)));
  }
 else   if (spec2 instanceof ModuleIdSpec) {
    ModuleIdSpec moduleIdSpec=(ModuleIdSpec)spec2;
    if (moduleIdSpec.moduleId.getOrganisation().equals(spec1.group)) {
      merged.add(spec2);
    }
  }
 else {
    throw new UnsupportedOperationException();
  }
}
