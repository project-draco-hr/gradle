{
  PluginResolution resolution;
  try {
    resolution=pluginResolver.resolve(request);
  }
 catch (  Exception e) {
    throw new LocationAwareException(new GradleException(String.format("Error resolving plugin '%s:%s'.",request.getId(),request.getVersion()),e),request.getScriptSource(),request.getLineNumber());
  }
  if (resolution == null) {
    throw new LocationAwareException(new UnknownPluginException(String.format("Plugin '%s:%s' not found in %s",request.getId(),request.getVersion(),pluginResolver.getDescriptionForNotFoundMessage())),request.getScriptSource(),request.getLineNumber());
  }
  pluginResolutionHandler.execute(resolution);
}
