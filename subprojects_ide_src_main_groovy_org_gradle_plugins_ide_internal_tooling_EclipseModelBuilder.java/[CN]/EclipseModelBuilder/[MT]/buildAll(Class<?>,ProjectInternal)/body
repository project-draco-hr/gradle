{
  boolean includeTasks=BuildableProjectVersion1.class.isAssignableFrom(type);
  tasksFactory=new TasksFactory(includeTasks);
  projectDependenciesOnly=!EclipseProjectVersion3.class.isAssignableFrom(type);
  currentProject=project;
  ProjectInternal root=project.getRootProject();
  rootGradleProject=gradleProjectBuilder.buildAll(project);
  tasksFactory.collectTasks(root);
  applyEclipsePlugin(root);
  buildHierarchy(root);
  populate(root);
  return result;
}
