{
  if (locator.getGradleHome() != null) {
    File pageLocation=new File(locator.getGradleHome(),String.format("docs/userguide/%s.html",id));
    File userGuideLocation=new File(locator.getGradleHome(),"docs/userguide/userguide.html");
    if (pageLocation.isFile() && userGuideLocation.isFile()) {
      return pageLocation.getAbsolutePath();
    }
    if (!pageLocation.isFile() && userGuideLocation.isFile()) {
      throw new IllegalArgumentException(String.format("User guide page '%s' not found.",pageLocation));
    }
    if (pageLocation.isFile() && !userGuideLocation.isFile()) {
      throw new IllegalArgumentException(String.format("User guide page '%s' not found.",userGuideLocation));
    }
  }
  return String.format("http://gradle.org/docs/current/userguide/%s.html",id);
}
