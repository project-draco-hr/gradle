{
  assertCanExecute();
  if (isQuiet()) {
    parameter.setLogLevel(LogLevel.QUIET);
  }
  DefaultGradleLauncherFactory factory=(DefaultGradleLauncherFactory)GradleLauncher.getFactory();
  factory.addListener(listener);
  GradleLauncher gradleLauncher=GradleLauncher.newInstance(parameter);
  gradleLauncher.addStandardOutputListener(outputListener);
  gradleLauncher.addStandardErrorListener(errorListener);
  try {
    return gradleLauncher.run();
  }
  finally {
    System.clearProperty("test.single");
    factory.removeListener(listener);
  }
}
