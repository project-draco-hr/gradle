{
  int byGroup=left.getRequested().getGroup().compareTo(right.getRequested().getGroup());
  if (byGroup != 0) {
    return byGroup;
  }
  int byModule=left.getRequested().getName().compareTo(right.getRequested().getName());
  if (byModule != 0) {
    return byModule;
  }
  if (left.getSelected().getId().equals(newId(left.getRequested()))) {
    return -1;
  }
 else   if (right.getSelected().getId().equals(newId(right.getRequested()))) {
    return 1;
  }
  return left.getRequested().getVersion().compareTo(right.getRequested().getVersion());
}
