{
  final boolean isSourceFiles=context.isAnnotationPresent(SkipWhenEmpty.class);
  context.setConfigureAction(new UpdateAction(){
    public void update(    TaskInternal task,    Callable<Object> futureValue){
      if (isSourceFiles) {
        task.getInputs().source(futureValue);
      }
 else {
        task.getInputs().files(futureValue);
      }
    }
  }
);
  return true;
}
