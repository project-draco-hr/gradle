{
  OutputFilesSnapshotter.OutputFilesSnapshot value=(OutputFilesSnapshotter.OutputFilesSnapshot)currentValue;
  int rootFileIds=value.rootFileIds.size();
  encoder.writeInt(rootFileIds);
  for (  String key : value.rootFileIds.keySet()) {
    Long id=value.rootFileIds.get(key);
    encoder.writeString(key);
    if (id == null) {
      encoder.writeBoolean(false);
    }
 else {
      encoder.writeBoolean(true);
      encoder.writeLong(id);
    }
  }
  FileSnapshotSerializer serializer=new FileSnapshotSerializer();
  serializer.write(encoder,value.filesSnapshot);
}
