{
  Map<String,Boolean> roots=new HashMap<String,Boolean>();
  int rootFileIdsCount=decoder.readSmallInt();
  for (int i=0; i < rootFileIdsCount; i++) {
    String key=stringInterner.intern(decoder.readString());
    roots.put(key,decoder.readBoolean());
  }
  FileCollectionSnapshot snapshot=serializer.read(decoder);
  return new OutputFilesCollectionSnapshotter.OutputFilesSnapshot(roots,snapshot);
}
