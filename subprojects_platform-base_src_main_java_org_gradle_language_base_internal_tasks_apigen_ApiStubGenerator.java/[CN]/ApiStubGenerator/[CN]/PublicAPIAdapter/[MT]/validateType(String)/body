{
  if (allowedPackages.isEmpty()) {
    return;
  }
  String className=name.replace('/','.');
  String pkg=className.indexOf(".") > 0 ? className.substring(0,className.lastIndexOf(".")) : "";
  if (pkg.startsWith("java")) {
    return;
  }
  boolean allowed=false;
  for (  String allowedPackage : allowedPackages) {
    if (pkg.equals(allowedPackage)) {
      allowed=true;
      break;
    }
  }
  if (!allowed) {
    throw new InvalidPublicAPIException("Type " + className + " is exposed in the public API but doesn't belong to the allowed packages");
  }
}
