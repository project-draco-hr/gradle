{
  if (bypassCache()) {
    return false;
  }
  ModuleRevisionId resolvedModuleVersionId=resolvedDependencyDescriptor.getDependencyRevisionId();
  ModuleDescriptorCache.CachedModuleDescriptor cachedModuleDescriptor=moduleDescriptorCache.getCachedModuleDescriptor(repository,resolvedModuleVersionId);
  if (cachedModuleDescriptor == null) {
    return false;
  }
  if (cachedModuleDescriptor.isMissing()) {
    if (cachePolicy.mustRefreshMissingArtifact(cachedModuleDescriptor.getAgeMillis())) {
      LOGGER.debug("Cached meta-data for missing module is expired: will perform fresh resolve of '{}'",resolvedModuleVersionId);
      return false;
    }
    LOGGER.debug("Detected non-existence of module '{}' in resolver cache",resolvedModuleVersionId);
    return true;
  }
  if (cachedModuleDescriptor.isChangingModule() || resolvedDependencyDescriptor.isChanging()) {
    if (cachePolicy.mustRefreshChangingModule(cachedModuleDescriptor.getModuleVersion(),cachedModuleDescriptor.getAgeMillis())) {
      LOGGER.debug("Cached meta-data for changing module is expired: will perform fresh resolve of '{}'",resolvedModuleVersionId);
      return false;
    }
    LOGGER.debug("Found cached version of changing module: '{}'",resolvedModuleVersionId);
  }
  LOGGER.debug("Using cached module metadata for '{}'",resolvedModuleVersionId);
  resolvedModule=new ResolvedModuleRevision((DependencyResolver)repository,(DependencyResolver)repository,cachedModuleDescriptor.getModuleDescriptor(),null);
  return true;
}
