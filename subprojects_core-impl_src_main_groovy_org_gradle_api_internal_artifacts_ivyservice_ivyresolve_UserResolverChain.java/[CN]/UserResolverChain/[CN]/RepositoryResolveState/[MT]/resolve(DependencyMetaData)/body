{
  if (!searchedLocally) {
    searchedLocally=true;
    repository.getLocalDependency(dependency,descriptor);
  }
 else {
    searchedRemotely=true;
    repository.getDependency(dependency,descriptor);
  }
  if (descriptor.getState() == BuildableModuleVersionMetaData.State.Failed) {
    throw descriptor.getFailure();
  }
}
