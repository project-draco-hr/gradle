{
  if (!(resolver instanceof ModuleVersionRepository)) {
    throw new IllegalArgumentException("Can only add ModuleVersionRepository instances.");
  }
  resolvers.add(resolver);
  ModuleVersionRepository cachingRepository=new CachingModuleVersionRepository((ModuleVersionRepository)resolver,moduleResolutionCache,moduleDescriptorCache,artifactResolutionCache,artifactFileStore,cachePolicy);
  moduleVersionRepositories.add(cachingRepository);
}
