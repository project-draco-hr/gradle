{
  LOGGER.debug("Attempting to resolve module '{}' using repositories {}",dependencyDescriptor.getDependencyRevisionId(),moduleVersionRepositoryNames);
  List<Throwable> errors=new ArrayList<Throwable>();
  final ModuleResolution latestResolved=findLatestModule(dependencyDescriptor,errors);
  if (latestResolved != null) {
    final ModuleVersionDescriptor downloadedModule=latestResolved.module;
    LOGGER.debug("Using module '{}' from repository '{}'",downloadedModule.getId(),latestResolved.repository.getName());
    return latestResolved;
  }
  if (!errors.isEmpty()) {
    return new BrokenModuleVersionResolveResult(new ModuleVersionResolveException(dependencyDescriptor.getDependencyRevisionId(),errors));
  }
  return new BrokenModuleVersionResolveResult(new ModuleVersionNotFoundException(dependencyDescriptor.getDependencyRevisionId()));
}
