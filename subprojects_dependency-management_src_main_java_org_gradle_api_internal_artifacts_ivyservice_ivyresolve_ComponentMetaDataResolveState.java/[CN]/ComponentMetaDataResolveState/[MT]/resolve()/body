{
  if (!searchedLocally) {
    searchedLocally=true;
    process(dependency,componentIdentifier,repository.getLocalAccess(),resolveResult);
    if (resolveResult.hasResult()) {
      if (resolveResult.isAuthoritative()) {
        searchedRemotely=true;
      }
      return resolveResult;
    }
  }
  if (!searchedRemotely) {
    searchedRemotely=true;
    process(dependency,componentIdentifier,repository.getRemoteAccess(),resolveResult);
    return resolveResult;
  }
  throw new IllegalStateException();
}
