{
  moduleAccess.resolveComponentMetaData(dependency,componentIdentifier,resolveResult);
  if (resolveResult.getState() == BuildableModuleComponentMetaDataResolveResult.State.Failed) {
    throw resolveResult.getFailure();
  }
  if (resolveResult.getState() == BuildableModuleComponentMetaDataResolveResult.State.Resolved) {
    if (componentChooser.isRejectedByRules(componentIdentifier,Factories.constant(resolveResult.getMetaData()))) {
      resolveResult.missing();
    }
  }
}
