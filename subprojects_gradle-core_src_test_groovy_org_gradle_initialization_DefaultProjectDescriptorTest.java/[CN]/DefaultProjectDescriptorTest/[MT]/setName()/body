{
  final String newName="newName";
  final IProjectDescriptorRegistry projectDescriptorRegistryMock=context.mock(IProjectDescriptorRegistry.class);
  projectDescriptor.setProjectDescriptorRegistry(projectDescriptorRegistryMock);
  context.checking(new Expectations(){
{
      one(projectDescriptorRegistryMock).changeDescriptorPath(projectDescriptor.getPath(),Project.PATH_SEPARATOR + newName);
    }
  }
);
  projectDescriptor.setName(newName);
  assertEquals(newName,projectDescriptor.getName());
}
