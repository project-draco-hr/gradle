{
  context.checking(new Expectations(){
{
      one(cacheFactory).open(buildRootDir.file(".gradle","noVersion","a/b/c"),CacheUsage.ON,Collections.singletonMap("gradle.version",version));
      will(returnValue(cacheReference));
    }
  }
);
  assertThat(repository.cache("a/b/c").withVersionStrategy(CacheBuilder.VersionStrategy.SharedCacheInvalidateOnVersionChange).forObject(gradle).open(),sameInstance(cache));
}
