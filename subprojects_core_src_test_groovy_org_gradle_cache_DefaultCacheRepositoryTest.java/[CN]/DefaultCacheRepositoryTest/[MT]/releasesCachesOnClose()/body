{
  context.checking(new Expectations(){
{
      one(cacheFactory).open(sharedCacheDir.file(version,"a"),CacheUsage.ON,Collections.EMPTY_MAP);
      will(returnValue(cacheReference));
    }
  }
);
  repository.cache("a").open();
  context.checking(new Expectations(){
{
      one(cacheReference).release();
    }
  }
);
  repository.close();
}
