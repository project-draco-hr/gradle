{
  CompositeBuildContext context=constructCompositeContext(buildStartParameter,buildRequestContext,compositeParameters,sharedServices,propagateFailures);
  DefaultServiceRegistry compositeServices=(DefaultServiceRegistry)ServiceRegistryBuilder.builder().displayName("Composite services").parent(sharedServices).build();
  compositeServices.add(CompositeBuildContext.class,context);
  compositeServices.addProvider(new CompositeScopeServices(buildStartParameter,compositeServices));
  return compositeServices;
}
