{
  Map<String,TaskSelectionResult> selected=new LinkedHashMap<String,TaskSelectionResult>();
  if (!includeSubProjects) {
    for (    String taskName : project.getTasks().getNames()) {
      selected.put(taskName,new SingleProjectTaskSelectionResult(taskName,project.getTasks()));
    }
  }
 else {
    LinkedHashSet<String> taskNames=new LinkedHashSet<String>();
    collectTaskNames(project,taskNames);
    for (    String taskName : taskNames) {
      selected.put(taskName,new MultiProjectTaskSelectionResult(taskName,project));
    }
  }
  return selected;
}
