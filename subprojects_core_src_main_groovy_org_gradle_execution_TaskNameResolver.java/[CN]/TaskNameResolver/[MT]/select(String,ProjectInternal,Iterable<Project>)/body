{
  SetMultimap<String,TaskSelectionResult> selected=LinkedHashMultimap.create();
  Task task=project.getTasks().findByName(name);
  if (task != null) {
    selected.put(task.getName(),new LazyTaskSelectionResult(task.getName(),project.getTasks()));
  }
 else {
    task=project.getImplicitTasks().findByName(name);
    if (task != null) {
      selected.put(task.getName(),new LazyTaskSelectionResult(task.getName(),project.getImplicitTasks()));
    }
  }
  for (  Project additionalProject : additionalProjects) {
    task=additionalProject.getTasks().findByName(name);
    if (task != null) {
      selected.put(task.getName(),new LazyTaskSelectionResult(task.getName(),additionalProject.getTasks()));
    }
  }
  if (!selected.isEmpty()) {
    return selected;
  }
  for (  String taskName : project.getTasks().getNames()) {
    selected.put(taskName,new LazyTaskSelectionResult(taskName,project.getTasks()));
  }
  for (  String taskName : project.getImplicitTasks().getNames()) {
    if (!selected.containsKey(taskName)) {
      selected.put(taskName,new LazyTaskSelectionResult(taskName,project.getImplicitTasks()));
    }
  }
  for (  Project additionalProject : additionalProjects) {
    for (    String taskName : additionalProject.getTasks().getNames()) {
      selected.put(taskName,new LazyTaskSelectionResult(taskName,additionalProject.getTasks()));
    }
  }
  return selected;
}
