{
  project.getTasks().withType(Groovydoc.class).allTasks(new Action<Groovydoc>(){
    public void execute(    Groovydoc groovydoc){
      groovydoc.getConventionMapping().map("defaultSource",new ConventionValue(){
        public Object getValue(        Convention convention,        IConventionAware conventionAwareObject){
          return mainGroovy(convention).getGroovy();
        }
      }
);
    }
  }
);
  project.getTasks().add(GROOVYDOC_TASK_NAME,Groovydoc.class).setDescription("Generates the groovydoc for the source code.");
}
