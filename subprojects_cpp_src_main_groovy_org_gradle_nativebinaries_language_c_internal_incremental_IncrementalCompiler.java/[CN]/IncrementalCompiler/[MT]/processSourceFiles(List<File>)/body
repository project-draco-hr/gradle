{
  List<File> previousSources=previousSourcesCache.get();
  previousSources=previousSources == null ? Collections.<File>emptyList() : previousSources;
  final IncrementalCompileFiles result=new IncrementalCompileFiles(previousSources,fileStateCache,dependencyParser);
  for (  File sourceFile : sourceFiles) {
    result.processSource(sourceFile);
  }
  for (  File removed : result.getRemoved()) {
    purgeRemoved(removed,result);
  }
  previousSourcesCache.set(sourceFiles);
  return result;
}
