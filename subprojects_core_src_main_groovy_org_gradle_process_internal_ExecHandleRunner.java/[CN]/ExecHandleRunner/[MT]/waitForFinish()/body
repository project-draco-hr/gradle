{
  Runnable waitFor=new Runnable(){
    public void run(){
      int exitCode;
      try {
        LOGGER.debug("waiting until completed {}",execHandle.getDisplayName());
        exitCode=process.waitFor();
        LOGGER.debug("waiting until streams are handled...");
        streamsHandler.stop();
      }
 catch (      Throwable t) {
        execHandle.failed(t);
        return;
      }
      completed(exitCode);
    }
  }
;
  new TimeKeepingExecuter().execute(waitFor,abortOnTimeout(),execHandle.getTimeout(),"Running: " + execHandle.getDisplayName());
}
