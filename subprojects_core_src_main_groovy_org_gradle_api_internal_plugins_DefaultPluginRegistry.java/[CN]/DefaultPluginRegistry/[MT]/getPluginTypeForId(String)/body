{
  @SuppressWarnings("unchecked") Class<? extends Plugin<?>> pluginType=(Class<? extends Plugin<?>>)getTypeForId(pluginId,new Spec<Class<?>>(){
    public boolean isSatisfiedBy(    Class<?> rawClass){
      return Plugin.class.isAssignableFrom(rawClass);
    }
  }
,"Implementation class '%s' specified for plugin '%s' does not implement the Plugin interface.");
  return pluginType;
}
