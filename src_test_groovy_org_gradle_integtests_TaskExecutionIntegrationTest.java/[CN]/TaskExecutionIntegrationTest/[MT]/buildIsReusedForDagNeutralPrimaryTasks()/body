{
  TestFile buildFile=testFile("build.gradle");
  buildFile.writelns("createTask('a') { task -> project.executedA = task }","a.dagNeutral = true","createTask('b') { ","    assertSame(a, project.executedA);","    assertTrue(build.taskGraph.hasTask(':a'))","}","createTask('c', dependsOn: 'a')","c.dagNeutral = true");
  usingBuildFile(buildFile).runTasks("a","b").assertTasksExecuted(":a",":b");
  usingBuildFile(buildFile).runTasks("a","a").assertTasksExecuted(":a");
  usingBuildFile(buildFile).runTasks("c","a").assertTasksExecuted(":a",":c");
}
