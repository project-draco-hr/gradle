{
  TestFile buildFile=testFile("build.gradle");
  buildFile.writelns("createTask('a') { task -> project.executedA = task }","createTask('b') { ","    assertSame(a, project.executedA);","    assertTrue(build.taskGraph.hasTask(':a'))","}","createTask('c', dependsOn: 'a')");
  usingBuildFile(buildFile).inMergedBuild().runTasks("a","b").assertTasksExecuted(":a",":b");
  usingBuildFile(buildFile).inMergedBuild().runTasks("a","a").assertTasksExecuted(":a");
  usingBuildFile(buildFile).inMergedBuild().runTasks("c","a").assertTasksExecuted(":a",":c");
}
