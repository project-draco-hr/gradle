{
  if (lockFileAccess.length() > 0) {
    lockFileAccess.seek(0);
    byte protocolVersion=lockFileAccess.readByte();
    if (protocolVersion != protocol.getVersion()) {
      throw new IllegalStateException(String.format("Unexpected lock protocol found in lock file. Expected %s, found %s.",protocol.getVersion(),protocolVersion));
    }
  }
}
