{
  DeprecationLogger.nagUserOfReplacedMethod("AbstractProject.dir()","mkdir()");
  String[] pathElements=path.split("/");
  String name="";
  Directory dirTask=null;
  for (  String pathElement : pathElements) {
    name+=name.length() != 0 ? "/" + pathElement : pathElement;
    Task task=taskContainer.findByName(name);
    if (task instanceof Directory) {
      dirTask=(Directory)task;
    }
 else     if (task != null) {
      throw new InvalidUserDataException(String.format("Cannot add directory task '%s' as a non-directory task with this name already exists.",name));
    }
 else {
      dirTask=taskContainer.create(name,Directory.class);
    }
  }
  return dirTask;
}
