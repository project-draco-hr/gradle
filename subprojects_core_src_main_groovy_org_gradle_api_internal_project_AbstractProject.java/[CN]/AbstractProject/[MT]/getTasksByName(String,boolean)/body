{
  if (!isTrue(name)) {
    throw new InvalidUserDataException("Name is not specified!");
  }
  final Set<Task> foundTasks=new HashSet<Task>();
  Action<Project> action=new Action<Project>(){
    public void execute(    Project project){
      getProjectAccessListener().beforeRequestingTaskByPath((ProjectInternal)project);
      Task task=project.getTasks().findByName(name);
      if (task != null) {
        foundTasks.add(task);
      }
    }
  }
;
  if (recursive) {
    allprojects(action);
  }
 else {
    action.execute(this);
  }
  return foundTasks;
}
