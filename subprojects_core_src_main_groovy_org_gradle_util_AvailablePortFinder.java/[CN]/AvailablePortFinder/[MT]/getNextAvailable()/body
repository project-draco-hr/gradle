{
  DeprecationLogger.nagUserOfDeprecated(this.getClass().getSimpleName());
  lock.lock();
  try {
    while (true) {
      if (current >= MAX_PRIVATE_PORT) {
        current=MIN_PRIVATE_PORT;
      }
 else {
        current++;
      }
      if (current == startPort) {
        throw new NoSuchElementException("Could not find an available port within port range.");
      }
      int candidate=current;
      if (available(candidate)) {
        return candidate;
      }
    }
  }
  finally {
    lock.unlock();
  }
}
