{
  try {
    BufferedReader bf=new BufferedReader(new PreprocessingReader(new BufferedReader(new FileReader(file))));
    try {
      String line;
      while ((line=bf.readLine()) != null) {
        Matcher m=includePattern.matcher(line);
        if (m.lookingAt()) {
          boolean isImport="import".equals(m.group(1));
          String included=m.group(2);
          boolean isSystem=included.startsWith("<");
          includes.add(strip(included),isImport,isSystem);
        }
      }
    }
  finally {
      IOUtils.closeQuietly(bf);
    }
  }
 catch (  IOException e) {
    throw new UncheckedIOException(e);
  }
}
