{
  final Set<Project> set=new LinkedHashSet<Project>();
  if (subProjectArray != null && subProjectArray.length != 0) {
    set.addAll(Arrays.asList(subProjectArray));
    for (int index=0; index < subProjectArray.length; index++) {
      final Project subProject=subProjectArray[index];
      context.checking(new Expectations(){
{
          allowing(subProject).getParent();
          will(returnValue(parentProject));
        }
      }
);
    }
  }
  context.checking(new Expectations(){
{
      allowing(parentProject).getSubprojects();
      will(returnValue(set));
    }
  }
);
}
