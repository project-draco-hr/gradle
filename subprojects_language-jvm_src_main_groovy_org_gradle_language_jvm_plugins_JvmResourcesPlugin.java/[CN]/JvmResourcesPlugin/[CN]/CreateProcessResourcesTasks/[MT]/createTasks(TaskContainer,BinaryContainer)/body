{
  for (  ProjectJarBinaryInternal binary : binaries.withType(ProjectJarBinaryInternal.class)) {
    for (    ResourceSet resourceSet : binary.getSource().withType(ResourceSet.class)) {
      String resourcesTaskName=binary.getNamingScheme().getTaskName("process",((LanguageSourceSetInternal)resourceSet).getFullName());
      ProcessResources resourcesTask=tasks.create(resourcesTaskName,ProcessResources.class);
      resourcesTask.from(resourceSet.getSource());
      resourcesTask.setDestinationDir(binary.getResourcesDir());
      binary.getTasks().add(resourcesTask);
      binary.getTasks().getJar().dependsOn(resourcesTask);
    }
  }
}
