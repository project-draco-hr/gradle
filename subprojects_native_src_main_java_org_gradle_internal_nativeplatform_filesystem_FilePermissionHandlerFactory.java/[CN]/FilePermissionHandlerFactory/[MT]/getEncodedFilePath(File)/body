{
  byte[] encoded=new byte[0];
  if (!OperatingSystem.current().isMacOsX()) {
    encoded=f.getAbsolutePath().getBytes();
  }
 else {
    try {
      encoded=f.getAbsolutePath().getBytes("utf-8");
    }
 catch (    UnsupportedEncodingException e) {
      UncheckedException.throwAsUncheckedException(e);
    }
  }
  byte[] zeroTerminatedByteArray=new byte[encoded.length + 1];
  System.arraycopy(encoded,0,zeroTerminatedByteArray,0,encoded.length);
  zeroTerminatedByteArray[encoded.length]=0;
  return zeroTerminatedByteArray;
}
