{
  TaskInternal task1=task();
  TaskInternal task2=builder().withPath("other").withOutputFiles(outputDir).createsFiles(outputDir.file("output2")).task();
  execute(task1,task2);
  TaskArtifactState state=repository.getStateFor(task1);
  assertTrue(state.isUpToDate());
  state=repository.getStateFor(task2);
  assertTrue(state.isUpToDate());
}
