{
  FileCollectionSnapshotImpl other=(FileCollectionSnapshotImpl)oldSnapshot;
  diff(snapshots,other.snapshots,new ChangeListener<Map.Entry<String,FileSnapshot>>(){
    public void added(    Map.Entry<String,FileSnapshot> element){
      listener.added(new File(element.getKey()));
    }
    public void removed(    Map.Entry<String,FileSnapshot> element){
      listener.removed(new File(element.getKey()));
    }
    public void changed(    Map.Entry<String,FileSnapshot> element){
      listener.changed(new File(element.getKey()));
    }
  }
);
}
