{
  VersionDetails versionDetails=getVersionDetails();
  if (!versionDetails.isModelSupported(type)) {
    throw Exceptions.unknownModel(type,versionDetails.getVersion());
  }
  if (type.equals(Void.class)) {
    doRunBuild(operationParameters);
    return null;
  }
 else {
    Class<?> protocolType=modelMapping.getProtocolType(type);
    Object model=doGetModel(protocolType,operationParameters);
    return adapter.adapt(type,model,new PropertyHandlerFactory().forVersion(versionDetails));
  }
}
