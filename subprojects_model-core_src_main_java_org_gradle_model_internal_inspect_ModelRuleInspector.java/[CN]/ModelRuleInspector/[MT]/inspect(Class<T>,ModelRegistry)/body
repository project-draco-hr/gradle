{
  validate(source);
  final Method[] methods=source.getDeclaredMethods();
  Arrays.sort(methods,new Comparator<Method>(){
    public int compare(    Method o1,    Method o2){
      return o1.toString().compareTo(o2.toString());
    }
  }
);
  for (  Method method : methods) {
    Annotation annotation=getTypeAnnotation(method);
    if (annotation != null) {
      if (annotation instanceof Model) {
        creationMethod(modelRegistry,method,(Model)annotation);
      }
 else       if (annotation instanceof Mutate) {
        mutationMethod(modelRegistry,method,false);
      }
 else       if (annotation instanceof Finalize) {
        mutationMethod(modelRegistry,method,true);
      }
 else {
        throw new IllegalStateException("Unhandled rule type annotation: " + annotation);
      }
    }
  }
}
