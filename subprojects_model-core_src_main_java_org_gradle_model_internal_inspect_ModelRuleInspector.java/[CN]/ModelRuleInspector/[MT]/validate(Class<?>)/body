{
  int modifiers=source.getModifiers();
  if (Modifier.isInterface(modifiers)) {
    throw invalid(source,"must be a class, not an interface");
  }
  if (Modifier.isAbstract(modifiers)) {
    throw invalid(source,"class cannot be abstract");
  }
  if (source.getEnclosingClass() != null) {
    if (Modifier.isStatic(modifiers)) {
      if (Modifier.isPrivate(modifiers)) {
        throw invalid(source,"class cannot be private");
      }
    }
 else {
      throw invalid(source,"enclosed classes must be static and non private");
    }
  }
  Class<?> superclass=source.getSuperclass();
  if (!superclass.equals(Object.class)) {
    throw invalid(source,"cannot have superclass");
  }
  Constructor<?>[] constructors=source.getDeclaredConstructors();
  if (constructors.length > 1) {
    throw invalid(source,"cannot have more than one constructor");
  }
  Constructor constructor=constructors[0];
  if (constructor.getParameterTypes().length > 0) {
    throw invalid(source,"constructor cannot take any arguments");
  }
  Field[] fields=source.getDeclaredFields();
  for (  Field field : fields) {
    int fieldModifiers=field.getModifiers();
    if (!field.isSynthetic() && !(Modifier.isStatic(fieldModifiers) && Modifier.isFinal(fieldModifiers))) {
      throw invalid(source,"field " + field.getName() + " is not static final");
    }
  }
}
