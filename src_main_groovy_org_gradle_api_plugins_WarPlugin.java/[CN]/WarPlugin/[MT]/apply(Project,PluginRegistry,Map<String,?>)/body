{
  pluginRegistry.apply(JavaPlugin.class,project,customValues);
  project.task(JavaPlugin.JAR_TASK_NAME).setEnabled(false);
  project.getConvention().getPlugins().put("war",new WarPluginConvention(project));
  project.getTasks().whenTaskAdded(War.class,new Action<War>(){
    public void execute(    War task){
      task.conventionMapping(DefaultConventionsToPropertiesMapping.WAR);
    }
  }
);
  War war=project.getTasks().add(WAR_TASK_NAME,War.class);
  war.setDescription("Generates a war archive with all the compiled classes, the web-app content and the libraries.");
  project.getConfigurations().getByName(Dependency.MASTER_CONFIGURATION).addArtifact(new ArchivePublishArtifact(war));
  configureConfigurations(project.getConfigurations());
  configureEclipse(project,war);
}
