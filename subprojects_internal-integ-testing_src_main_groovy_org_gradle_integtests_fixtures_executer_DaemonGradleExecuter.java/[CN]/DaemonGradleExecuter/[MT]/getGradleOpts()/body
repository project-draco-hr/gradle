{
  if (noDefaultJvmArgs) {
    return super.getGradleOpts();
  }
 else {
    List<String> gradleOpts=new ArrayList<String>(super.getGradleOpts());
    gradleOpts.add(0,"-XX:MaxPermSize=256m");
    gradleOpts.add(0,"-XX:+HeapDumpOnOutOfMemoryError");
    if (JavaVersion.current().isJava5()) {
      gradleOpts.add("-XX:+CMSPermGenSweepingEnabled");
      gradleOpts.add("-Dcom.sun.management.jmxremote");
    }
    return gradleOpts;
  }
}
