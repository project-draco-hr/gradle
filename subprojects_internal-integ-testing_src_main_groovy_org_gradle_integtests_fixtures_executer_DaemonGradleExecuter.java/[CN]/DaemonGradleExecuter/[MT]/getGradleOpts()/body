{
  List<String> gradleOpts=new ArrayList<String>(super.getGradleOpts());
  gradleOpts.removeAll(DEBUG_ARGS);
  if (isDebug()) {
    gradleOpts.add("-Dorg.gradle.daemon.debug=true");
  }
  if (isDaemonStartingMessageDisabled()) {
    gradleOpts.add("-D" + DISABLE_STARTING_DAEMON_MESSAGE_PROPERTY + "=true");
  }
  if (isNoDefaultJvmArgs()) {
    return gradleOpts;
  }
 else {
    List<String> jvmArgs=new ArrayList<String>(4);
    jvmArgs.add("-XX:MaxPermSize=320m");
    jvmArgs.add("-XX:+HeapDumpOnOutOfMemoryError");
    jvmArgs.add("-XX:HeapDumpPath=" + buildContext.getGradleUserHomeDir().getAbsolutePath());
    String quotedArgs=join(" ",collect(jvmArgs,new Transformer<String,String>(){
      public String transform(      String input){
        return String.format("'%s'",input);
      }
    }
));
    gradleOpts.add("-Dorg.gradle.jvmArgs=" + quotedArgs);
    return gradleOpts;
  }
}
