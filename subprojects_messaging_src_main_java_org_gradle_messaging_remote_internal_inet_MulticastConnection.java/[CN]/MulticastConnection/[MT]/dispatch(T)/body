{
  try {
    ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
    serializer.newWriter(outputStream).write(message);
    outputStream.close();
    byte[] buffer=outputStream.toByteArray();
    socket.send(new DatagramPacket(buffer,buffer.length,address.getAddress(),address.getPort()));
  }
 catch (  Exception e) {
    throw new MessageIOException(String.format("Could not write multi-cast message on %s.",address),e);
  }
}
