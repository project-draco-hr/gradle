{
  try {
    ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
    DataOutputStream dataOutputStream=new DataOutputStream(outputStream);
    serializer.newWriter(dataOutputStream).write(message);
    dataOutputStream.close();
    byte[] buffer=outputStream.toByteArray();
    socket.send(new DatagramPacket(buffer,buffer.length,address.getAddress(),address.getPort()));
  }
 catch (  Exception e) {
    throw new MessageIOException(String.format("Could not write multi-cast message on %s.",address),e);
  }
}
