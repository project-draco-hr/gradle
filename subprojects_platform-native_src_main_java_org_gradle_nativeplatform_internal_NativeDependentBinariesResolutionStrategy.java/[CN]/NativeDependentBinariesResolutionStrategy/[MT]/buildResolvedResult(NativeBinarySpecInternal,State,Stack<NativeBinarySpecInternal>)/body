{
  if (stack.contains(target)) {
    onCircularDependencies(state,stack,target);
  }
  stack.push(target);
  List<DependentBinariesResolvedResult> result=Lists.newArrayList();
  List<NativeBinarySpecInternal> dependents=state.getDependents(target);
  for (  NativeBinarySpecInternal dependent : dependents) {
    List<DependentBinariesResolvedResult> children=buildResolvedResult(dependent,state,stack);
    result.add(new DefaultDependentBinariesResolvedResult(dependent.getId(),dependent.getProjectScopedName(),dependent.isBuildable(),isTestSuite(dependent),children));
  }
  stack.pop();
  return result;
}
