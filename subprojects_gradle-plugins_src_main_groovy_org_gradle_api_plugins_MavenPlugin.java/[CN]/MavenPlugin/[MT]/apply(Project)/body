{
  setConventionMapping(project);
  addConventionObject(project);
  PluginContainer plugins=project.getPlugins();
  plugins.withType(JavaPlugin.class).allPlugins(new Action<JavaPlugin>(){
    public void execute(    JavaPlugin javaPlugin){
      configureJavaScopeMappings(project.getRepositories(),project.getConfigurations());
      configureInstall(project);
    }
  }
);
  plugins.withType(WarPlugin.class).allPlugins(new Action<WarPlugin>(){
    public void execute(    WarPlugin warPlugin){
      configureWarScopeMappings(project.getRepositories(),project.getConfigurations());
    }
  }
);
}
