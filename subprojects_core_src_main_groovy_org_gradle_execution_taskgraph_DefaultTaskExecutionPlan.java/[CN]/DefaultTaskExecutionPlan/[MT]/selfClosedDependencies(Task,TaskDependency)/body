{
  Set<? extends Task> resolvedDependencies=dependencies.getDependencies(task);
  for (  Task resolvedDependency : resolvedDependencies) {
    ProjectInternal project=(ProjectInternal)resolvedDependency.getProject();
    ModelPath taskPath=DefaultTaskContainer.MODEL_PATH.child(resolvedDependency.getName());
    project.getModelRegistry().atStateOrLater(taskPath,ModelNode.State.SelfClosed);
  }
  return resolvedDependencies;
}
