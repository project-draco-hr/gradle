{
  context.checking(new Expectations(){
{
      one(logger).log(LogLevel.ERROR,"a line longer than 8 bytes long");
      one(logger).log(LogLevel.ERROR,"line 2");
    }
  }
);
  adapter.write(String.format("a line longer than 8 bytes long%n").getBytes());
  adapter.write("line 2".getBytes());
  adapter.close();
}
