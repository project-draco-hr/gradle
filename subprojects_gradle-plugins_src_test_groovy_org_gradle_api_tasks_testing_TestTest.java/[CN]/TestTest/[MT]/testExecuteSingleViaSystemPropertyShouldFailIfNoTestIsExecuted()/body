{
  String singleProperty=test.getPath() + ".single";
  System.setProperty(singleProperty,"CustomTest");
  try {
    configureTask();
    expectSingleTestRun(0,false);
    test.executeTests();
    fail("Test name pattern not found should throw exception.");
  }
 catch (  ListenerNotificationException e) {
    assertThat(e.getCause(),instanceOf(GradleException.class));
  }
 finally {
    System.clearProperty(singleProperty);
  }
}
