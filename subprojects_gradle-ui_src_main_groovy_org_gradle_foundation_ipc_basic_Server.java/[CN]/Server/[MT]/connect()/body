{
  int port=STARTING_PORT;
  boolean keepSearching=true;
  while (keepSearching) {
    try {
      isServerRunning=false;
      serverSocket=new ServerSocket(port);
      isServerRunning=true;
      keepSearching=false;
    }
 catch (    BindException e) {
      port++;
    }
catch (    IOException e) {
      logger.error("Could not listen on port: " + port,e);
      keepSearching=false;
      port=-1;
    }
  }
  return port;
}
