{
  GradleConnector connector=GradleConnector.newConnector();
  if (build.getGradleDistribution() == null) {
    if (build.getGradleHome() == null) {
      if (build.getGradleVersion() == null) {
        connector.useBuildDistribution();
      }
 else {
        connector.useGradleVersion(build.getGradleVersion());
      }
    }
 else {
      connector.useInstallation(build.getGradleHome());
    }
  }
 else {
    connector.useDistribution(build.getGradleDistribution());
  }
  return connector;
}
