{
  long upTo=System.currentTimeMillis() + timeoutMs;
  String line=reader.readLine();
  while (line == null && System.currentTimeMillis() < upTo) {
    try {
      Thread.sleep(clockTick);
    }
 catch (    InterruptedException e) {
      throw new RuntimeException(e);
    }
    retriedCount++;
    line=reader.readLine();
  }
  return line;
}
