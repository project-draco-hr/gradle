{
  if (userDescription instanceof ArtifactRepository) {
    return (ArtifactRepository)userDescription;
  }
  if (userDescription instanceof String) {
    MavenArtifactRepository repository=createMavenRepository();
    repository.setUrl(userDescription);
    return repository;
  }
 else   if (userDescription instanceof Map) {
    Map<String,?> userDescriptionMap=(Map<String,?>)userDescription;
    MavenArtifactRepository repository=createMavenRepository();
    ConfigureUtil.configureByMap(userDescriptionMap,repository);
    return repository;
  }
  DependencyResolver result;
  if (userDescription instanceof DependencyResolver) {
    result=(DependencyResolver)userDescription;
  }
 else {
    throw new InvalidUserDataException(String.format("Cannot create a DependencyResolver instance from %s",userDescription));
  }
  return new CustomResolverArtifactRepository(result,transportFactory);
}
