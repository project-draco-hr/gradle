{
  context.checking(new Expectations(){
{
      ConfigurationResolveReport configurationResolveReport=context.mock(ConfigurationResolveReport.class);
      allowing(resolveReportMock).hasError();
      will(returnValue(true));
      allowing(resolveReportMock).getAllProblemMessages();
      will(returnValue(toList("a problem")));
      allowing(resolveReportMock).getConfigurationReport("someConfName");
      will(returnValue(configurationResolveReport));
      allowing(configurationResolveReport).getUnresolvedDependencies();
      IvyNode unresolvedNode=context.mock(IvyNode.class);
      will(returnValue(new IvyNode[]{unresolvedNode}));
      allowing(unresolvedNode).getProblem();
      will(returnValue(failure));
    }
  }
);
}
