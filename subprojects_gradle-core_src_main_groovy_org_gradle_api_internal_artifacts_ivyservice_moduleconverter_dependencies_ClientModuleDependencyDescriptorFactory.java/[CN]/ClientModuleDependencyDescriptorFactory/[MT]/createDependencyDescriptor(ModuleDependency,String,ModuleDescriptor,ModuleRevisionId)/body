{
  DefaultDependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(parent,moduleRevisionId,getClientModule(dependency).isForce(),false,getClientModule(dependency).isTransitive());
  addExcludesArtifactsAndDependencies(configuration,getClientModule(dependency),dependencyDescriptor);
  ModuleDescriptor moduleDescriptor=moduleDescriptorFactoryForClientModule.createModuleDescriptor(dependencyDescriptor.getDependencyRevisionId(),getClientModule(dependency).getDependencies());
  clientModuleRegistry.put(getClientModule(dependency).getId(),moduleDescriptor);
  return dependencyDescriptor;
}
