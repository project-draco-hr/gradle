{
  Set<URL> original=new HashSet<URL>();
  Collections.addAll(original,classLoader.getURLs());
  try {
    Method method=URLClassLoader.class.getDeclaredMethod("addURL",URL.class);
    method.setAccessible(true);
    for (    URL classpathElement : classpathElements) {
      if (original.add(classpathElement)) {
        method.invoke(classLoader,classpathElement);
      }
    }
  }
 catch (  Throwable t) {
    throw new RuntimeException("Error, could not add URL to classloader",t);
  }
}
