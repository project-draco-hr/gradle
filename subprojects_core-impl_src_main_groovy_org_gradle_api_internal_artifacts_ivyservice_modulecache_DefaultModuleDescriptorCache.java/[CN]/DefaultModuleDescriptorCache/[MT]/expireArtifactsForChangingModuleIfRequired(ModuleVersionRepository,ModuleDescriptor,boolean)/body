{
  CachedModuleDescriptor cachedModuleDescriptor=getCachedModuleDescriptor(repository,newDescriptor.getModuleRevisionId());
  if (cachedModuleDescriptor == null) {
    return;
  }
  if (cachedModuleDescriptor.isChangingModule() || newDescriptorIsChanging) {
    ModuleDescriptor oldDescriptor=cachedModuleDescriptor.getModuleDescriptor();
    if (oldDescriptor.getResolvedPublicationDate().getTime() != newDescriptor.getResolvedPublicationDate().getTime()) {
      expireArtifacts(repository,oldDescriptor);
    }
  }
}
