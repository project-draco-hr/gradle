{
  if (closed) {
    throw new IllegalStateException(String.format("Cannot locate service of type %s, as %s has been closed.",format(serviceType),this));
  }
  DefaultLookupContext context=new DefaultLookupContext();
  Object t=context.find(serviceType,allServices);
  if (t != null) {
    return t;
  }
  throw new UnknownServiceException(serviceType,String.format("No service of type %s available in %s.",format(serviceType),this));
}
