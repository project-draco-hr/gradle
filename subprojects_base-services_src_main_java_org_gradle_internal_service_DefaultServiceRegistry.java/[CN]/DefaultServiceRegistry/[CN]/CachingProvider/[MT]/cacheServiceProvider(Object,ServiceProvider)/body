{
  seen.putIfAbsent(key,service == null ? Optional.<ServiceProvider>absent() : Optional.of(service));
  return service;
}
