{
  RuntimeException failure=new RuntimeException();
  BuildResult result=new BuildResult(null,failure);
  try {
    result.rethrowFailure();
    fail();
  }
 catch (  Exception e) {
    assertThat(e,sameInstance((Throwable)failure));
  }
}
