{
  File nativeDir=new File(userHomeDir,"native");
  if (useNativePlatform) {
    try {
      net.rubygrapefruit.platform.Native.init(nativeDir);
    }
 catch (    NativeIntegrationUnavailableException ex) {
      LOGGER.debug("Native-platform is not available.");
      useNativePlatform=false;
    }
catch (    NativeException ex) {
      LOGGER.debug("Unable to initialize native-platform. Failure: {}",format(ex));
      useNativePlatform=false;
    }
  }
  if (OperatingSystem.current().isWindows() && initializeJNA) {
    new JnaBootPathConfigurer().configure(nativeDir);
  }
  initialized=true;
}
