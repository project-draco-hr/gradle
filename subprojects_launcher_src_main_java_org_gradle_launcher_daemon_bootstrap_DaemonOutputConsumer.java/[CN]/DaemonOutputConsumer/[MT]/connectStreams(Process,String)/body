{
  executor=new DefaultExecutorFactory().create("Read output from: " + processName);
  streamConsumer=new Runnable(){
    public void run(){
      Scanner scanner=new Scanner(process.getInputStream());
      PrintWriter printer=new PrintWriter(output);
      try {
        while (scanner.hasNext()) {
          String line=scanner.nextLine();
          LOGGER.debug("daemon out: {}",line);
          printer.println(line);
          if (new DaemonStartupCommunication().containsGreeting(line)) {
            break;
          }
        }
      }
  finally {
        scanner.close();
      }
    }
  }
;
}
