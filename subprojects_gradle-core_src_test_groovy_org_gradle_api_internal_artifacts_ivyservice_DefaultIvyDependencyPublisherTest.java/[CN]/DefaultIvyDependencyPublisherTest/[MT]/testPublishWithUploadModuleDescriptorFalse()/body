{
  context.checking(new Expectations(){
{
      allowing(publishOptionsFactoryStub).createPublishOptions(WrapUtil.toSet(expectedConf),someDescriptorDestination);
      will(returnValue(expectedPublishOptions));
      one(publishEngineMock).publish(moduleDescriptorDummy,DefaultIvyDependencyPublisher.ARTIFACT_PATTERN,expectedResolverList.get(0),expectedPublishOptions);
    }
  }
);
  ivyDependencyPublisher.publish(WrapUtil.toSet(expectedConf),expectedResolverList,moduleDescriptorDummy,someDescriptorDestination,publishEngineMock);
}
