{
synchronized (lock) {
    LoggerDispatch dispatch=loggers.get(listenerClass);
    if (dispatch == null) {
      dispatch=new LoggerDispatch(listenerClass,parent == null ? null : parent.getLogger(listenerClass));
      for (      Object logger : allLoggers) {
        dispatch.maybeSetLogger(logger);
      }
      loggers.put(listenerClass,dispatch);
    }
    return dispatch;
  }
}
