{
  return new DefaultResolvedArtifact(owner,artifact,new FileSource(){
    public File get(){
      return lockingManager.withCacheLock(String.format("download %s",artifact),new Callable<File>(){
        public File call() throws Exception {
          DownloadReport downloadReport=resolver.download(new Artifact[]{artifact},new DownloadOptions());
          return downloadReport.getArtifactReport(artifact).getLocalFile();
        }
      }
);
    }
  }
);
}
