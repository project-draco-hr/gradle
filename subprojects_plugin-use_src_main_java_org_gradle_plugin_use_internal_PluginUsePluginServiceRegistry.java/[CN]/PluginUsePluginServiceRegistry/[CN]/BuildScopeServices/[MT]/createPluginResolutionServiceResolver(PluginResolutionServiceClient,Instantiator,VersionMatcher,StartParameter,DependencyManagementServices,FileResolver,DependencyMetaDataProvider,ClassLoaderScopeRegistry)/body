{
  final ProjectFinder projectFinder=new ProjectFinder(){
    public ProjectInternal getProject(    String path){
      throw new UnknownProjectException("Cannot use project dependencies in a plugin resolution definition.");
    }
  }
;
  return new PluginResolutionServiceResolver(pluginResolutionServiceClient,instantiator,versionMatcher,startParameter,classLoaderScopeRegistry.getCoreScope(),new Factory<DependencyResolutionServices>(){
    public DependencyResolutionServices create(){
      return dependencyManagementServices.create(fileResolver,dependencyMetaDataProvider,projectFinder,new BasicDomainObjectContext());
    }
  }
);
}
