{
  Collection<FileTreeElement> sortedFileTreeElement=sortForHashing(allFileTreeElements);
  Hasher hasher=createHasher();
  for (  FileTreeElement fileTreeElement : sortedFileTreeElement) {
    for (    String pathPart : fileTreeElement.getRelativePath().getSegments()) {
      hasher.putString(pathPart,Charsets.UTF_8);
      hasher.putByte(HASH_PATH_SEPARATOR);
    }
    hasher.putByte(HASH_RECORD_SEPARATOR);
  }
  return hasher.hash().asInt();
}
