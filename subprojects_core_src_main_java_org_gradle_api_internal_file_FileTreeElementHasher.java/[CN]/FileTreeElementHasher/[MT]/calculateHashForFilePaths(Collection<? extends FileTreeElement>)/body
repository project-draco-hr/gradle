{
  Collection<FileTreeElement> sortedFileTreeElement=sortForHashing(allFileTreeElements);
  Hasher hasher=createHasher();
  StringHasher stringHasher=new StringHasher(hasher);
  for (  FileTreeElement fileTreeElement : sortedFileTreeElement) {
    for (    String pathPart : fileTreeElement.getRelativePath().getSegments()) {
      stringHasher.hashString(pathPart);
      hasher.putByte(HASH_PATH_SEPARATOR);
    }
    hasher.putByte(HASH_RECORD_SEPARATOR);
  }
  return hasher.hash().asInt();
}
