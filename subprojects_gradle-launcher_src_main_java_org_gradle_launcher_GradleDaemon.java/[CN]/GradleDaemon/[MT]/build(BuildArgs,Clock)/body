{
  StartParameter startParameter=new StartParameter();
  startParameter.setCurrentDir(buildArgs.currentDir);
  startParameter.setStdoutTerminal(buildArgs.stdoutIsTerminal);
  startParameter.setStderrTerminal(buildArgs.stderrIsTerminal);
  CommandLine2StartParameterConverter converter=new DefaultCommandLine2StartParameterConverter();
  converter.convert(buildArgs.args,startParameter);
  BuildListener resultLogger=new BuildLogger(LOGGER,clock,startParameter);
  try {
    GradleLauncher launcher=GradleLauncher.newInstance(startParameter);
    launcher.useLogger(resultLogger);
    launcher.run();
  }
 catch (  Throwable e) {
    resultLogger.buildFinished(new BuildResult(null,e));
  }
}
