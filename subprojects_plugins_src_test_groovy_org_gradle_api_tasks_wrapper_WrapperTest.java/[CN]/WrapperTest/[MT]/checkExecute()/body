{
  wrapper.execute();
  TestFile unjarDir=tmpDir.createDir("unjar");
  expectedTargetWrapperJar.unzipTo(unjarDir);
  unjarDir.file(GradleWrapperMain.class.getName().replace(".","/") + ".class").assertIsFile();
  Properties properties=GUtil.loadProperties(expectedTargetWrapperProperties);
  assertEquals(properties.getProperty(WrapperExecutor.DISTRIBUTION_URL_PROPERTY),wrapper.getDistributionUrl());
  assertEquals(properties.getProperty(WrapperExecutor.DISTRIBUTION_BASE_PROPERTY),wrapper.getDistributionBase().toString());
  assertEquals(properties.getProperty(WrapperExecutor.DISTRIBUTION_PATH_PROPERTY),wrapper.getDistributionPath());
  assertEquals(properties.getProperty(WrapperExecutor.ZIP_STORE_BASE_PROPERTY),wrapper.getArchiveBase().toString());
  assertEquals(properties.getProperty(WrapperExecutor.ZIP_STORE_PATH_PROPERTY),wrapper.getArchivePath());
}
