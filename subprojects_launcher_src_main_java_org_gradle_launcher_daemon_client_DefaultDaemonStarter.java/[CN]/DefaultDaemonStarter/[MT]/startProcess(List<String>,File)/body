{
  LOGGER.info("Starting daemon process: workingDir = {}, daemonArgs: {}",workingDir,args);
  try {
    workingDir.mkdirs();
    ProcessParentingInitializer.intitialize();
    Process process=new ProcessBuilder(args).redirectErrorStream(true).directory(workingDir).start();
    daemonGreeter.verifyGreetingReceived(process);
    process.getOutputStream().close();
    process.getErrorStream().close();
    process.getInputStream().close();
  }
 catch (  GradleException e) {
    throw e;
  }
catch (  Exception e) {
    throw new GradleException("Could not start Gradle daemon.",e);
  }
}
