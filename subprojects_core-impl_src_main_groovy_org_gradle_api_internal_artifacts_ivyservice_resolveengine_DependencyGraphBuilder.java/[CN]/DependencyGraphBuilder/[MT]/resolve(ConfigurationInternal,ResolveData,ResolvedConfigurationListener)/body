{
  ModuleDescriptor rootModuleDescriptor=moduleDescriptorConverter.convert(configuration.getAll(),configuration.getModule());
  BuildableModuleVersionMetaData rootMetaData=new DefaultBuildableModuleVersionMetaData();
  rootMetaData.resolved(rootModuleDescriptor,false,null);
  ResolveState resolveState=new ResolveState(rootMetaData,configuration.getName(),dependencyResolver,resolveData);
  traverseGraph(resolveState);
  DefaultLenientConfiguration result=new DefaultLenientConfiguration(configuration,resolveState.root.getResult(),cacheLockingManager);
  assembleResult(resolveState,result,listener);
  return result;
}
