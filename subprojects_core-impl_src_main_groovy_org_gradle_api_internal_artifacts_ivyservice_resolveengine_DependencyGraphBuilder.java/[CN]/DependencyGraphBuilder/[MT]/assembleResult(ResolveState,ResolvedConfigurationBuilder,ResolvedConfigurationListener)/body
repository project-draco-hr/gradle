{
  FailureState failureState=new FailureState(resolveState.root);
  ResolvedConfigurationIdentifier root=toId(resolveState.root);
  listener.start(root);
  for (  ConfigurationNode resolvedConfiguration : resolveState.getConfigurationNodes()) {
    resolvedConfiguration.attachToParents(resolvedArtifactFactory,result);
    resolvedConfiguration.collectFailures(failureState);
    notifyListener(listener,resolvedConfiguration);
  }
  listener.completed();
  failureState.attachFailures(result);
}
