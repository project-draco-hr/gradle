{
  FailureState failureState=new FailureState(resolveState.root);
  DependencyGraphNode root=new DependencyGraphNode(resolveState.root.configurationName,toId(resolveState.root));
  for (  ConfigurationNode resolvedConfiguration : resolveState.getConfigurationNodes()) {
    resolvedConfiguration.attachToParents(resolvedArtifactFactory,result);
    resolvedConfiguration.collectFailures(failureState);
    notifyListener(dependencyGraphListener,root,resolvedConfiguration);
  }
  failureState.attachFailures(result);
}
