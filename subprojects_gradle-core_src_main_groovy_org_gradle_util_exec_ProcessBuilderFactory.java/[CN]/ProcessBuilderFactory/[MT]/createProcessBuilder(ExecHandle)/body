{
  final List<String> commandWithArguments=new ArrayList<String>();
  final String command=execHandle.getCommand();
  if (LOGGER.isDebugEnabled()) {
    LOGGER.debug("creating process builder for command {}",command);
  }
  commandWithArguments.add(command);
  final List<String> arguments=execHandle.getArguments();
  if (LOGGER.isDebugEnabled()) {
    int argumentIndex=0;
    for (    String argument : arguments) {
      LOGGER.debug("with argument#{} = {}",argumentIndex,argument);
      argumentIndex++;
    }
  }
  commandWithArguments.addAll(arguments);
  final ProcessBuilder processBuilder=new ProcessBuilder(commandWithArguments);
  processBuilder.directory(execHandle.getDirectory());
  final Map<String,String> environment=processBuilder.environment();
  environment.clear();
  environment.putAll(execHandle.getEnvironment());
  return processBuilder;
}
