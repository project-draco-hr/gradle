{
  try {
    FileRenderer fileRenderer=new FileRenderer();
    TestPageGenerator testHtmlRenderer=new TestPageGenerator();
    TestDataGenerator testDataRenderer=new TestDataGenerator();
    fileRenderer.render(store,new IndexPageGenerator(),new File(outputDirectory,"index.html"));
    for (    String testName : store.getTestNames()) {
      TestExecutionHistory testResults=store.getTestResults(testName);
      fileRenderer.render(testResults,testHtmlRenderer,new File(outputDirectory,testResults.getId() + ".html"));
      fileRenderer.render(testResults,testDataRenderer,new File(outputDirectory,testResults.getId() + ".json"));
    }
    copyResource("jquery.min-1.8.0.js",outputDirectory);
    copyResource("flot-0.8.1-min.js",outputDirectory);
    copyResource("style.css",outputDirectory);
  }
 catch (  Exception e) {
    throw new RuntimeException(String.format("Could not generate performance test report to '%s'.",outputDirectory),e);
  }
}
