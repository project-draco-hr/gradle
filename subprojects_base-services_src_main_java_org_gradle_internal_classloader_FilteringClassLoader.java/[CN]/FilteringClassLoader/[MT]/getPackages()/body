{
  List<Package> packages=new ArrayList<Package>();
  for (  Package p : super.getPackages()) {
    if (allowed(p)) {
      packages.add(p);
    }
  }
  return packages.toArray(new Package[packages.size()]);
}
