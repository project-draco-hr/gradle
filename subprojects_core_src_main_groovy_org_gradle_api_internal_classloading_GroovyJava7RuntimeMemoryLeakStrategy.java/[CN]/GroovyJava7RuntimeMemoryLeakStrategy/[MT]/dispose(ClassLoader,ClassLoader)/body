{
  if (!isFaultyGroovy) {
    return;
  }
  Iterator it=globalClassSetIterator();
  while (it.hasNext()) {
    Object classInfo=it.next();
    if (classInfo != null) {
      Class clazz=(Class)clazzField.get(classInfo);
      if (inHierarchy(clazz,affectedLoaders)) {
        removeFromGlobalClassValue.invoke(globalClassValue,clazz);
        if (LOG.isDebugEnabled()) {
          LOG.debug(String.format("Removed ClassInfo from %s loaded by %s",clazz.getName(),clazz.getClassLoader()));
        }
      }
    }
  }
}
