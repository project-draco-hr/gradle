{
  executorService.shutdown();
  boolean stopped=false;
  while (!stopped) {
    try {
      executorService.awaitTermination(Long.MAX_VALUE,TimeUnit.SECONDS);
      stopped=true;
    }
 catch (    InterruptedException e) {
      stopped=interuptHandler.handleIterrupt(executorService,e);
    }
  }
}
