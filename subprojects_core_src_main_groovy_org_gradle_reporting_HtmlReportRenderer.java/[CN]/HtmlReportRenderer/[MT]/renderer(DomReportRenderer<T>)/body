{
  return renderer(new TextReportRenderer<T>(){
    @Override protected void writeTo(    T model,    Writer writer) throws Exception {
      if (documentBuilder == null) {
        documentBuilder=DocumentBuilderFactory.newInstance().newDocumentBuilder();
      }
      Document document=documentBuilder.newDocument();
      Element html=document.createElement("html");
      document.appendChild(html);
      renderer.render(model,html);
      if (transformer == null) {
        TransformerFactory factory=TransformerFactory.newInstance();
        transformer=factory.newTransformer();
        transformer.setOutputProperty(OutputKeys.INDENT,"yes");
        transformer.setOutputProperty(OutputKeys.METHOD,"html");
        transformer.setOutputProperty(OutputKeys.MEDIA_TYPE,"text/html");
      }
      writer.write("<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">");
      writer.write(SystemProperties.getLineSeparator());
      transformer.transform(new DOMSource(document),new StreamResult(writer));
    }
  }
);
}
