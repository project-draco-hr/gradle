{
  task.setDescription("Run PMD analysis for " + sourceSet.getName() + " classes");
  task.setSource(sourceSet.getAllJava());
  ConventionMapping taskMapping=task.getConventionMapping();
  taskMapping.map("classpath",new Callable<FileCollection>(){
    @Override public FileCollection call() throws Exception {
      return task.getProject().files(sourceSet.getOutput(),sourceSet.getCompileClasspath());
    }
  }
);
}
