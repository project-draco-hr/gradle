{
  byte[] hash=hasher.hash(jarArchive.file);
  JarSnapshot cached=cache.loadSnapshot(hash);
  if (cached != null) {
    return cached;
  }
  JarSnapshot snapshot=snapshotter.createSnapshot(jarArchive);
  cache.storeSnapshot(hash,snapshot);
  return snapshot;
}
