{
  testFile("settings.gradle").writelns("include 'child'","project(':child').buildFileName = 'child.gradle'");
  File subDirectory=new File(getTestDir(),"child");
  testFile(subDirectory,"build.gradle").write("throw new RuntimeException()");
  testFile(subDirectory,"child.gradle").write("createTask('do-stuff')");
  inDirectory(subDirectory).withSearchUpwards().runTasks("do-stuff");
  usingProjectDir(subDirectory).withSearchUpwards().runTasks("do-stuff");
}
