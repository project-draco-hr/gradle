{
  if (dist == null) {
    final File gradleHomeDir=file("integTest.gradleHomeDir",new File("build/distributions/exploded"));
    final File samplesDir=new File(gradleHomeDir,"samples");
    File srcDir=file("integTest.srcDir",new File("src"));
    final File userGuideOutputDir=new File(srcDir,"samples/userguideOutput");
    final File userGuideInfoDir=file("integTest.userGuideInfoDir",new File("build/docbook/src"));
    dist=new GradleDistribution(){
      public File getGradleHomeDir(){
        return gradleHomeDir;
      }
      public File getSamplesDir(){
        return samplesDir;
      }
      public File getUserGuideInfoDir(){
        return userGuideInfoDir;
      }
      public File getUserGuideOutputDir(){
        return userGuideOutputDir;
      }
    }
;
  }
  return dist;
}
