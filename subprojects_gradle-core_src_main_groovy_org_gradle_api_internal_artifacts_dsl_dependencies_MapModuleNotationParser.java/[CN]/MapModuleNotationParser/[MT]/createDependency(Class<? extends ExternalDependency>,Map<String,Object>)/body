{
  Map<String,Object> args=new HashMap<String,Object>(map);
  String group=getAndRemove(args,"group");
  String name=getAndRemove(args,"name");
  String version=getAndRemove(args,"version");
  String configuration=getAndRemove(args,"configuration");
  try {
    ExternalDependency dependency=dependencyType.getConstructor(String.class,String.class,String.class,String.class).newInstance(group,name,version,configuration);
    ModuleFactoryHelper.addExplicitArtifactsIfDefined(dependency,getAndRemove(args,"ext"),getAndRemove(args,"classifier"));
    ReflectionUtil.setFromMap(dependency,args);
    return dependency;
  }
 catch (  InstantiationException e) {
    throw new GradleException(e);
  }
catch (  IllegalAccessException e) {
    throw new GradleException(e);
  }
catch (  InvocationTargetException e) {
    throw new GradleException(e);
  }
catch (  NoSuchMethodException e) {
    throw new GradleException(e);
  }
}
