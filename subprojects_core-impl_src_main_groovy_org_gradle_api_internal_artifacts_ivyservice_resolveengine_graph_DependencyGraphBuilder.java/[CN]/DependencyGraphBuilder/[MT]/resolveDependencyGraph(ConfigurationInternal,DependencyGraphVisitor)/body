{
  DefaultBuildableComponentResolveResult rootModule=new DefaultBuildableComponentResolveResult();
  moduleResolver.resolve(configuration.getModule(),configuration.getAll(),rootModule);
  ResolveState resolveState=new ResolveState(rootModule,configuration.getName(),dependencyResolver,dependencyToConfigurationResolver,artifactResolver);
  ConflictHandler conflictHandler=new DefaultConflictHandler(new DirectDependencyForcingResolver(conflictResolver,resolveState.root.moduleRevision));
  traverseGraph(resolveState,conflictHandler);
  assembleResult(resolveState,modelVisitor);
}
