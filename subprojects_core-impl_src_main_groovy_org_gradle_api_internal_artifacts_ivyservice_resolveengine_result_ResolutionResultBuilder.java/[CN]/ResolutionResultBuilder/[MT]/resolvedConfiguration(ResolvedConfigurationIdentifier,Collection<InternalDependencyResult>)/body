{
  DefaultResolvedModuleVersionResult from=getModule(id.getId(),ModuleVersionSelectionReason.requested);
  for (  InternalDependencyResult d : dependencies) {
    if (d.getFailure() != null) {
      from.addDependency(new DefaultUnresolvedDependencyResult(d.getRequested(),d.getFailure(),from));
    }
 else {
      DefaultResolvedModuleVersionResult selected=getModule(d.getSelected().getId(),d.getSelected().getSelectionReason());
      DefaultResolvedDependencyResult dependency=new DefaultResolvedDependencyResult(d.getRequested(),selected,from);
      from.addDependency(dependency);
      selected.addDependent(dependency);
    }
  }
}
