{
  for (  InternalDependencyResult d : dependencies) {
    DefaultResolvedModuleVersionResult from=modules.get(id);
    DependencyResult dependency;
    if (d.getFailure() != null) {
      dependency=dependencyResultFactory.createUnresolvedDependency(d.getRequested(),from,d.getReason(),d.getFailure());
    }
 else {
      DefaultResolvedModuleVersionResult selected=modules.get(d.getSelected().getSelectedId());
      dependency=dependencyResultFactory.createResolvedDependency(d.getRequested(),from,selected);
    }
    listener.dependencyResult(from,dependency);
  }
}
