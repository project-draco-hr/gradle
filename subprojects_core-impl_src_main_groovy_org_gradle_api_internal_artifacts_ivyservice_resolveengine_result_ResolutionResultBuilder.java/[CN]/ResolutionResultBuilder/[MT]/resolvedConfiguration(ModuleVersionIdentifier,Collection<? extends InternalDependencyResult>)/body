{
  DefaultResolvedModuleVersionResult from=getModule(id,VersionSelectionReasons.REQUESTED);
  for (  InternalDependencyResult d : dependencies) {
    if (d.getFailure() != null) {
      from.addDependency(dependencyResultFactory.createUnresolvedDependency(d.getRequested(),from,d.getFailure()));
    }
 else {
      DefaultResolvedModuleVersionResult selected=getModule(d.getSelected().getSelectedId(),d.getSelected().getSelectionReason());
      DependencyResult dependency=dependencyResultFactory.createResolvedDependency(d.getRequested(),from,selected);
      from.addDependency(dependency);
      selected.addDependent((ResolvedDependencyResult)dependency);
    }
  }
}
