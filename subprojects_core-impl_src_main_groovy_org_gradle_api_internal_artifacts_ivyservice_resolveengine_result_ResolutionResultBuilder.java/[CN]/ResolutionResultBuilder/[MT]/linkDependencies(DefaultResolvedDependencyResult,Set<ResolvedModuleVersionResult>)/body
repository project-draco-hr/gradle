{
  if (!visited.add(dependency.getSelected())) {
    return;
  }
  Set<DependencyResult> theDeps=deps.get(dependency.getSelected().getId());
  for (  DependencyResult d : theDeps) {
    if (d instanceof DefaultResolvedDependencyResult) {
      DefaultResolvedDependencyResult resolved=(DefaultResolvedDependencyResult)d;
      linkDependencies(resolved,visited);
      resolved.getSelected().addDependee(dependency);
    }
    dependency.getSelected().addDependency(d);
  }
}
