{
  if (ivySettings != null) {
    return ivySettings;
  }
  Clock clock=new Clock();
  ChainResolver userResolverChain=createUserResolverChain(Collections.<DependencyResolver>emptyList(),internalRepository);
  ClientModuleResolver clientModuleResolver=createClientModuleResolver(new HashMap(),userResolverChain);
  ChainResolver outerChain=createOuterChain(userResolverChain,clientModuleResolver);
  IvySettings ivySettings=createIvySettings(gradleUserHome);
  initializeResolvers(ivySettings,getAllResolvers(Collections.<DependencyResolver>emptyList(),publishResolvers,internalRepository,userResolverChain,clientModuleResolver,outerChain));
  ivySettings.setDefaultResolver(CLIENT_MODULE_CHAIN_NAME);
  logger.debug("Timing: Ivy convert for publish took {}",clock.getTime());
  return ivySettings;
}
