{
  super.setUp();
  deployTaskFactoryMock=context.mock(DeployTaskFactory.class);
  deployTaskMock=context.mock(CustomDeployTask.class);
  plexusContainerMock=context.mock(PlexusContainer.class);
  testRepository=new RemoteRepository();
  testSnapshotRepository=new RemoteRepository();
  mavenDeployer=createMavenDeployer();
  mavenDeployer.setDeployTaskFactory(deployTaskFactoryMock);
  mavenDeployer.setRepository(testRepository);
  mavenDeployer.setSnapshotRepository(testSnapshotRepository);
  mavenDeployer.addProtocolProviderJars(TEST_PROTOCOL_PROVIDER_JARS);
  mavenDeployer.setUniqueVersion(false);
}
