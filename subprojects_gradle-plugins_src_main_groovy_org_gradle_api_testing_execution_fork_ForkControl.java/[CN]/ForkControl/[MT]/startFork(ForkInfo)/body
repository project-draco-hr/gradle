{
  forkControlLock.lock();
  try {
    forkInfo.starting();
    Map<Integer,ForkInfo> forks=forkHandles.get(forkInfo.getPipeline().getId());
    if (forks == null) {
      forks=new HashMap<Integer,ForkInfo>();
    }
    forks.put(forkInfo.getId(),forkInfo);
    forkHandles.put(forkInfo.getPipeline().getId(),forks);
    forkInfo.getForkPolicyInfo().start();
    startedForks++;
  }
  finally {
    forkControlLock.unlock();
  }
}
