{
  try {
    ProjectReportRenderer renderer=getRenderer();
    File outputFile=getOutputFile();
    if (outputFile != null) {
      outputFile.getParentFile().mkdirs();
      renderer.setOutputFile(outputFile);
    }
    Set<Project> projects=new TreeSet<Project>(this.projects);
    for (    Project project : projects) {
      renderer.startProject(project);
      generate(project);
      renderer.completeProject(project);
    }
    renderer.complete();
  }
 catch (  IOException e) {
    throw new GradleException(e);
  }
}
