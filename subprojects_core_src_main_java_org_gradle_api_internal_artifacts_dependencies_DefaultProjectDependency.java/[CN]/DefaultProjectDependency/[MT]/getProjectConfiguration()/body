{
  if (dependentConfiguration != null && dependentConfiguration.hasAttributes()) {
    ConfigurationContainer dependencyConfigurations=getDependencyProject().getConfigurations();
    for (    Configuration dependencyConfiguration : dependencyConfigurations) {
      if (dependencyConfiguration.hasAttributes()) {
        Map<String,String> attributes=dependencyConfiguration.getAttributes();
        boolean matches=true;
        for (        Map.Entry<String,String> source : dependentConfiguration.getAttributes().entrySet()) {
          String key=source.getKey();
          String value=source.getValue();
          matches=attributes.containsKey(key) && value.equals(attributes.get(key));
          if (!matches) {
            break;
          }
        }
        if (matches) {
          return dependencyConfiguration;
        }
      }
    }
  }
  return dependencyProject.getConfigurations().getByName(getConfiguration());
}
