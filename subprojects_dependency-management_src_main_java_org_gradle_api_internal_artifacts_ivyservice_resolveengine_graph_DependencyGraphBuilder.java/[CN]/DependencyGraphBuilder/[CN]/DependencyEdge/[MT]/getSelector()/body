{
  String[] configurations=from.metaData.getHierarchy().toArray(new String[from.metaData.getHierarchy().size()]);
  ModuleVersionSpec moduleVersionSelector=ModuleVersionSpec.forExcludes(dependencyDescriptor.getExcludeRules(configurations));
  ArtifactIdSpec artifactIdSelector=ArtifactIdSpec.forExcludes(dependencyDescriptor.getExcludeRules(configurations));
  return new ModuleSelector(moduleVersionSelector,artifactIdSelector).intersect(selectorSpec);
}
