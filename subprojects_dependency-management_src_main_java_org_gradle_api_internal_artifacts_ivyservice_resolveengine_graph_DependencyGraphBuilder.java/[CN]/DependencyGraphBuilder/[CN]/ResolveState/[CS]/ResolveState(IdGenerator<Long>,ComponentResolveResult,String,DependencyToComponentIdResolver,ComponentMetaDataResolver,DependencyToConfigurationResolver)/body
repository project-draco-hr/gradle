{
  this.idGenerator=idGenerator;
  this.idResolver=idResolver;
  this.metaDataResolver=metaDataResolver;
  this.dependencyToConfigurationResolver=dependencyToConfigurationResolver;
  ModuleVersionResolveState rootVersion=getRevision(rootResult.getId());
  rootVersion.setSelectionReason(VersionSelectionReasons.ROOT);
  rootVersion.setMetaData(rootResult.getMetaData());
  root=new RootConfigurationNode(idGenerator.generateId(),rootVersion,new ResolvedConfigurationIdentifier(rootVersion.id,rootConfigurationName),this);
  nodes.put(root.id,root);
  root.moduleRevision.module.select(root.moduleRevision);
}
