{
  if (requiresArtifactResolution) {
    artifacts=new LinkedHashSet<ResolvedArtifact>();
    BuildableArtifactSetResolveResult result=new DefaultBuildableArtifactSetResolveResult();
    resolveState.artifactResolver.resolveModuleArtifacts(metaData.getComponent(),new DefaultComponentUsage(metaData.getName()),result);
    boolean unsatisfiedArtifactSpec=false;
    for (    ComponentArtifactMetaData artifact : result.getArtifacts()) {
      ModuleIdentifier moduleId=id.getId().getModule();
      IvyArtifactName artifactName=artifact.getName();
      if (moduleResolutionFilter.acceptArtifact(moduleId,artifactName)) {
        artifacts.add(builder.newArtifact(id,metaData.getComponent(),artifact,resolveState.artifactResolver));
      }
 else {
        unsatisfiedArtifactSpec=true;
      }
    }
    requiresArtifactResolution=unsatisfiedArtifactSpec;
  }
  return artifacts;
}
