{
  DefaultExternalModuleDependency moduleDependency=new DefaultExternalModuleDependency("org.gradle","gradle-core","1.0",TEST_DEP_CONF);
  setUpDependency(moduleDependency);
  externalModuleDependencyDescriptorFactory.addDependencyDescriptor(TEST_CONF,moduleDescriptor,moduleDependency);
  DefaultDependencyDescriptor dependencyDescriptor=(DefaultDependencyDescriptor)moduleDescriptor.getDependencies()[0];
  assertEquals(moduleDependency.isChanging(),dependencyDescriptor.isChanging());
  assertEquals(dependencyDescriptor.isForce(),moduleDependency.isForce());
  assertEquals(IvyUtil.createModuleRevisionId(moduleDependency),dependencyDescriptor.getDependencyRevisionId());
  assertDependencyDescriptorHasCommonFixtureValues(dependencyDescriptor);
}
