{
  ModuleDependency dependency=new DefaultExternalModuleDependency(null,"gradle-core",null,TEST_DEP_CONF);
  externalModuleDependencyDescriptorFactory.addDependencyDescriptor(TEST_CONF,moduleDescriptor,dependency);
  DefaultDependencyDescriptor dependencyDescriptor=(DefaultDependencyDescriptor)moduleDescriptor.getDependencies()[0];
  assertThat(dependencyDescriptor.getDependencyRevisionId(),equalTo(IvyUtil.createModuleRevisionId(dependency)));
}
