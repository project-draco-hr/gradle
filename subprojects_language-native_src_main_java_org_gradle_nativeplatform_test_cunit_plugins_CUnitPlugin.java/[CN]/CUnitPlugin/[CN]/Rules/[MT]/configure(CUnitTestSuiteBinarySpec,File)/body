{
  BinaryNamingScheme namingScheme=((NativeBinarySpecInternal)testBinary).getNamingScheme();
  PlatformToolProvider toolProvider=((NativeBinarySpecInternal)testBinary).getPlatformToolProvider();
  File binaryOutputDir=new File(new File(buildDir,"binaries"),namingScheme.getOutputDirectoryBase());
  String baseName=testBinary.getComponent().getBaseName();
  testBinary.setExecutableFile(new File(binaryOutputDir,toolProvider.getExecutableName(baseName)));
  ((ExtensionAware)testBinary).getExtensions().create("cCompiler",DefaultPreprocessingTool.class);
}
