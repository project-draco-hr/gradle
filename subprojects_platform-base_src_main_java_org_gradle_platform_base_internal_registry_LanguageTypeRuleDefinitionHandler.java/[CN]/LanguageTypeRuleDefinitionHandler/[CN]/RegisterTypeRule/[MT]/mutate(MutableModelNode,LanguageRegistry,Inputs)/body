{
  ServiceRegistry serviceRegistry=inputs.get(0,ModelType.of(ServiceRegistry.class)).getInstance();
  Instantiator instantiator=serviceRegistry.get(Instantiator.class);
  FileResolver fileResolver=serviceRegistry.get(FileResolver.class);
  @SuppressWarnings("unchecked") Class<BaseLanguageSourceSet> publicClass=(Class<BaseLanguageSourceSet>)type.getConcreteClass();
  Class<? extends BaseLanguageSourceSet> implementationClass=implementation.getConcreteClass();
  languageRegistry.add(new RuleBasedLanguageRegistration<BaseLanguageSourceSet>(languageName,publicClass,implementationClass,instantiator,fileResolver));
}
