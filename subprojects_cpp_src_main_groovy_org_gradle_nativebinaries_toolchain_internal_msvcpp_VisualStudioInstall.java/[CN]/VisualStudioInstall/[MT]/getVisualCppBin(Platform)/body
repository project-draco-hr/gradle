{
  String osPrefix=org.gradle.internal.os.OperatingSystem.current().getNativePrefix();
  boolean hostIsAmd64="win32-amd64".equals(osPrefix);
  boolean hostIsIA64="win32-ia64".equals(osPrefix);
  if (hostIsAmd64) {
    if (architecture(platform).isAmd64()) {
      return new File(visualCppDir,BINPATH_AMD64_AMD64);
    }
    if (architecture(platform).isArm()) {
      return new File(visualCppDir,BINPATH_AMD64_ARM);
    }
    if (architecture(platform).isI386()) {
      return new File(visualCppDir,BINPATH_AMD64_X86);
    }
  }
 else   if (hostIsIA64) {
    if (architecture(platform).isIa64()) {
      return new File(visualCppDir,BINPATH_IA64_IA64);
    }
  }
 else {
    if (architecture(platform).isAmd64()) {
      return new File(visualCppDir,BINPATH_X86_AMD64);
    }
    if (architecture(platform).isIa64()) {
      return new File(visualCppDir,BINPATH_X86_IA64);
    }
    if (architecture(platform).isArm()) {
      return new File(visualCppDir,BINPATH_X86_ARM);
    }
    if (architecture(platform).isI386()) {
      return new File(visualCppDir,BINPATH_X86_X86);
    }
  }
  return new File(visualCppDir,BINPATH_DEFAULT);
}
