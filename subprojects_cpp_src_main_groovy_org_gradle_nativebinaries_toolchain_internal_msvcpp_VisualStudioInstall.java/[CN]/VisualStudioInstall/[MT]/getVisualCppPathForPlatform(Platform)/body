{
  ArchitectureInternal targetArch=architecture(targetPlatform);
  boolean isNativeAMD64=NATIVEPREFIX_AMD64.equals(org.gradle.internal.os.OperatingSystem.current().getNativePrefix());
  if (targetArch.isAmd64()) {
    return getCompatibleVisualCppBin(isNativeAMD64,PLATFORM_AMD64_AMD64,PLATFORM_X86_AMD64);
  }
  if (targetArch.isI386() || targetArch == ArchitectureInternal.TOOL_CHAIN_DEFAULT) {
    return getCompatibleVisualCppBin(isNativeAMD64,PLATFORM_AMD64_X86,PLATFORM_X86_X86);
  }
  if (targetArch.isIa64()) {
    return Arrays.asList(new File(visualCppDir,BINPATH_X86_IA64),getCommonIdeBin());
  }
  if (targetArch.isArm()) {
    return getCompatibleVisualCppBin(isNativeAMD64,PLATFORM_AMD64_ARM,PLATFORM_X86_ARM);
  }
  throw new UnsupportedOperationException("Don't know how to build this architecture.");
}
