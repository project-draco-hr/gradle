{
  ModelType<R> type=extractionContext.getType();
  Class<? extends R> implClass=classGenerator.generate(type,delegateType,propertyResults);
  Iterable<ModelProperty<?>> properties=Iterables.transform(propertyResults,new Function<ModelPropertyExtractionResult<?>,ModelProperty<?>>(){
    @Override public ModelProperty<?> apply(    ModelPropertyExtractionResult<?> propertyResult){
      return propertyResult.getProperty();
    }
  }
);
  return new ModelManagedImplStructSchema<R>(type,properties,aspects,implClass,delegateType,new Function<ModelManagedImplStructSchema<R>,NodeInitializer>(){
    @Override public NodeInitializer apply(    ModelManagedImplStructSchema<R> schema){
      return createNodeInitializer(schema,store);
    }
  }
);
}
