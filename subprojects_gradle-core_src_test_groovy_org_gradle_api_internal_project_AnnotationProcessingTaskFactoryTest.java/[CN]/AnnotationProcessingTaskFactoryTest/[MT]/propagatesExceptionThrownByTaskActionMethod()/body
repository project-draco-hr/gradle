{
  final Runnable action=context.mock(Runnable.class);
  TestTask task=expectTaskCreated(new TestTask(action));
  final RuntimeException failure=new RuntimeException();
  context.checking(new Expectations(){
{
      one(action).run();
      will(throwException(failure));
    }
  }
);
  try {
    task.getActions().get(0).execute(task);
    fail();
  }
 catch (  RuntimeException e) {
    assertThat(e,sameInstance(failure));
  }
}
