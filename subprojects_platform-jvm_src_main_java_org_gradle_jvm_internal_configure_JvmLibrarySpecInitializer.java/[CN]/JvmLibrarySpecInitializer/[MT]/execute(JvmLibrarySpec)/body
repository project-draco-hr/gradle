{
  List<String> targetPlatforms=jvmLibrary.getTargetPlatforms();
  if (targetPlatforms.isEmpty()) {
    targetPlatforms=Collections.singletonList(new DefaultJavaPlatform(JavaVersion.current()).getName());
  }
  List<JavaPlatform> selectedPlatforms=platforms.select(JavaPlatform.class,targetPlatforms);
  for (  JavaPlatform platform : selectedPlatforms) {
    JavaToolChain toolChain=toolChains.getForPlatform(platform);
    BinaryNamingSchemeBuilder componentBuilder=namingSchemeBuilder.withComponentName(jvmLibrary.getName()).withTypeString("jar");
    if (selectedPlatforms.size() > 1) {
      componentBuilder=componentBuilder.withVariantDimension(platform.getName());
    }
    BinaryNamingScheme namingScheme=componentBuilder.build();
    factory.createJarBinaries(jvmLibrary,namingScheme,toolChain,platform);
  }
}
