{
  context.setValidationAction(inputDirValidation);
  if (context.getTarget().getAnnotation(SkipWhenEmpty.class) != null) {
    context.setSkipAction(skipEmptyDirectoryAction);
  }
  context.setConfigureAction(new UpdateAction(){
    public void update(    Task task,    Callable<Object> futureValue){
      task.getInputs().dir(futureValue);
    }
  }
);
}
