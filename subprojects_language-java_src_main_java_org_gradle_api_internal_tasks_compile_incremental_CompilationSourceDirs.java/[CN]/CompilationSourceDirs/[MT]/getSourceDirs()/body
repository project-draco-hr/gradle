{
  List<File> sourceDirs=new LinkedList<File>();
  for (  Object s : source) {
    if (s instanceof File) {
      sourceDirs.add((File)s);
    }
 else     if (s instanceof DirectoryTree) {
      sourceDirs.add(((DirectoryTree)s).getDir());
    }
 else     if (s instanceof SourceDirectorySet) {
      sourceDirs.addAll(((SourceDirectorySet)s).getSrcDirs());
    }
 else {
      throw new UnsupportedOperationException();
    }
  }
  return sourceDirs;
}
