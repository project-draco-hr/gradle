{
  ImmutableList<ModelType<?>> dependencies=ImmutableList.<ModelType<?>>of(ModelType.of(ComponentModelBasePlugin.class));
  ModelType<? extends BaseComponentSpec> implementation=determineImplementationType(type,builder);
  if (implementation != null) {
    ModelAction<?> mutator=new RegistrationAction(type,implementation,ruleDefinition.getDescriptor(),instantiator);
    return new ExtractedModelMutator(ModelActionRole.Defaults,dependencies,mutator);
  }
  return new DependencyOnlyExtractedModelRule(dependencies);
}
