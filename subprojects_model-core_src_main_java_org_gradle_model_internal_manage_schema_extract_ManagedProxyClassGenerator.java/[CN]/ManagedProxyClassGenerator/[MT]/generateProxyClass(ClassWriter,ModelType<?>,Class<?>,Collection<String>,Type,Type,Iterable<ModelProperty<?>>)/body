{
  Class<?> managedTypeClass=managedType.getConcreteClass();
  declareClass(visitor,interfaceInternalNames,generatedType,superclassType);
  declareStateField(visitor);
  declareManagedTypeField(visitor);
  declareCanCallSettersField(visitor);
  writeConstructor(visitor,generatedType,superclassType,delegateTypeClass);
  writeToString(visitor,generatedType,managedTypeClass);
  writeManagedInstanceMethods(visitor,generatedType);
  if (delegateTypeClass != null) {
    declareDelegateField(visitor,delegateTypeClass);
    writeDelegateMethods(visitor,generatedType,delegateTypeClass);
  }
  writeGroovyMethods(visitor,managedTypeClass);
  writeMutationMethods(visitor,generatedType,managedTypeClass,properties);
  writeHashCodeMethod(visitor,generatedType);
  writeEqualsMethod(visitor,generatedType);
  visitor.visitEnd();
}
