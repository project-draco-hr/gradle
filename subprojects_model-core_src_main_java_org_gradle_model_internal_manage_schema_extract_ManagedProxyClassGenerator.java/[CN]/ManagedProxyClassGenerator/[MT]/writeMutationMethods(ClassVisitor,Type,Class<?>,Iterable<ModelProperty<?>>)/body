{
  Set<String> writtenProperties=Sets.newHashSet();
  for (  ModelProperty<?> property : properties) {
    String propertyName=property.getName();
switch (property.getStateManagementType()) {
case MANAGED:
      Class<?> propertyTypeClass=property.getType().getConcreteClass();
    if (!(writtenProperties.contains(propertyName))) {
      writeGetter(visitor,generatedType,propertyName,propertyTypeClass);
      if (property.isWritable()) {
        writeSetter(visitor,generatedType,propertyName,propertyTypeClass);
      }
      writtenProperties.add(propertyName);
    }
  break;
case UNMANAGED:
String getterName=getGetterName(propertyName);
Method getterMethod;
try {
getterMethod=managedTypeClass.getMethod(getterName);
}
 catch (NoSuchMethodException e) {
throw new IllegalStateException("Cannot find getter '" + getterName + "' on type "+ managedTypeClass.getName(),e);
}
if (!Modifier.isFinal(getterMethod.getModifiers()) && !propertyName.equals("metaClass")) {
writeNonAbstractMethodWrapper(visitor,generatedType,managedTypeClass,getterMethod);
}
break;
case DELEGATED:
break;
}
}
}
