{
  this.loggingManagerFactory=loggingManagerFactory;
  this.fileResolver=fileResolver;
  this.artifactPublisherFactory=artifactPublicationServicesFactory.create().createArtifactPublisherFactory();
  getInputs().files(new Callable<FileCollection>(){
    public FileCollection call() throws Exception {
      MavenPublicationInternal publicationInternal=getPublicationInternal();
      return publicationInternal == null ? null : publicationInternal.getPublishableFiles();
    }
  }
);
  dependsOn(new Callable<Buildable>(){
    public Buildable call() throws Exception {
      MavenPublicationInternal publicationInternal=getPublicationInternal();
      return publicationInternal == null ? null : publicationInternal;
    }
  }
);
}
