{
  new PublishOperation(publication,repository){
    @Override protected void publish() throws Exception {
      MavenPublisher antBackedPublisher=new AntTaskBackedMavenPublisher(loggingManagerFactory,getTemporaryDirFactory());
      MavenPublisher staticLockingPublisher=new StaticLockingMavenPublisher(antBackedPublisher);
      staticLockingPublisher.publish(publication.asNormalisedPublication(),repository);
    }
  }
.run();
}
