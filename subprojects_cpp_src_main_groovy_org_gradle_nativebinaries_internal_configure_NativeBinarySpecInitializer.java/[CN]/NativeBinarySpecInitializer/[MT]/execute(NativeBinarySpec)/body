{
  ToolChainInternal tc=(ToolChainInternal)nativeBinary.getToolChain();
  BinaryNamingScheme namingScheme=((NativeBinarySpecInternal)nativeBinary).getNamingScheme();
  File binaryOutputDir=new File(binariesOutputDir,namingScheme.getOutputDirectoryBase());
  String baseName=nativeBinary.getComponent().getBaseName();
  if (nativeBinary instanceof NativeExecutableBinarySpec) {
    ((NativeExecutableBinarySpec)nativeBinary).setExecutableFile(new File(binaryOutputDir,tc.getExecutableName(baseName)));
  }
 else   if (nativeBinary instanceof SharedLibraryBinarySpec) {
    ((SharedLibraryBinarySpec)nativeBinary).setSharedLibraryFile(new File(binaryOutputDir,tc.getSharedLibraryName(baseName)));
    ((SharedLibraryBinarySpec)nativeBinary).setSharedLibraryLinkFile(new File(binaryOutputDir,tc.getSharedLibraryLinkFileName(baseName)));
  }
 else   if (nativeBinary instanceof StaticLibraryBinarySpec) {
    ((StaticLibraryBinarySpec)nativeBinary).setStaticLibraryFile(new File(binaryOutputDir,tc.getStaticLibraryName(baseName)));
  }
}
