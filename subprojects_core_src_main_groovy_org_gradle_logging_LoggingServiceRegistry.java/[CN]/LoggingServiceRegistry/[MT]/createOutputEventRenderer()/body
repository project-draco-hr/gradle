{
  Spec<FileDescriptor> terminalDetector;
  if (detectConsole) {
    StartParameter startParameter=new StartParameter();
    terminalDetector=new TerminalDetector(startParameter.getGradleUserHomeDir());
  }
 else {
    terminalDetector=Specs.satisfyNone();
  }
  return new OutputEventRenderer(terminalDetector).addStandardOutputAndError();
}
