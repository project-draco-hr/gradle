{
  if (input == null) {
    return emptyList();
  }
 else   if (input instanceof Collection) {
    return flatten((Collection)input);
  }
 else   if (input.getClass().isArray()) {
    return flatten(asList((Object[])input));
  }
 else {
    return asList(input);
  }
}
