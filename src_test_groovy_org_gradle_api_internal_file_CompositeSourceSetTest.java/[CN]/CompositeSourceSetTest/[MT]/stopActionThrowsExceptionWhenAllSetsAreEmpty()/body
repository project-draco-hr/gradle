{
  context.checking(new Expectations(){
{
      one(set1).stopActionIfEmpty();
      will(throwException(new StopActionException()));
      one(set2).stopActionIfEmpty();
      will(throwException(new StopActionException()));
    }
  }
);
  try {
    set.stopActionIfEmpty();
    fail();
  }
 catch (  StopActionException e) {
    assertThat(e.getMessage(),equalTo("No source files to operate on."));
  }
}
