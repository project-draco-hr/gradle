{
  Document document=DocumentFactory.getInstance().createDocument();
  EclipseUtil.addFacet(document,"fixed",new DefaultAttribute("facet","jst.java"));
  EclipseUtil.addFacet(document,"fixed",new DefaultAttribute("facet","jst.utility"));
  EclipseUtil.addFacet(document,"installed",new DefaultAttribute("facet","jst.java"),new DefaultAttribute("version","5.0"));
  EclipseUtil.addFacet(document,"installed",new DefaultAttribute("facet","jst.utility"),new DefaultAttribute("version","1.0"));
  try {
    File facetFile=project.file(".settings/org.eclipse.wst.common.project.facet.core.xml");
    if (facetFile.exists()) {
      facetFile.delete();
    }
    if (!facetFile.getParentFile().exists()) {
      facetFile.getParentFile().mkdirs();
    }
    XMLWriter writer=new XMLWriter(new FileWriter(facetFile),OutputFormat.createPrettyPrint());
    writer.write(document);
    writer.close();
  }
 catch (  IOException e) {
    throw new GradleException("Problem when writing Eclipse project file.",e);
  }
}
