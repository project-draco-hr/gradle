{
  final Set<Long> uniqueStoppedPids=new HashSet<Long>(stopEvents.size());
  final List<DaemonStopEvent> recentStopEvents=new ArrayList<DaemonStopEvent>(stopEvents.size());
  final List<DaemonStopEvent> stopEventsCopy=new ArrayList<DaemonStopEvent>(stopEvents);
  Collections.sort(stopEventsCopy);
  for (  DaemonStopEvent event : stopEventsCopy) {
    if (event.occurredInLastHours(1) && !uniqueStoppedPids.contains(event.getPid())) {
      uniqueStoppedPids.add(event.getPid());
      recentStopEvents.add(event);
    }
  }
  return recentStopEvents;
}
