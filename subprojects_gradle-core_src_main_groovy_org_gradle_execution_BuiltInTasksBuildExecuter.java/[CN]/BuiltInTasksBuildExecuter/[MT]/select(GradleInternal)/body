{
  this.gradle=gradle;
  ITaskFactory taskFactory=gradle.getServiceRegistryFactory().get(ITaskFactory.class);
  Map<String,Object> args=new HashMap<String,Object>();
  args.put(Task.TASK_NAME,"report");
  args.put(Task.TASK_TYPE,options.getTaskType());
  task=(AbstractReportTask)taskFactory.createTask(gradle.getDefaultProject(),args);
  task.setProjects(getProjectsForReport(path));
}
