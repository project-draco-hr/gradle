{
  GroovyCompile compileTest=project.getTasks().replace(COMPILE_TEST_TASK_NAME,GroovyCompile.class);
  javaPlugin.configureForSourceSet(TEST_SOURCE_SET_NAME,compileTest);
  compileTest.setGroovyClasspath(project.getConfigurations().getByName(GROOVY_CONFIGURATION_NAME));
  compileTest.setDescription("Compiles the Java and Groovy test source code.");
  compileTest.conventionMapping("groovySourceDirs",new ConventionValue(){
    public Object getValue(    Convention convention,    IConventionAware conventionAwareObject){
      return groovy(convention).getGroovyTestSrcDirs();
    }
  }
);
}
