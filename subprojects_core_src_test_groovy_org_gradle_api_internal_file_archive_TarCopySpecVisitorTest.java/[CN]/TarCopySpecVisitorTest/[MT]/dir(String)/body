{
  final FileVisitDetails details=context.mock(FileVisitDetails.class,path);
  context.checking(new Expectations(){
{
      allowing(details).getRelativePath();
      will(returnValue(RelativePath.parse(false,path)));
      allowing(details).getLastModified();
      will(returnValue(1000L));
      allowing(details).isDirectory();
      will(returnValue(true));
      allowing(details).getMode();
      will(returnValue(2));
    }
  }
);
  return details;
}
