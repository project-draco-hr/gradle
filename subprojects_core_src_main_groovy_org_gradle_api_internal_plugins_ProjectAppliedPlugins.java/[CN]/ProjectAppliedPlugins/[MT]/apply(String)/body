{
  Class<?> pluginClass=pluginRegistry.getTypeForId(pluginId);
  if (Plugin.class.isAssignableFrom(pluginClass)) {
    @SuppressWarnings("unchecked") Class<? extends Plugin<?>> pluginImplementingClass=(Class<? extends Plugin<?>>)pluginClass;
    target.getPlugins().apply(pluginImplementingClass);
  }
 else {
    extractModelRules(pluginClass);
  }
}
