{
  final ResolveReport resolveReport=context.mock(ResolveReport.class);
  context.checking(new Expectations(){
{
      one(ivyServiceStub).resolveAsReport(configuration,dependencyMetaDataProvider.getModule(),dependencyMetaDataProvider.getGradleUserHomeDir(),dependencyMetaDataProvider.getClientModuleRegistry());
      will(returnValue(resolveReport));
      allowing(resolveReport).hasError();
      will(returnValue(false));
    }
  }
);
  assertThat(configuration.resolveAsReport(),sameInstance(configuration.resolveAsReport()));
}
