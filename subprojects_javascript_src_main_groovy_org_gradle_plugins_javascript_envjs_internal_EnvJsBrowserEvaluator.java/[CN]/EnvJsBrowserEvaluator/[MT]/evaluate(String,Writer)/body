{
  EnvJvEvaluateProtocol evaluator=rhinoWorkerHandleFactory.create(rhinoClasspath,EnvJvEvaluateProtocol.class,EnvJsEvaluateWorker.class,logLevel,new Action<JavaExecSpec>(){
    public void execute(    JavaExecSpec javaExecSpec){
      javaExecSpec.setWorkingDir(workingDir);
    }
  }
);
  final String result=evaluator.process(new EnvJsEvaluateSpec(envJsFactory.create(),url));
  try {
    IOUtils.copy(new StringReader(result),writer);
  }
 catch (  IOException e) {
    throw new UncheckedIOException(e);
  }
}
