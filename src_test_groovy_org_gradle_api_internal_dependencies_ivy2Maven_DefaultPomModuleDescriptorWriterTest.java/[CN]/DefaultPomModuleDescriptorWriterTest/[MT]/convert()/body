{
  StringWriter stringWriter=new StringWriter();
  final PrintWriter testPrintWriter=new PrintWriter(stringWriter);
  final ModuleDescriptor testMd=DefaultModuleDescriptor.newDefaultInstance(ModuleRevisionId.newInstance("org","name","revision"));
  final String testLicenseText="licenseText";
  final String testPackaging="somePackaging";
  context.checking(new Expectations(){
{
      one(headerWriterMock).convert(testLicenseText,testPrintWriter);
      one(moduleIdWriterMock).convert(testMd,testPackaging,testPrintWriter);
      one(dependenciesWriterMock).convert(with(same(testMd)),with(equal(pomModuleDescriptorWriter.isSkipDependenciesWithUnmappedConfiguration())),with(same(conf2ScopeMappingContainerMock)),with(same(testPrintWriter)));
    }
  }
);
  pomModuleDescriptorWriter.convert(testMd,testPackaging,testLicenseText,conf2ScopeMappingContainerMock,testPrintWriter);
  assertEquals(String.format("</" + PomModuleDescriptorWriter.ROOT_ELEMENT_NAME + ">%n"),stringWriter.toString());
}
