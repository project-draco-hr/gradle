{
  final TestFile tarFile=initializeTarFile(tmpDir.createDir("test.tar"),new SimpleCompressor());
  try {
    action.execute(new CopyActionProcessingStream(){
      public void process(      Action<? super FileCopyDetailsInternal> action){
      }
    }
);
    fail();
  }
 catch (  GradleException e) {
    assertThat(e.getMessage(),equalTo(String.format("Could not create TAR '%s'.",tarFile)));
  }
}
