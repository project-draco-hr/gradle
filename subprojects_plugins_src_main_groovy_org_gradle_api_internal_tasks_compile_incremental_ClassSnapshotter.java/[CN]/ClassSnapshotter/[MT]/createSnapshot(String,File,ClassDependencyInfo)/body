{
  boolean dependentToAll;
  try {
    dependentToAll=analyzer.getClassAnalysis(className,classFile).isDependencyToAll();
  }
 catch (  IOException e) {
    throw new RuntimeException("Problems creating jar snapshot.",e);
  }
  byte[] hash=hasher.hash(classFile);
  if (dependentToAll) {
    return new ClassSnapshot(hash);
  }
 else {
    DependentsSet dependents=parentDependencyInfo.getRelevantDependents(className);
    return new ClassSnapshot(hash,dependents);
  }
}
