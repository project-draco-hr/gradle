{
  try {
synchronized (lock) {
      while (currentTrigger == null) {
        lock.wait();
      }
      TriggerDetails lastReason=currentTrigger;
      currentTrigger=null;
      return lastReason;
    }
  }
 catch (  InterruptedException e) {
    UncheckedException.throwAsUncheckedException(e);
    return null;
  }
}
