{
  String protocol=artifactRepository.getUrl().getScheme().toLowerCase();
  if (protocols.contains(protocol)) {
    try {
      RepositoryTransportDeployWagon wagon=(RepositoryTransportDeployWagon)wagonManager().getWagon(protocol);
      wagon.createDelegate(protocol,artifactRepository,repositoryTransportFactory);
    }
 catch (    UnsupportedProtocolException e) {
      throwWagonException("Failed to configure wagon for the protocol:" + protocol,e);
    }
  }
}
