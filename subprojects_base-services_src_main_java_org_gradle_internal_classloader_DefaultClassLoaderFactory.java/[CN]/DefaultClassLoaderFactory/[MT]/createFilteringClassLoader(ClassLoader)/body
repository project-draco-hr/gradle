{
  FilteringClassLoader classLoader=new FilteringClassLoader(parent);
  if (needJaxpImpl()) {
    makeServiceVisible(systemClassLoaderServiceLocator,classLoader,SAXParserFactory.class);
    makeServiceVisible(systemClassLoaderServiceLocator,classLoader,DocumentBuilderFactory.class);
    makeServiceVisible(systemClassLoaderServiceLocator,classLoader,DatatypeFactory.class);
  }
  return classLoader;
}
