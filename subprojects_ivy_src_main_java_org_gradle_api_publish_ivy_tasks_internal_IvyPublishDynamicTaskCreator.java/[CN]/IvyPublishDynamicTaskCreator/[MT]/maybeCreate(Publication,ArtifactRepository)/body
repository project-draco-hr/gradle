{
  if (!(publication instanceof IvyPublicationInternal)) {
    return;
  }
  if (!(repository instanceof IvyArtifactRepositoryInternal)) {
    return;
  }
  IvyPublicationInternal publicationInternal=(IvyPublicationInternal)publication;
  IvyArtifactRepositoryInternal repositoryInternal=(IvyArtifactRepositoryInternal)repository;
  String taskName=taskNamer.name(publication.getName(),repository.getName());
  IvyRepositoryPublish task=tasks.add(taskName,IvyRepositoryPublish.class);
  task.setPublication(publicationInternal);
  task.setRepository(repositoryInternal);
  task.setGroup("publishing");
  task.setDescription(String.format("Publishes Ivy publication %s to Ivy repository %s",publication.getName(),repository.getName()));
}
