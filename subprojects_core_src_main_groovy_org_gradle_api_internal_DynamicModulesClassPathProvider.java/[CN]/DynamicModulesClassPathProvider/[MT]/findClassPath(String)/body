{
  if (name.equals("GRADLE_PLUGINS")) {
    ClassPath classpath=new DefaultClassPath();
    for (    Module pluginModule : pluginModuleRegistry.getPluginModules()) {
      classpath=classpath.plus(pluginModule.getClasspath());
    }
    return classpath;
  }
  if (name.equals("GRADLE_CORE_IMPL")) {
    Set<Module> coreModules=moduleRegistry.getModule("gradle-core").getAllRequiredModules();
    ClassPath classpath=new DefaultClassPath();
    for (    String moduleName : Arrays.asList("gradle-core-impl","gradle-plugin-use")) {
      for (      Module module : moduleRegistry.getModule(moduleName).getAllRequiredModules()) {
        if (!coreModules.contains(module)) {
          classpath=classpath.plus(module.getClasspath());
        }
      }
    }
    return classpath;
  }
  return null;
}
