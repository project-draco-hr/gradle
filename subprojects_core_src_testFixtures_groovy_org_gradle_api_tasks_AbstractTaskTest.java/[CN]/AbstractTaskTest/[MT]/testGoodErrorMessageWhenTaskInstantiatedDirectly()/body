{
  try {
    instantiator.newInstance(getTask().getClass());
    throw new RuntimeException("Direct instantiation of " + getTask().getClass() + " should have produced an exception");
  }
 catch (  ObjectInstantiationException e) {
    Throwable cause=e.getCause();
    assertEquals(TaskInstantiationException.class,cause.getClass());
    assertThat(cause.getMessage(),containsString("has been instantiated directly which is not supported"));
  }
}
