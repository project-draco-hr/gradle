{
  ReadableResource res;
  if (tarPath instanceof ReadableResource) {
    res=(ReadableResource)tarPath;
  }
 else {
    res=new MaybeCompressedFileResource(file(tarPath));
  }
  TarFileTree tarTree=new TarFileTree(res,getExpandDir());
  return new FileTreeAdapter(tarTree);
}
