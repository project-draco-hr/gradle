{
  final TestListener listener1=context.mock(TestListener.class);
  final TestListener listener2=context.mock(TestListener.class);
  final TestListener listener3=context.mock(TestListener.class);
  final RuntimeException failure=new RuntimeException();
  context.checking(new Expectations(){
{
      one(listener1).event1("param");
      will(throwException(failure));
      one(listener2).event1("param");
      will(throwException(new RuntimeException()));
      one(listener3).event1("param");
    }
  }
);
  broadcast.add(listener1);
  broadcast.add(listener2);
  broadcast.add(listener3);
  try {
    broadcast.getSource().event1("param");
    fail();
  }
 catch (  ListenerNotificationException e) {
    assertThat(e.getCause(),sameInstance((Throwable)failure));
  }
}
