{
  final DependencyManager dependencyManagerMock=context.mock(DependencyManager.class);
  Map resolver1=WrapUtil.toMap("name",RESOLVER_NAME_1);
  resolver1.put("url","http://www.url1.com");
  Map resolver2=WrapUtil.toMap("name",RESOLVER_NAME_2);
  resolver2.put("url","http://www.url2.com");
  final List<String> expectedConfigurations=WrapUtil.toList("conf1");
  upload.setConfigurations(expectedConfigurations);
  upload.setProject(HelperUtil.createRootProject(projectRootDir));
  ((AbstractProject)upload.getProject()).setDependencies(dependencyManagerMock);
  context.checking(new Expectations(){
{
      one(dependencyManagerMock).publish(expectedConfigurations,upload.getUploadResolvers(),false);
    }
  }
);
  upload.execute();
}
