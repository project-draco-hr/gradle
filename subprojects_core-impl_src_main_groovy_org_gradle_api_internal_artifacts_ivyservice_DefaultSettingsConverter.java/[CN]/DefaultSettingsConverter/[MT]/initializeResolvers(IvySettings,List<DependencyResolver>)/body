{
  for (  DependencyResolver dependencyResolver : allResolvers) {
    ivySettings.addResolver(dependencyResolver);
    RepositoryCacheManager existingCacheManager=dependencyResolver.getRepositoryCacheManager();
    if (!(existingCacheManager instanceof NoOpRepositoryCacheManager) && !(existingCacheManager instanceof LocalFileRepositoryCacheManager)) {
      String resolverId=new WharfResolverMetadata(dependencyResolver).getId();
      RemoteFileRepositoryCacheManager cacheManager=new RemoteFileRepositoryCacheManager("cache-" + dependencyResolver.getName(),new File(ivySettings.getDefaultCache(),resolverId));
      cacheManager.setSettings(ivySettings);
      ((AbstractResolver)dependencyResolver).setRepositoryCacheManager(cacheManager);
    }
    attachListener(dependencyResolver);
  }
}
