{
  if (resolveSettings == null) {
    resolveSettings=settingsFactory.create();
    userResolverChain=createUserResolverChain();
    LoopbackDependencyResolver loopbackDependencyResolver=new LoopbackDependencyResolver(LOOPBACK_RESOLVER_NAME,userResolverChain,cacheLockingManager);
    resolveSettings.addResolver(loopbackDependencyResolver);
    resolveSettings.setDefaultResolver(LOOPBACK_RESOLVER_NAME);
  }
  moduleDescriptorCache.setSettings(resolveSettings);
  userResolverChain.setCachePolicy(resolutionStrategy.getCachePolicy());
  replaceResolvers(dependencyResolvers,userResolverChain);
  return resolveSettings;
}
