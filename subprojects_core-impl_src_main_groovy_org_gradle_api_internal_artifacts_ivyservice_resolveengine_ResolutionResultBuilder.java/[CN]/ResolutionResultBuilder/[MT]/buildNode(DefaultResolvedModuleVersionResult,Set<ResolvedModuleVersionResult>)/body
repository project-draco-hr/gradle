{
  if (!visited.add(node)) {
    return node;
  }
  Set<DependencyResult> theDeps=deps.get(node.getId());
  for (  DependencyResult d : theDeps) {
    if (d instanceof DefaultResolvedDependencyResult) {
      DefaultResolvedModuleVersionResult selected=((DefaultResolvedDependencyResult)d).getSelected();
      buildNode(selected,visited);
      selected.addDependee(node);
    }
    node.addDependency(d);
  }
  return node;
}
