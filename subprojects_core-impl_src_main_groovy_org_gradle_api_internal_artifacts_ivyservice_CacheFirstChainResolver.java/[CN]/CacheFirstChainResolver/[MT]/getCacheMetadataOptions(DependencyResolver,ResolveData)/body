{
  if (resolver instanceof AbstractResolver) {
    try {
      Method method=AbstractResolver.class.getDeclaredMethod("getCacheOptions",ResolveData.class);
      method.setAccessible(true);
      return (CacheMetadataOptions)method.invoke(resolver,resolveData);
    }
 catch (    Exception e) {
      throw new GradleException("Could not get cache options from AbstractResolver",e);
    }
  }
  return new CacheMetadataOptions();
}
