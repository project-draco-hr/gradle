{
  testFile("settings.gradle").writelns("include 'child'");
  testFile("build.gradle").writelns("def rootMethod(p) { 'root' + p }","def sharedMethod(p) { 'ignore me' }","convention.plugins.test = new " + ConventionBean.class.getName() + "()","task rootTask","task testTask");
  testFile("child/build.gradle").writelns("def childMethod(p) { 'child' + p }","def sharedMethod(p) { 'shared' + p }","task testTask << {",DynamicObjectIntegrationTestHelper.class.getName() + ".reportMethods(project)","}");
  inTestDirectory().withTasks("testTask").run();
  assertThat(result,equalTo("rootMethod,childMethod,sharedMethod,conventionMethod,task ':child:testTask'"));
}
