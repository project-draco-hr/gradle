{
  testFile("settings.gradle").writelns("include 'child'");
  testFile("build.gradle").writelns("rootProperty = 'root'","sharedProperty = 'ignore me'","convention.plugins.test = new " + ConventionBean.class.getName() + "()","createTask('rootTask')","createTask('testTask')");
  testFile("child/build.gradle").writelns("childProperty = 'child'","sharedProperty = 'shared'","createTask('testTask') {",DynamicObjectIntegrationTestHelper.class.getName() + ".reportProperties(project)","}");
  inTestDirectory().runTasks("testTask");
  assertThat(result,equalTo("root,child,shared,convention,task ':child:testTask'"));
}
