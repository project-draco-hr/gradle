{
  final Project project=context.mock(Project.class,"[project]_" + name + '_'+ uniqueNameCounter++);
  context.checking(new Expectations(){
{
      allowing(project).getName();
      will(returnValue(name));
      allowing(project).getDescription();
      will(returnValue(null));
      allowing(project).getBuildFile();
      will(returnValue(new File(buildFilePath)));
      allowing(project).getDepth();
      will(returnValue(depth));
    }
  }
);
  attachSubProjects(context,project,subProjectArray);
  attachTasks(context,project,tasks);
  assignDefaultTasks(context,project,defaultTasks);
  assignDependsOnProjects(context,project,dependsOnProjects);
  return project;
}
