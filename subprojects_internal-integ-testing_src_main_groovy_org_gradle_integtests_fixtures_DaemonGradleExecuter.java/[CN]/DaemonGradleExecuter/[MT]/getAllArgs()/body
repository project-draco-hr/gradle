{
  List<String> originalArgs=super.getAllArgs();
  List<String> args=new ArrayList<String>();
  args.add("--daemon");
  args.add("-Dorg.gradle.daemon.idletimeout=" + (5 * 60 * 1000));
  String customDaemonRegistryDir=System.getProperty(DAEMON_REGISTRY_SYS_PROP);
  if (customDaemonRegistryDir != null && !distribution.isUsingIsolatedDaemons()) {
    args.add("-Dorg.gradle.daemon.registry.base=" + customDaemonRegistryDir);
  }
  args.addAll(originalArgs);
  if (!args.remove("-Dorg.gradle.jvmargs=")) {
    args.add(0,"-Dorg.gradle.jvmargs=-ea -XX:MaxPermSize=256m");
  }
  return args;
}
