{
  logger.debug("Parsing Script:\n{}",scriptText);
  Clock clock=new Clock();
  CompilerConfiguration configuration=createBaseCompilerConfiguration(scriptBaseClass);
  GroovyShell groovyShell=new GroovyShell(classLoader,new Binding(),configuration);
  Script script;
  try {
    script=groovyShell.parse(scriptText == null ? "" : scriptText,scriptName);
  }
 catch (  CompilationFailedException e) {
    throw new GradleException(e);
  }
  if (!scriptBaseClass.isInstance(script)) {
    return new EmptyScript();
  }
  logger.debug("Timing: Creating script took: {}",clock.getTime());
  return script;
}
