{
  GroovyClassLoader groovyClassLoader=new GroovyClassLoader(classLoader,configuration,false);
  String scriptText=source.getText();
  String scriptName=source.getClassName();
  Class scriptClass;
  try {
    scriptClass=groovyClassLoader.parseClass(scriptText == null ? "" : scriptText,scriptName);
  }
 catch (  MultipleCompilationErrorsException e) {
    throw new GradleScriptException(String.format("Could not compile %s.",source.getDisplayName()),e,source,e.getErrorCollector().getSyntaxError(0).getLine());
  }
catch (  CompilationFailedException e) {
    throw new GradleException(String.format("Could not compile %s.",source.getDisplayName()),e);
  }
  return scriptClass;
}
