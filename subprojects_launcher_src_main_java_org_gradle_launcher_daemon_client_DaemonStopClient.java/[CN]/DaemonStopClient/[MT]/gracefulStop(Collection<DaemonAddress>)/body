{
  for (  DaemonAddress address : addresses) {
    DaemonClientConnection connection=connector.maybeConnect(address);
    if (connection == null) {
      continue;
    }
    try {
      stopDispatcher.dispatch(connection,new StopWhenIdle(idGenerator.generateId()));
      LOGGER.lifecycle("Gradle daemon stopped.");
    }
  finally {
      connection.stop();
    }
  }
}
