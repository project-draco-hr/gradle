{
  Spec<CharSequence> spec=new Spec<CharSequence>(){
    public boolean isSatisfiedBy(    CharSequence element){
      return !element.equals("b");
    }
  }
;
  Spec<String> spec2=new Spec<String>(){
    public boolean isSatisfiedBy(    String element){
      return !element.equals("c");
    }
  }
;
  container.addObject("a");
  container.addObject("b");
  container.addObject("c");
  container.addObject(new StringBuffer("d"));
  DomainObjectCollection<String> collection=container.matching(spec).withType(String.class).matching(spec2);
  assertThat(collection.getAll(),equalTo(toSet("a")));
}
