{
  assertThat(classFiles,instanceOf(CompositeFileTree.class));
  CompositeFileTree files=(CompositeFileTree)classFiles;
  DefaultFileCollectionResolveContext context=new DefaultFileCollectionResolveContext();
  files.resolve(context);
  List<? extends FileTree> contents=context.resolveAsFileTrees();
  FileTreeAdapter adapter=(FileTreeAdapter)contents.get(0);
  assertThat(adapter.getTree(),instanceOf(DirectoryFileTree.class));
  DirectoryFileTree directoryFileTree=(DirectoryFileTree)adapter.getTree();
  assertThat(directoryFileTree.getRoot(),equalTo(classesDir));
  assertThat(directoryFileTree.getPatternSet().getIncludes(),equalTo(includes));
  assertThat(directoryFileTree.getPatternSet().getExcludes(),equalTo(excludes));
}
