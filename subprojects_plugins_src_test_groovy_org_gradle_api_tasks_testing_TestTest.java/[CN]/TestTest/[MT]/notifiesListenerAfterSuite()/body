{
  final TestClosure closure=context.mock(TestClosure.class);
  test.afterSuite(TestUtil.toClosure(closure));
  final TestDescriptor testDescriptor=context.mock(TestDescriptor.class);
  final TestResult result=context.mock(TestResult.class);
  context.checking(new Expectations(){
{
      one(closure).call(testDescriptor);
    }
  }
);
  test.getTestListenerBroadcaster().getSource().afterSuite(testDescriptor,result);
}
