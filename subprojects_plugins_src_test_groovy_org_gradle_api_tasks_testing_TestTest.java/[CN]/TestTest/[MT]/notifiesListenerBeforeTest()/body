{
  final TestClosure closure=context.mock(TestClosure.class);
  test.beforeTest(TestUtil.toClosure(closure));
  final TestDescriptor testDescriptor=context.mock(TestDescriptor.class);
  context.checking(new Expectations(){
{
      one(closure).call(testDescriptor);
    }
  }
);
  test.getTestListenerBroadcaster().getSource().beforeTest(testDescriptor);
}
