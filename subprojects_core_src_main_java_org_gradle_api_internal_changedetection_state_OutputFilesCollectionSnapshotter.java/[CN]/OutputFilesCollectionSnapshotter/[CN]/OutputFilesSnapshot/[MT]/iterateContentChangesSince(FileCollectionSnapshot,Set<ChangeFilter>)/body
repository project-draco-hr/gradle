{
  final OutputFilesSnapshot other=(OutputFilesSnapshot)oldSnapshot;
  final ChangeIterator<String> rootFileIdIterator=iterateRootFileIdChanges(other);
  final ChangeIterator<String> fileIterator=filesSnapshot.iterateContentChangesSince(other.filesSnapshot,filters);
  return new ChangeIterator<String>(){
    public boolean next(    final ChangeListener<String> listener){
      if (rootFileIdIterator.next(listener)) {
        return true;
      }
      if (fileIterator.next(listener)) {
        return true;
      }
      return false;
    }
  }
;
}
