{
  Hasher hasher=FileTreeElementHasher.createHasher();
  StringHasher stringHasher=new StringHasher(hasher);
  hasher.putInt(delegate.getHash());
  SortedMap<String,Boolean> sortedRoots=new TreeMap<String,Boolean>(roots);
  for (  Map.Entry<String,Boolean> entry : sortedRoots.entrySet()) {
    stringHasher.hashString(entry.getKey());
    hasher.putBoolean(entry.getValue());
  }
  return hasher.hash().asInt();
}
