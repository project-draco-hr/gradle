{
  BufferedStreamingHasher hasher=new BufferedStreamingHasher();
  Encoder encoder=hasher.getEncoder();
  try {
    encoder.writeInt(delegate.getHash());
    SortedMap<String,Boolean> sortedRoots=new TreeMap<String,Boolean>(roots);
    for (    Map.Entry<String,Boolean> entry : sortedRoots.entrySet()) {
      encoder.writeString(entry.getKey());
      encoder.writeBoolean(entry.getValue());
    }
    return hasher.checksum();
  }
 catch (  IOException e) {
    throw UncheckedException.throwAsUncheckedException(e);
  }
}
