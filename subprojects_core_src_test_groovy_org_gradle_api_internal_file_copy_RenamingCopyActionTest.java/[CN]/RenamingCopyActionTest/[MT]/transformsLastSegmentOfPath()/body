{
  context.checking(new Expectations(){
{
      allowing(details).getRelativePath();
      will(returnValue(new RelativePath(true,"a","b")));
      oneOf(transformer).transform("b");
      will(returnValue("c"));
      oneOf(details).setRelativePath(new RelativePath(true,"a","c"));
    }
  }
);
  action.execute(details);
}
