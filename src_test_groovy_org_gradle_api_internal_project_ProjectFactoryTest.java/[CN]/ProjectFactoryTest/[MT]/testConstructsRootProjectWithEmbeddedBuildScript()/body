{
  ScriptSource expectedScriptSource=context.mock(ScriptSource.class);
  ProjectFactory projectFactory=new ProjectFactory(taskFactoryMock,dependencyManagerFactoryMock,buildScriptProcessor,pluginRegistry,"build.gradle",projectRegistry,expectedScriptSource);
  DefaultProject project=projectFactory.createProject("somename",null,rootDir,projectDir,buildScriptClassLoader);
  assertEquals("somename",project.getName());
  assertEquals("build.gradle",project.getBuildFileName());
  assertSame(rootDir,project.getRootDir());
  assertSame(projectDir,project.getProjectDir());
  assertNull(project.getParent());
  assertSame(project,project.getRootProject());
  checkProjectResources(project);
  assertSame(project.getBuildScriptSource(),expectedScriptSource);
}
