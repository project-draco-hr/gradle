{
  DefaultProject project=projectFactory.createProject("somename",null,rootDir,buildScriptClassLoader);
  assertEquals("somename",project.getName());
  assertEquals("build.gradle",project.getBuildFileName());
  assertNull(project.getParent());
  assertSame(rootDir,project.getRootDir());
  assertSame(rootDir,project.getProjectDir());
  assertSame(project,project.getRootProject());
  assertSame(antBuilderFactory,project.getAntBuilderFactory());
  assertThat(project.getBuild(),notNullValue());
  assertThat(project.getBuild().getRootProject(),sameInstance((Project)project));
  assertThat(project.getBuild().getTaskGraph(),sameInstance((TaskExecutionGraph)taskGraph));
  checkProjectResources(project);
  ScriptSource expectedScriptSource=new FileScriptSource("build file",new File(rootDir,"build.gradle"));
  assertThat(project.getBuildScriptSource(),reflectionEquals(expectedScriptSource));
}
