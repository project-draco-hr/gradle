{
  try {
    while (!stopping || !cacheEntries.isEmpty()) {
      Cleanup entry=(Cleanup)referenceQueue.remove();
      String key=entry.getKey();
      lock.writeLock().lock();
      try {
        cacheEntries.remove(key);
        cleanups.remove(key);
        entry.cleanup();
        entry.clear();
      }
  finally {
        lock.writeLock().unlock();
      }
    }
  }
 catch (  InterruptedException ex) {
    LOG.debug("Shutdown of classloader cache in progress");
  }
}
