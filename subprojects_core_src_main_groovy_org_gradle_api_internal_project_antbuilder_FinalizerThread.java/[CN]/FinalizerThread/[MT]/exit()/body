{
  lock.writeLock().lock();
  try {
    stopped=true;
    interrupt();
    while (!cleanups.isEmpty()) {
      Map.Entry<ClassPath,Cleanup> entry=cleanups.entrySet().iterator().next();
      removeCacheEntry(entry.getKey(),entry.getValue());
    }
    LOG.debug("Completed shutdown");
  }
  finally {
    lock.writeLock().unlock();
  }
}
