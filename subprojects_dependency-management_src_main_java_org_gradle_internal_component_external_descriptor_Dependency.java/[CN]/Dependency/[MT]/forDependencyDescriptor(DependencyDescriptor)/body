{
  Dependency dep=new Dependency(DefaultModuleVersionSelector.newSelector(dependencyDescriptor.getDependencyRevisionId()),dependencyDescriptor.getDynamicConstraintDependencyRevisionId().getRevision(),false,dependencyDescriptor.isChanging(),dependencyDescriptor.isTransitive());
  Map<String,List<String>> configMappings=readConfigMappings(dependencyDescriptor);
  for (  String from : configMappings.keySet()) {
    for (    String to : configMappings.get(from)) {
      dep.addConfMapping(from,to);
    }
  }
  for (  DependencyArtifactDescriptor dependencyArtifactDescriptor : dependencyDescriptor.getAllDependencyArtifacts()) {
    IvyArtifactName ivyArtifactName=DefaultIvyArtifactName.forIvyArtifact(dependencyArtifactDescriptor);
    dep.addArtifact(ivyArtifactName,Sets.newHashSet(dependencyArtifactDescriptor.getConfigurations()));
  }
  dep.dependencyExcludes.addAll(DefaultExcludeRule.forIvyExcludes(dependencyDescriptor.getAllExcludeRules()));
  return dep;
}
