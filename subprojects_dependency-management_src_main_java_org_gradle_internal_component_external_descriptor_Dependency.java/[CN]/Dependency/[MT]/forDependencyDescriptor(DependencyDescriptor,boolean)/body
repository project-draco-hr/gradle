{
  Dependency dep=new Dependency(DefaultModuleVersionSelector.newSelector(dependencyDescriptor.getDependencyRevisionId()),dependencyDescriptor.getDynamicConstraintDependencyRevisionId().getRevision(),force,dependencyDescriptor.isChanging(),dependencyDescriptor.isTransitive());
  Map<String,List<String>> configMappings=readConfigMappings(dependencyDescriptor);
  for (  String from : configMappings.keySet()) {
    for (    String to : configMappings.get(from)) {
      dep.addConfMapping(from,to);
    }
  }
  for (  DependencyArtifactDescriptor dependencyArtifactDescriptor : dependencyDescriptor.getAllDependencyArtifacts()) {
    IvyArtifactName ivyArtifactName=DefaultIvyArtifactName.forIvyArtifact(dependencyArtifactDescriptor);
    dep.addArtifact(ivyArtifactName,Sets.newHashSet(dependencyArtifactDescriptor.getConfigurations()));
  }
  for (  ExcludeRule excludeRule : dependencyDescriptor.getAllExcludeRules()) {
    dep.addExcludeRule(excludeRule);
  }
  return dep;
}
