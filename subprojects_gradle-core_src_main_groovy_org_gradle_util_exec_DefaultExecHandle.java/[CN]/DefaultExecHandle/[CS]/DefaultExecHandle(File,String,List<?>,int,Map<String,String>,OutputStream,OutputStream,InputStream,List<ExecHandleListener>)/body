{
  this.directory=directory;
  this.command=command;
  this.arguments=new ArrayList<String>();
  for (  Object objectArgument : arguments) {
    if (objectArgument != null) {
      this.arguments.add(objectArgument.toString());
    }
  }
  this.normalTerminationExitCode=normalTerminationExitCode;
  this.environment=environment;
  this.standardOutput=standardOutput;
  this.errorOutput=errorOutput;
  this.standardInput=standardInput;
  this.lock=new ReentrantLock();
  this.stateChange=lock.newCondition();
  this.state=ExecHandleState.INIT;
  threadPool=Executors.newCachedThreadPool();
  shutdownHookAction=new ExecHandleShutdownHookAction(this);
  broadcast=new AsyncListenerBroadcast<ExecHandleListener>(ExecHandleListener.class,threadPool);
  if (listeners != null) {
    broadcast.addAll(listeners);
  }
}
