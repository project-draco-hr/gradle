{
  T state=createState(test,event);
  T oldState=executing.put(test.getId(),state);
  if (oldState != null) {
    throw new IllegalArgumentException(String.format("Received a start event for %s with duplicate id '%s'.",test,test.getId()));
  }
  if (event.getParentId() != null) {
    T parentState=executing.get(event.getParentId());
    test.setParent(parentState.test);
  }
  started(state);
}
