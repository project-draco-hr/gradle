{
  SetMultimap<TaskExecutionRequest,Task> out=LinkedHashMultimap.create();
  List<TaskExecutionRequest> remainingPaths=new LinkedList<TaskExecutionRequest>(taskParameters);
  while (!remainingPaths.isEmpty()) {
    TaskExecutionRequest path=remainingPaths.remove(0);
    TaskSelector.TaskSelection selection=taskSelector.getSelection(path);
    Set<Task> tasks=selection.getTasks();
    remainingPaths=taskConfigurer.configureTasks(tasks,remainingPaths);
    out.putAll(path,tasks);
  }
  return out;
}
