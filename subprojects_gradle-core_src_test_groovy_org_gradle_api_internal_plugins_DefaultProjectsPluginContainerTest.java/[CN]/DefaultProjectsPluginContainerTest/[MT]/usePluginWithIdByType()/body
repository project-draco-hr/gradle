{
  Class<? extends Plugin> type=pluginWithIdMock.getClass();
  Plugin addedPlugin=projectsPluginHandler.usePlugin(type);
  assertThat(pluginWithIdMock,sameInstance(addedPlugin));
  assertThat(projectsPluginHandler.usePlugin(type),sameInstance(addedPlugin));
  assertThat(projectsPluginHandler.usePlugin(pluginId),sameInstance(addedPlugin));
  assertThat(projectsPluginHandler.findPlugin(type),sameInstance(addedPlugin));
  assertThat(projectsPluginHandler.findPlugin(pluginId),sameInstance(addedPlugin));
}
