{
  try {
    ComponentDescriptor componentDescriptor=new ComponentDescriptor();
    componentDescriptor.setRole(Wagon.ROLE);
    componentDescriptor.setRoleHint(protocol);
    componentDescriptor.setImplementation(RepositoryTransportDeployWagon.class.getCanonicalName());
    plexusContainer.addComponentDescriptor(componentDescriptor);
  }
 catch (  ComponentRepositoryException e) {
    throw new GradleException(FAILED_TO_REGISTER_WAGON,e);
  }
}
