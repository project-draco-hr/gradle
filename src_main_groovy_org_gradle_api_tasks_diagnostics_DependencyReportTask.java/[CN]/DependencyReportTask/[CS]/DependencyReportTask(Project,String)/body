{
  super(project,name);
  setDagNeutral(true);
  doFirst(new TaskAction(){
    public void execute(    Task task){
      Project project=task.getProject();
      IvyDependencyGraphBuilder graphBuilder=new IvyDependencyGraphBuilder();
      BaseDependencyManager depManager=(BaseDependencyManager)project.getDependencies();
      depManager.resolve(conf,false,true);
      DefaultDependencyResolver resolver=(DefaultDependencyResolver)depManager.getDependencyResolver();
      try {
        IvyDependencyGraph graph=graphBuilder.buildGraph(project,resolver.getLastResolveReport(),conf);
        OutputStream outputStream=System.out;
        if (outputFile != null) {
          outputStream=new FileOutputStream(outputFile);
        }
        try {
          renderer.render(graph,System.out);
        }
  finally {
          if (outputFile != null) {
            outputStream.close();
          }
        }
      }
 catch (      Exception e) {
        throw new GradleException(e);
      }
    }
  }
);
}
