{
  Type runtimeType=getType();
  if (runtimeType instanceof Class) {
    builder.add((Class<?>)runtimeType);
  }
 else   if (runtimeType instanceof ParameterizedType) {
    builder.add((Class<?>)((ParameterizedType)runtimeType).getRawType());
    for (    Type type : ((ParameterizedType)runtimeType).getActualTypeArguments()) {
      ModelType.of(type).addAllClasses(builder);
    }
  }
 else   if (runtimeType instanceof WildcardType) {
    for (    Type type : ((WildcardType)runtimeType).getLowerBounds()) {
      ModelType.of(type).addAllClasses(builder);
    }
    for (    Type type : ((WildcardType)runtimeType).getUpperBounds()) {
      ModelType.of(type).addAllClasses(builder);
    }
  }
 else   if (runtimeType instanceof TypeVariable) {
    for (    Type type : ((TypeVariable)runtimeType).getBounds()) {
      ModelType.of(type).addAllClasses(builder);
    }
  }
 else {
    throw new IllegalArgumentException("Unable to deal with type " + runtimeType + " ("+ runtimeType.getClass()+ ")");
  }
}
