{
  if (consumerId == null) {
    queue.add(message);
  }
 else   if (consumerId == BROKEN_CONSUMER) {
    LOGGER.warn("Discarding message {}, as {} is no longer available.",message,consumerDisplayName);
  }
 else {
    context.dispatchOutgoing(new Request(consumerId,message));
  }
}
