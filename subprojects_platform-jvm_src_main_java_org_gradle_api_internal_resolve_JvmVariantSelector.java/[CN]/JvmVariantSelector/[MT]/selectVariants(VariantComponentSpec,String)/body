{
  Collection<BinarySpec> allBinaries=componentSpec.getBinaries().values();
  if (requestedVariant != null) {
    for (    BinarySpec binarySpec : allBinaries) {
      BinarySpecInternal binary=(BinarySpecInternal)binarySpec;
      LibraryBinaryIdentifier id=binary.getId();
      if (Objects.equal(requestedVariant,id.getVariant())) {
        return Collections.singleton(binary);
      }
    }
    return Collections.emptySet();
  }
  return variantsMatcher.filterBinaries(variantsMetaData,allBinaries);
}
