{
  assertThat(factory.get(CacheRepository.class),instanceOf(DefaultCacheRepository.class));
  assertThat(factory.get(CacheRepository.class),sameInstance(factory.get(CacheRepository.class)));
  context.checking(new Expectations(){
{
      one(cacheFactory).close();
    }
  }
);
  factory.close();
}
