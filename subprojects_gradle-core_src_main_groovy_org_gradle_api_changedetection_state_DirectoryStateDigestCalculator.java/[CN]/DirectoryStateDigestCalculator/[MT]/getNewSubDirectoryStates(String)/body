{
  final List<DirectoryState> subDirectoryStates=new ArrayList<DirectoryState>();
  for (  final String currentStateItemKey : previousLevelDirectoryStates.keySet()) {
    if (currentStateItemKey.startsWith(relativeDirectoryPath)) {
      String belowPath=currentStateItemKey.replaceAll(relativeDirectoryPath,"");
      if ("".equals(belowPath) || StringUtils.countMatches(belowPath,System.getProperty("file.separator")) == 1) {
        subDirectoryStates.add(previousLevelDirectoryStates.get(currentStateItemKey));
      }
    }
  }
  return subDirectoryStates;
}
