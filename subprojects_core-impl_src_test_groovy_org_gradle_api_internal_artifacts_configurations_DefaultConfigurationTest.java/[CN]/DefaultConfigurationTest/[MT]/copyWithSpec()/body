{
  prepareConfigurationForCopyTest();
  Set<Dependency> expectedDependenciesToCopy=new HashSet<Dependency>(configuration.getDependencies());
  configuration.getDependencies().add(HelperUtil.createDependency("group3","name3","version3"));
  Configuration copiedConfiguration=configuration.copy(new Spec<Dependency>(){
    public boolean isSatisfiedBy(    Dependency element){
      return !element.getGroup().equals("group3");
    }
  }
);
  assertThatCopiedConfigurationHasElementsAndName(copiedConfiguration,expectedDependenciesToCopy);
}
