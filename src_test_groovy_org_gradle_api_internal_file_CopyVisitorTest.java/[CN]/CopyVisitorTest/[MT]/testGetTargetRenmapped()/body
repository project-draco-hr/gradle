{
  ArrayList<Closure> mappers=new ArrayList<Closure>(1);
  mappers.add(new FlatMapper(this,testDir));
  visitor=new CopyVisitor(testDir,mappers,null,new FilterChain());
  visitor.visitDir(sourceDir,new RelativePath(false,"sub"));
  File target=visitor.getTarget(new RelativePath(true,"Fred.java"));
  assertEquals(new File(testDir,"Fred.java"),target);
}
