{
  ModuleVersionSelector leftRequested=left.getRequested();
  ModuleVersionSelector rightRequested=right.getRequested();
  int byGroup=leftRequested.getGroup().compareTo(rightRequested.getGroup());
  if (byGroup != 0) {
    return byGroup;
  }
  int byModule=leftRequested.getName().compareTo(rightRequested.getName());
  if (byModule != 0) {
    return byModule;
  }
  boolean leftMatches=leftRequested.matchesStrictly(left.getActual());
  boolean rightMatches=rightRequested.matchesStrictly(right.getActual());
  if (leftMatches && !rightMatches) {
    return -1;
  }
 else   if (!leftMatches && rightMatches) {
    return 1;
  }
  int byVersion=versionComparator.compare(leftRequested.getVersion(),rightRequested.getVersion());
  if (byVersion != 0) {
    return byVersion;
  }
  ModuleVersionIdentifier leftFrom=left.getFrom();
  ModuleVersionIdentifier rightFrom=right.getFrom();
  byGroup=leftFrom.getGroup().compareTo(rightFrom.getGroup());
  if (byGroup != 0) {
    return byGroup;
  }
  byModule=leftFrom.getName().compareTo(rightFrom.getName());
  if (byModule != 0) {
    return byModule;
  }
  return versionComparator.compare(leftFrom.getVersion(),rightFrom.getVersion());
}
