{
  DaemonForkOptions daemonForkOptions=createDaemonForkOptions(spec);
  CompilerDaemon daemon=CompilerDaemonManager.getInstance().getDaemon(project,daemonForkOptions);
  CompileResult result=daemon.execute(delegate,spec);
  if (result.isSuccess()) {
    return result;
  }
  throw UncheckedException.throwAsUncheckedException(result.getException());
}
