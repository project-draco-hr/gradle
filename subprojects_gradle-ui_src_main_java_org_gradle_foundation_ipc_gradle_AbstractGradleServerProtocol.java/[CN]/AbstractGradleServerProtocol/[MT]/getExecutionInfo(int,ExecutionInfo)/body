{
  executionInfo.setWorkingDirectory(currentDirectory);
  List<String> executionCommandLine=new ArrayList<String>();
  File gradleExecutableFile=getGradleExecutableFile();
  executionCommandLine.add(gradleExecutableFile.getAbsolutePath());
  executionCommandLine.add("-D" + ProtocolConstants.PORT_NUMBER_SYSTEM_PROPERTY + "="+ Integer.toString(serverPort));
  CommandLineAssistant commandLineAssistant=new CommandLineAssistant();
  String[] individualCommandLineArguments=commandLineAssistant.breakUpCommandLine(commandLine);
  executionCommandLine.addAll(Arrays.asList(individualCommandLineArguments));
  File initStriptPath=getInitScriptFile();
  if (initStriptPath != null) {
    executionCommandLine.add("-" + DefaultCommandLine2StartParameterConverter.INIT_SCRIPT);
    executionCommandLine.add(initStriptPath.getAbsolutePath());
  }
  if (!commandLineAssistant.hasLogLevelDefined(individualCommandLineArguments)) {
    String logLevelText=commandLineAssistant.getCommandLine2StartParameterConverter().getLogLevelCommandLine(logLevel);
    if (logLevelText != null)     executionCommandLine.add('-' + logLevelText);
  }
  if (!commandLineAssistant.hasShowStacktraceDefined(individualCommandLineArguments)) {
    String stackTraceLevelText=commandLineAssistant.getCommandLine2StartParameterConverter().getShowStacktraceCommandLine(stackTraceLevel);
    if (stackTraceLevelText != null)     executionCommandLine.add('-' + stackTraceLevelText);
  }
  executionInfo.setCommandLineArguments(executionCommandLine.toArray(new String[executionCommandLine.size()]));
}
