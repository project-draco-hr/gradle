{
  File buildFile=getTestBuildFile("task-action-execution-failure.gradle");
  GradleExecutionFailure failure=usingBuildFile(buildFile).runTasksAndExpectFailure("brokenClosure");
  failure.assertHasFileName(String.format("Build file '%s'",buildFile));
  failure.assertHasLineNumber(3);
  failure.assertHasContext("Execution failed for task ':brokenClosure'");
  failure.assertHasDescription("broken closure");
}
