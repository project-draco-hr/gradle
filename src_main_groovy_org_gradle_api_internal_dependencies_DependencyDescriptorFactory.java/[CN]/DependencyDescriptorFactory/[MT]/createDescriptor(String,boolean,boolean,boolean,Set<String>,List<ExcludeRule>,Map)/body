{
  String[] dependencyParts=descriptor.split(":");
  Map allExtraAttributes=(dependencyParts.length == 4 ? WrapUtil.toMap(DependencyManager.CLASSIFIER,dependencyParts[3]) : new HashMap());
  allExtraAttributes.putAll(extraAttributes);
  DefaultDependencyDescriptor dd=new DefaultDependencyDescriptor(null,ModuleRevisionId.newInstance(dependencyParts[0],dependencyParts[1],dependencyParts[2],allExtraAttributes),force,changing,transitive);
  for (  String conf : confs) {
    dd.addDependencyConfiguration(conf,Dependency.DEFAULT_CONFIGURATION);
    for (    ExcludeRule excludeRule : excludeRules) {
      dd.addExcludeRule(conf,excludeRule);
    }
  }
  return dd;
}
