{
  loggingManager.captureSystemSources();
  final LoggingSystem.Snapshot stdOutSnapshot=context.mock(LoggingSystem.Snapshot.class);
  final LoggingSystem.Snapshot stdErrSnapshot=context.mock(LoggingSystem.Snapshot.class);
  final LoggingSystem.Snapshot javaUtilSnapshot=context.mock(LoggingSystem.Snapshot.class);
  context.checking(new Expectations(){
{
      ignoring(loggingSystem);
      one(javaUtilLoggingSystem).on(LogLevel.DEBUG,LogLevel.DEBUG);
      will(returnValue(javaUtilSnapshot));
      one(stdOutLoggingSystem).on(LogLevel.QUIET,LogLevel.QUIET);
      will(returnValue(stdOutSnapshot));
      one(stdErrLoggingSystem).on(LogLevel.ERROR,LogLevel.ERROR);
      will(returnValue(stdErrSnapshot));
    }
  }
);
  loggingManager.start();
  context.checking(new Expectations(){
{
      one(javaUtilLoggingSystem).restore(javaUtilSnapshot);
      one(stdOutLoggingSystem).restore(stdOutSnapshot);
      one(stdErrLoggingSystem).restore(stdErrSnapshot);
    }
  }
);
  loggingManager.stop();
}
