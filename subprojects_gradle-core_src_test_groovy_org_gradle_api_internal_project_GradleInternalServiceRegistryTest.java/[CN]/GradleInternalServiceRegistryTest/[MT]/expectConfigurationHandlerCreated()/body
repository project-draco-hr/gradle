{
  context.checking(new Expectations(){
{
      RepositoryHandler repositoryHandler=context.mock(RepositoryHandler.class);
      ConfigurationContainer configurationContainer=context.mock(ConfigurationContainer.class);
      one(repositoryHandlerFactory).createRepositoryHandler(with(notNullValue(Convention.class)));
      will(returnValue(repositoryHandler));
      one(configurationContainerFactory).createConfigurationContainer(with(sameInstance(repositoryHandler)),with(notNullValue(DependencyMetaDataProvider.class)));
      will(returnValue(configurationContainer));
      one(configurationContainer).add("classpath");
    }
  }
);
}
