{
  if (!visited.add(node)) {
    return;
  }
  for (  DependencyResult d : node.getDependencies()) {
    if (d instanceof ResolvedDependencyResult) {
      collectDependencies(((ResolvedDependencyResult)d).getSelected(),out,visited);
    }
    out.add(d);
  }
}
