{
  ScriptSource source=getSource();
  File sourceFile=source.getSourceFile();
  if (sourceFile != null) {
    if (!sourceFile.exists()) {
      throw new GradleException(String.format("Cannot read %s as it does not exist.",source.getDisplayName()));
    }
    if (!sourceFile.isFile()) {
      throw new GradleException(String.format("Cannot read %s as it is not a file.",source.getDisplayName()));
    }
  }
  return source.getText();
}
