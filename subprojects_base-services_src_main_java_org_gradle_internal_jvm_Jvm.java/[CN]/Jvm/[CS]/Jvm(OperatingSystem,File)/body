{
  this.os=os;
  if (suppliedJavaBase == null) {
    try {
      this.javaBase=new File(System.getProperty("java.home")).getCanonicalFile();
    }
 catch (    IOException e) {
      throw new UncheckedException(e);
    }
    this.javaHome=findJavaHome(javaBase);
    this.javaVersion=JavaVersion.current();
    this.userSupplied=false;
  }
 else {
    this.javaBase=suppliedJavaBase;
    this.javaHome=suppliedJavaBase;
    this.userSupplied=true;
    this.javaVersion=null;
  }
  ScriptEngineManager mgr=new ScriptEngineManager();
  this.appleScriptSupported=mgr.getEngineByName("AppleScript") != null || mgr.getEngineByName("AppleScriptEngine") != null;
}
