{
  if (schemes.isEmpty()) {
    throw new InvalidUserDataException("You must specify a base url or at least one artifact pattern for an Ivy repository.");
  }
  if (!WrapUtil.toSet("http","https","file").containsAll(schemes)) {
    throw new InvalidUserDataException("You may only specify 'file', 'http' and 'https' urls for an Ivy repository.");
  }
  if (WrapUtil.toSet("http","https").containsAll(schemes)) {
    return createResolver(transportFactory.createHttpTransport(getName(),getCredentials()));
  }
  if (WrapUtil.toSet("file").containsAll(schemes)) {
    return createResolver(transportFactory.createFileTransport(getName()));
  }
  throw new InvalidUserDataException("You cannot mix file and http(s) urls for a single Ivy repository. Please declare 2 separate repositories.");
}
