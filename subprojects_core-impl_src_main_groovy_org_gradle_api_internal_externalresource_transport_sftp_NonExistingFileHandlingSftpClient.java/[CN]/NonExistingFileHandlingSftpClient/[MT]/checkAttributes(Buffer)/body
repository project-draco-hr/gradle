{
  buffer.getInt();
  int type=buffer.getByte();
  buffer.getInt();
  if (type == SSH_FXP_STATUS) {
    int substatus=buffer.getInt();
    String msg=buffer.getString();
    buffer.getString();
    if (substatus == DefaultSftpClient.SSH_FX_NO_SUCH_FILE) {
      return null;
    }
 else {
      throw new SshException("SFTP error (" + substatus + "): "+ msg);
    }
  }
 else   if (type == SSH_FXP_ATTRS) {
    return readAttributes(buffer);
  }
 else {
    throw new SshException("Unexpected SFTP packet received: " + type);
  }
}
