{
  Class<? extends LibrarySpec> type=readComponentType(ruleDefinition);
  Class<? extends DefaultLibrarySpec> implementation=determineImplementationType(ruleDefinition,type);
  dependencies.add(ComponentModelBasePlugin.class);
  if (implementation != null) {
    modelRegistry.mutate(new RegisterComponentTypeRule(ruleDefinition.getDescriptor(),type,implementation));
  }
}
