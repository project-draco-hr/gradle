{
  if (!(target instanceof Project)) {
    throw new UnsupportedOperationException(String.format("Cannot declare component type '%s' as the target '%s' is not a project",type.getName(),target));
  }
  final Project project=(Project)target;
  project.getPlugins().apply(ComponentModelBasePlugin.class);
  modelRegistry.mutate(new ComponentTypeModelMutator(descriptor,type,implementation));
}
