{
  if (spec.getIncludeEmptyDirs()) {
    for (    RelativePath path : new ArrayList<RelativePath>(pendingDirs.keySet())) {
      maybeVisit(path);
    }
  }
  visitedDirs.clear();
  pendingDirs.clear();
  getVisitor().endVisit();
}
