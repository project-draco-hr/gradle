{
  for (  RelativePath path : new LinkedHashSet<RelativePath>(pendingDirs.keySet())) {
    List<FileCopyDetailsInternal> detailsList=new ArrayList<FileCopyDetailsInternal>(pendingDirs.get(path));
    for (    FileCopyDetailsInternal details : detailsList) {
      if (details.getCopySpec().getIncludeEmptyDirs()) {
        maybeVisit(path,details.getCopySpec());
      }
    }
  }
  visitedDirs.clear();
  pendingDirs.clear();
  getVisitor().endVisit();
}
