{
  if (compilationResult instanceof RecompilationNotNecessary) {
    return ((RecompilationNotNecessary)compilationResult).getInitialDependencyInfo();
  }
 else {
    Clock clock=new Clock();
    FileTree tree=fileOperations.fileTree(spec.getDestinationDir());
    tree.visit(extractor);
    ClassDependencyInfo info=extractor.getDependencyInfo();
    writer.writeInfo(info);
    LOG.lifecycle("Performed class dependency analysis in {}, wrote results into {}",clock.getTime(),writer);
    return info;
  }
}
