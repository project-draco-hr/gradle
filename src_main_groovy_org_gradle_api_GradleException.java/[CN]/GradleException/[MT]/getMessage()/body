{
  if (scriptSource == null) {
    return super.getMessage();
  }
  String scriptName=scriptSource.getClassName();
  List<Integer> lineNumbers=new ArrayList<Integer>();
  for (Throwable currentException=this; currentException != null; currentException=currentException.getCause()) {
    for (    StackTraceElement element : currentException.getStackTrace()) {
      if (element.getFileName() != null && element.getFileName().equals(scriptName) && element.getLineNumber() >= 0) {
        lineNumbers.add(element.getLineNumber());
      }
    }
  }
  String lineInfo=!lineNumbers.isEmpty() ? String.format("at line(s): %s",GUtil.join(lineNumbers,", ")) : "No line info available from stacktrace.";
  return String.format("%s %s%s%s",StringUtils.capitalize(scriptSource.getDescription()),lineInfo,System.getProperty("line.separator"),super.getMessage());
}
