{
  ScriptSource source=new ImportsScriptSource(settingsFinder.getSettingsScriptSource(),importsReader,settingsFinder.getSettingsDir());
  try {
    Script settingsScript=scriptProcessorFactory.createProcessor(source).process(ScriptWithSource.class);
    settingsScriptMetaData.applyMetaData(settingsScript,settings);
    Clock clock=new Clock();
    settingsScript.run();
    logger.debug("Timing: Evaluating settings file took: {}",clock.getTime());
  }
 catch (  Throwable t) {
    throw new GradleScriptException("A problem occurred evaluating the settings file.",t,source);
  }
}
