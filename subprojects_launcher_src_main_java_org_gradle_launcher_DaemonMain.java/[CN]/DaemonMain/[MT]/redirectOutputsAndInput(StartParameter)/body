{
  PrintStream originalOut=System.out;
  PrintStream originalErr=System.err;
  DaemonDir daemonDir=new DaemonDir(startParameter.getGradleUserHomeDir());
  File logOutputFile=daemonDir.createUniqueLog();
  logOutputFile.getParentFile().mkdirs();
  PrintStream printStream=new PrintStream(new FileOutputStream(logOutputFile),true);
  System.setOut(printStream);
  System.setErr(printStream);
  System.setIn(new ByteArrayInputStream(new byte[0]));
  originalOut.close();
  originalErr.close();
}
