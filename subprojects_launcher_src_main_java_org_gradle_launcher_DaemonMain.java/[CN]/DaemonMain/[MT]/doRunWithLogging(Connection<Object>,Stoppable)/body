{
  Command command=(Command)connection.receive();
  try {
    return doRunWithExceptionHandling(command,serverControl);
  }
 catch (  ReportedException e) {
    throw e;
  }
catch (  Throwable throwable) {
    BuildExceptionReporter exceptionReporter=new BuildExceptionReporter(loggingServices.get(StyledTextOutputFactory.class),new StartParameter(),command.getClientMetaData());
    exceptionReporter.reportException(throwable);
    throw new ReportedException(throwable);
  }
}
