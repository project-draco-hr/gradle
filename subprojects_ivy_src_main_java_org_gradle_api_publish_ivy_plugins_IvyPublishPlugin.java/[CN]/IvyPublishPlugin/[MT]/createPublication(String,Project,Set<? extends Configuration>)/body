{
  final DefaultIvyPublication publication=instantiator.newInstance(DefaultIvyPublication.class,name,instantiator,configurations,dependencyMetaDataProvider,fileResolver,project.getTasks());
  DslObject publicationDslObject=new DslObject(publication);
  ConventionMapping descriptorConventionMapping=publicationDslObject.getConventionMapping();
  descriptorConventionMapping.map("descriptorFile",new Callable<Object>(){
    public Object call() throws Exception {
      return new File(project.getBuildDir(),"publications/" + publication.getName() + "/ivy.xml");
    }
  }
);
  return publication;
}
