{
  File testProjectDir=tmpDir.createDir("projectDir");
  classLoader=getClass().getClassLoader();
  scriptCompilationHandler=new DefaultScriptCompilationHandler(new AsmBackedEmptyScriptGenerator(),new DummyClassLoaderCache());
  scriptCacheDir=new File(testProjectDir,"cache");
  metadataCacheDir=new File(testProjectDir,"metadata");
  scriptText="System.setProperty('" + TEST_EXPECTED_SYSTEMPROP_KEY + "', '"+ TEST_EXPECTED_SYSTEMPROP_VALUE+ "')";
  scriptClassName="ScriptClassName";
  scriptFileName="script-file-name";
  classpathClosureName="buildscript";
  scriptSource=scriptSource();
  cachedFile=new File(scriptCacheDir,scriptClassName + ".class");
  expectedScriptClass=TestBaseScript.class;
}
