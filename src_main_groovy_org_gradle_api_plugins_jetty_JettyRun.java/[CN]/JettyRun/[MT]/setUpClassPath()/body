{
  List classPathFiles=new ArrayList();
  if (useTestClasspath && (getTestClassesDirectory() != null))   classPathFiles.add(getTestClassesDirectory());
  if (getClassesDirectory() != null)   classPathFiles.add(getClassesDirectory());
  classPathFiles.addAll(getDependencyFiles());
  if (logger.isDebugEnabled()) {
    for (int i=0; i < classPathFiles.size(); i++) {
      logger.debug("classpath element: " + ((File)classPathFiles.get(i)).getName());
    }
  }
  return classPathFiles;
}
