{
  ModuleRevisionId original=descriptor.getModuleRevisionId();
  ResolvedConfigurationIdentifier id=new ResolvedConfigurationIdentifier(original.getOrganisation(),original.getName(),original.getRevision(),configurationName);
  ConfigurationResolveState configuration=configurations.get(id);
  if (configuration == null) {
    ModuleRevisionResolveState moduleRevision=getRevision(descriptor);
    configuration=new ConfigurationResolveState(moduleRevision,descriptor,configurationName,this);
    configurations.put(id,configuration);
  }
  return configuration;
}
