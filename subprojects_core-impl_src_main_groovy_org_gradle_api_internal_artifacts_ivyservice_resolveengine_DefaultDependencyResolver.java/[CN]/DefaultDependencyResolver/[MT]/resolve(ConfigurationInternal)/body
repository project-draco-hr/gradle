{
  LOGGER.debug("Resolving {}",configuration);
  IvyAdapter ivyAdapter=ivyFactory.create(configuration);
  DependencyToModuleResolver dependencyResolver=constructDependencyResolver(configuration,ivyAdapter.getDependencyToModuleResolver());
  ArtifactToFileResolver artifactResolver=constructArtifactResolver(ivyAdapter.getArtifactToFileResolver());
  ModuleConflictResolver conflictResolver;
  if (configuration.getResolutionStrategy().getConflictResolution() instanceof StrictConflictResolution) {
    conflictResolver=new StrictConflictResolver();
  }
 else {
    conflictResolver=new LatestModuleConflictResolver();
  }
  DependencyGraphBuilder builder=new DefaultDependencyGraphBuilder(moduleDescriptorConverter,resolvedArtifactFactory,artifactResolver,dependencyResolver,conflictResolver);
  DependencyGraphBuilder contextualizedBuilder=ivyAdapter.contextualize(DependencyGraphBuilder.class,builder);
  DefaultLenientConfiguration result=contextualizedBuilder.resolve(configuration,ivyAdapter.getResolveData());
  return new DefaultResolvedConfiguration(result);
}
