{
  if (spec instanceof MutableURLClassLoader.Spec) {
    MutableURLClassLoader.Spec urlSpec=(MutableURLClassLoader.Spec)spec;
    if (parents.size() != 1) {
      throw new IllegalStateException("Expected exactly one parent ClassLoader");
    }
    return new MutableURLClassLoader(parents.get(0),urlSpec);
  }
  return delegate.getClassLoaderFor(spec,parents);
}
