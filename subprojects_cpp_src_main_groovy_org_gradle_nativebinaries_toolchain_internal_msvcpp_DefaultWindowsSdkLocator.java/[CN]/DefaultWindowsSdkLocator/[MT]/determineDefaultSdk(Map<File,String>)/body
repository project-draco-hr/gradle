{
  try {
    String currentPath=windowsRegistry.getStringValue(WindowsRegistry.Key.HKEY_LOCAL_MACHINE,REGISTRY_ROOTPATH_SDK,REGISTRY_CURRENTFOLDER);
    String currentVersion=formatVersion(windowsRegistry.getStringValue(WindowsRegistry.Key.HKEY_LOCAL_MACHINE,REGISTRY_ROOTPATH_SDK,REGISTRY_CURRENTVERSION));
    String foundVersion=foundPaths.get(currentPath);
    if (foundVersion != null) {
      defaultSdk=foundSdks.get(foundVersion);
    }
 else {
      defaultSdk=foundSdks.get(currentVersion);
    }
  }
 catch (  MissingRegistryEntryException e) {
  }
 finally {
    if (defaultSdk == null && !foundSdks.isEmpty()) {
      defaultSdk=foundSdks.entrySet().iterator().next().getValue();
    }
  }
}
