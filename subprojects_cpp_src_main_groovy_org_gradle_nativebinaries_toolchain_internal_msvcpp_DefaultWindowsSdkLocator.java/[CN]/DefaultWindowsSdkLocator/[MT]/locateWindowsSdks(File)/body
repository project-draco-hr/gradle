{
  if (result != null) {
    return result;
  }
  Map<File,String> foundPaths=new HashMap<File,String>();
  locateSdksInRegistry(foundPaths);
  locateKitsInRegistry(foundPaths);
  locateSdkInPath(foundPaths);
  if (candidate != null) {
    locateUserSpecifiedSdk(foundPaths,candidate);
  }
  if (defaultSdk == null) {
    determineDefaultSdk(foundPaths);
  }
  result=new ToolSearchResult(){
    public boolean isAvailable(){
      return defaultSdk != null;
    }
    public void explain(    TreeVisitor<? super String> visitor){
      visitor.node(String.format("%s could not be found.",SDK_DISPLAY_NAME));
    }
  }
;
  return result;
}
