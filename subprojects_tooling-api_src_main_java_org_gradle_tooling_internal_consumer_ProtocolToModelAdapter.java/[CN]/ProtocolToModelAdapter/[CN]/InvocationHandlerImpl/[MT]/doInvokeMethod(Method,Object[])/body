{
  Method targetMethod=methods.get(method);
  if (targetMethod == null) {
    targetMethod=findMethod(method);
    methods.put(method,targetMethod);
  }
  Object returnValue;
  try {
    returnValue=targetMethod.invoke(delegate,params);
  }
 catch (  InvocationTargetException e) {
    throw e.getCause();
  }
  if (returnValue == null || method.getReturnType().isInstance(returnValue)) {
    return returnValue;
  }
  return convert(returnValue,method.getGenericReturnType());
}
