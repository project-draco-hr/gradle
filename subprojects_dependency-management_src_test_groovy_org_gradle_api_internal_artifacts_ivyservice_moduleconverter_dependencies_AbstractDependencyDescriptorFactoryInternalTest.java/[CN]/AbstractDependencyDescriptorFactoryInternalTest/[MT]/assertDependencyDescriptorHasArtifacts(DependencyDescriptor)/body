{
  List<DependencyArtifactDescriptor> artifactDescriptors=WrapUtil.toList(dependencyDescriptor.getDependencyArtifacts(TEST_CONF));
  assertThat(artifactDescriptors.size(),equalTo(2));
  DependencyArtifactDescriptor artifactDescriptorWithoutClassifier=findDescriptor(artifactDescriptors,artifact);
  assertEquals(new HashMap(),artifactDescriptorWithoutClassifier.getExtraAttributes());
  assertEquals(null,artifactDescriptorWithoutClassifier.getUrl());
  compareArtifacts(artifact,artifactDescriptorWithoutClassifier);
  assertEquals(artifact.getType(),artifactDescriptorWithoutClassifier.getExt());
  DependencyArtifactDescriptor artifactDescriptorWithClassifierAndConfs=findDescriptor(artifactDescriptors,artifactWithClassifiers);
  assertEquals(WrapUtil.toMap(Dependency.CLASSIFIER,artifactWithClassifiers.getClassifier()),artifactDescriptorWithClassifierAndConfs.getQualifiedExtraAttributes());
  compareArtifacts(artifactWithClassifiers,artifactDescriptorWithClassifierAndConfs);
  assertEquals(artifactWithClassifiers.getExtension(),artifactDescriptorWithClassifierAndConfs.getExt());
  try {
    assertEquals(new URL(artifactWithClassifiers.getUrl()),artifactDescriptorWithClassifierAndConfs.getUrl());
  }
 catch (  MalformedURLException e) {
    throw new RuntimeException(e);
  }
}
