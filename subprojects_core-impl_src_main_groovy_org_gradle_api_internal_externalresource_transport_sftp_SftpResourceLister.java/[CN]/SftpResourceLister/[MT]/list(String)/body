{
  URI uri=toUri(parent);
  String path=uri.getPath();
  LockableSftpClient client=sftpClientFactory.createSftpClient(uri,credentials);
  try {
    Vector<ChannelSftp.LsEntry> entries=client.getSftpClient().ls(path);
    List<String> list=new ArrayList<String>();
    for (    ChannelSftp.LsEntry entry : entries) {
      list.add(entry.getFilename());
    }
    return list;
  }
 catch (  com.jcraft.jsch.SftpException e) {
    if (e.id == ChannelSftp.SSH_FX_NO_SUCH_FILE) {
      return null;
    }
    throw new SftpException(String.format("Could not list children for resource '%s'.",uri),e);
  }
 finally {
    sftpClientFactory.releaseSftpClient(client);
  }
}
