{
  if (type == null) {
    visitor.visitInsn(Opcodes.ACONST_NULL);
  }
 else   if (type instanceof Class) {
    visitor.visitLdcInsn(Type.getType((Class)type));
  }
 else   if (type instanceof ParameterizedType) {
    putParametrizedTypeReferenceOnStack(visitor,(ParameterizedType)type);
  }
 else {
    throw new IllegalArgumentException(String.format("Generating bytecode for reference to type class '%s' is not supported",type.getClass()));
  }
}
