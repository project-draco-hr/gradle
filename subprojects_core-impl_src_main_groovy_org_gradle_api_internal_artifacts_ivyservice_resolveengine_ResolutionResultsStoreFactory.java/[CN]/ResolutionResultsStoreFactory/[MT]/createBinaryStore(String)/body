{
  String storeKey=Thread.currentThread().getId() + id;
  if (stores.containsKey(storeKey)) {
    return stores.get(storeKey);
  }
synchronized (lock) {
    SimpleBinaryStore store=stores.get(storeKey);
    if (store == null) {
      File storeFile=temp.createTemporaryFile("gradle",UUID.randomUUID().toString() + ".bin");
      storeFile.deleteOnExit();
      store=new SimpleBinaryStore(storeFile);
      stores.put(storeKey,store);
    }
    return store;
  }
}
