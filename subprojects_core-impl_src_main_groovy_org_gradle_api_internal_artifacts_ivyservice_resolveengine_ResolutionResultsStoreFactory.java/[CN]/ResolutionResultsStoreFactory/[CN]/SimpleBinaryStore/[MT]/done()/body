{
  try {
    outputStream.flush();
    return new SimpleBinaryData(file,offset,diagnose());
  }
 catch (  IOException e) {
    throw new RuntimeException("Problems flushing data to " + diagnose(),e);
  }
 finally {
    offset=-1;
  }
}
