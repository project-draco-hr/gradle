{
  final Task task=context.mock(Task.class);
  context.checking(new Expectations(){
{
      allowing(task).getName();
      will(returnValue(name));
      allowing(task).getTaskGroup();
      will(returnValue(taskGroup));
      allowing(task).compareTo(with(Matchers.notNullValue(Task.class)));
      will(new Action(){
        @Override public Object invoke(        Invocation invocation) throws Throwable {
          Task other=(Task)invocation.getParameter(0);
          return name.compareTo(other.getName());
        }
        @Override public void describeTo(        Description description){
          description.appendText("compare to");
        }
      }
);
    }
  }
);
  return task;
}
