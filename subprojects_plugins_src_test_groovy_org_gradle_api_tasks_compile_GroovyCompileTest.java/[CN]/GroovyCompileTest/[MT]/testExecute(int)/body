{
  setUpMocksAndAttributes(testObj,TEST_GROOVY_CLASSPATH);
  context.checking(new Expectations(){
{
      WorkResult result=context.mock(WorkResult.class);
      one(groovyCompilerMock).setSpec(with(IsNull.<GroovyJavaJointCompileSpec>notNullValue()));
      one(groovyCompilerMock).execute();
      will(returnValue(result));
      allowing(result).getDidWork();
      will(returnValue(numFilesCompiled > 0));
    }
  }
);
  testObj.compile();
}
