{
  DaemonForkOptions daemonForkOptions=createDaemonForkOptions(spec);
  CompilerDaemon daemon=daemonFactory.getDaemon(project.getRootProject().getProjectDir(),daemonForkOptions);
  CompileResult result=daemon.execute(delegate,spec);
  if (result.isSuccess()) {
    return result;
  }
  throw UncheckedException.throwAsUncheckedException(result.getException());
}
