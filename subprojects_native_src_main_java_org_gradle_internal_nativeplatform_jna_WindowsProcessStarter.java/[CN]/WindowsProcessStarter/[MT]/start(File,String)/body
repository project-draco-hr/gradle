{
  Kernel32 kernel32=INSTANCE;
  STARTUPINFO startupInfo=new STARTUPINFO();
  PROCESS_INFORMATION.ByReference processInformation=new PROCESS_INFORMATION.ByReference();
  if (!kernel32.CreateProcess(null,command,null,null,false,new DWORD(DETACHED_PROCESS),null,dir.getAbsolutePath(),startupInfo,processInformation)) {
    throw new IOException("Could not start process. Errno: " + kernel32.GetLastError());
  }
  kernel32.CloseHandle(processInformation.hProcess);
  kernel32.CloseHandle(processInformation.hThread);
}
