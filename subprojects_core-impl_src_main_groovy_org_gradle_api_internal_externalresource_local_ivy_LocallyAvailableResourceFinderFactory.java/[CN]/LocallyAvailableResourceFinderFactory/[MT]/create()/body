{
  List<LocallyAvailableResourceFinder<ArtifactRevisionId>> finders=new LinkedList<LocallyAvailableResourceFinder<ArtifactRevisionId>>();
  finders.add(new LocallyAvailableResourceFinderSearchableFileStoreAdapter<ArtifactRevisionId>(fileStore));
  addForPattern(finders,"artifacts-13","filestore/[organisation]/[module](/[branch])/[revision]/[type]/*/[artifact]-[revision](-[classifier])(.[ext])");
  addForPattern(finders,"artifacts-8","filestore/[organisation]/[module](/[branch])/[revision]/[type]/*/[artifact]-[revision](-[classifier])(.[ext])");
  addForPattern(finders,"artifacts-7","artifacts/*/[organisation]/[module](/[branch])/[revision]/[type]/[artifact]-[revision](-[classifier])(.[ext])");
  addForPattern(finders,"artifacts-4","[organisation]/[module](/[branch])/*/[type]s/[artifact]-[revision](-[classifier])(.[ext])");
  addForPattern(finders,"artifacts-4","[organisation]/[module](/[branch])/*/pom.originals/[artifact]-[revision](-[classifier])(.[ext])");
  addForPattern(finders,"../cache","[organisation]/[module](/[branch])/[type]s/[artifact]-[revision](-[classifier])(.[ext])");
  finders.add(new LocalMavenLocallyAvailableResourceFinder(localMavenRepositoryLocator,"[organisation-path]/[module]/[revision]/[artifact]-[revision](-[classifier])(.[ext])"));
  try {
    File localMavenRepository=localMavenRepositoryLocator.getLocalMavenRepository();
    if (localMavenRepository.exists()) {
      addForPattern(finders,localMavenRepository,"[organisation-path]/[module]/[revision]/[artifact]-[revision](-[classifier])(.[ext])");
    }
  }
 catch (  CannotLocateLocalMavenRepositoryException ex) {
    LOGGER.warn(String.format("Cannot use local Maven cache to reduce artifact downloads. Error finding local M2 repository: %s",ex.getMessage()));
  }
  return new CompositeLocallyAvailableResourceFinder<ArtifactRevisionId>(finders);
}
