{
  CompilationState previousCompileState=previousCompileStateCache.get(PREVIOUS_FILES);
  final IncrementalCompileFiles result=new IncrementalCompileFiles(previousCompileState);
  for (  File sourceFile : sourceFiles) {
    result.processSource(sourceFile);
  }
  previousCompileStateCache.put(PREVIOUS_FILES,result.current);
  return new DefaultIncrementalCompilation(result.getModifiedSources(),result.getRemovedSources());
}
