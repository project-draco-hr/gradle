{
  VersionNumber maxSupported;
  VersionNumber scalaVersion=sniffScalaVersion(scalaClasspath);
  if (scalaVersion.compareTo(VersionNumber.parse("2.10.0-M5")) >= 0) {
    maxSupported=VersionNumber.parse("1.7");
  }
 else {
    maxSupported=VersionNumber.parse("1.5");
  }
  VersionNumber target=VersionNumber.parse(spec.getTargetCompatibility());
  if (target.compareTo(maxSupported) > 0) {
    target=maxSupported;
  }
  return "jvm-" + target.getMajor() + "."+ target.getMinor();
}
