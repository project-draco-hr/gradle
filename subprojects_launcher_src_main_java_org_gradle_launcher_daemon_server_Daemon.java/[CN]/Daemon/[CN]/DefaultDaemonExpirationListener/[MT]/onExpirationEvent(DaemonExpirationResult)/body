{
  if (!stateControl.isStopping()) {
switch (result.getStatus()) {
case DO_NOT_EXPIRE:
      break;
case QUIET_EXPIRE:
    LOGGER.lifecycle("Daemon will be stopped at the end of the build " + result.getReason());
  stateControl.requestStop();
break;
case GRACEFUL_EXPIRE:
LOGGER.lifecycle("Daemon will be stopped at the end of the build " + result.getReason());
stateControl.requestStop();
registryUpdater.onExpire(result.getReason());
break;
case IMMEDIATE_EXPIRE:
LOGGER.lifecycle("Daemon is stopping immediately " + result.getReason());
stateControl.requestForcefulStop(result.getReason());
registryUpdater.onExpire(result.getReason());
break;
}
}
}
