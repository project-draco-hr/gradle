{
  LOGGER.debug("stopOnExpiration() called on daemon");
  DaemonExpirationPeriodicCheck periodicCheck=new DaemonExpirationPeriodicCheck(this,expirationStrategy,listenerManager);
  listenerManager.addListener(new DefaultDaemonExpirationListener(stateCoordinator,registryUpdater));
  scheduledExecutorService.scheduleAtFixedRate(periodicCheck,checkIntervalMills,checkIntervalMills,TimeUnit.MILLISECONDS);
  awaitExpiration();
}
