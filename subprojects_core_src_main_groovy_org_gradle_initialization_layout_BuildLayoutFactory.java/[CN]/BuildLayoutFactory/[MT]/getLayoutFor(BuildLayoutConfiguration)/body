{
  if (configuration.getSettingsScript() != null) {
    return new BuildLayout(configuration.getCurrentDir(),configuration.getCurrentDir(),configuration.getSettingsScript());
  }
  File currentDir=configuration.getCurrentDir();
  boolean searchUpwards=configuration.isSearchUpwards();
  return getLayoutFor(currentDir,searchUpwards ? null : currentDir.getParentFile());
}
