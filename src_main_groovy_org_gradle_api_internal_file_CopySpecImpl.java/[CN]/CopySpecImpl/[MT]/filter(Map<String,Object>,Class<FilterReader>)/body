{
  try {
    Constructor<FilterReader> constructor=filterType.getConstructor(Reader.class);
    FilterReader result=constructor.newInstance(filterChain.getLastFilter());
    filterChain.addFilter(result);
    if (map != null) {
      ReflectionUtil.setFromMap(result,map);
    }
  }
 catch (  Throwable th) {
    throw new InvalidUserDataException("Error - Invalid filter specification for " + filterType.getName());
  }
  return this;
}
