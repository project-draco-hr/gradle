{
  if (!GUtil.isTrue(getTargetCompatibility())) {
    throw new InvalidUserDataException("The targetCompatibility must be set!");
  }
  List<File> existingSrcDirs=existentDirsFilter.checkDestDirAndFindExistingDirsAndThrowStopActionIfNone(getDestinationDir(),getScalaSrcDirs());
  getAntScalaCompile().execute(existingSrcDirs,getScalaIncludes(),getScalaExcludes(),getDestinationDir(),getClasspath(),getScalaCompileOptions());
  Set<String> excludes=GUtil.addSets(getExcludes(),Collections.singleton("**/*.scala"));
  List<File> classpath=GUtil.addLists(Collections.singleton(getDestinationDir()),getClasspath());
  antCompile.execute(existingSrcDirs,getIncludes(),excludes,getDestinationDir(),getDependencyCacheDir(),classpath,getSourceCompatibility(),getTargetCompatibility(),getOptions(),getAnt());
}
