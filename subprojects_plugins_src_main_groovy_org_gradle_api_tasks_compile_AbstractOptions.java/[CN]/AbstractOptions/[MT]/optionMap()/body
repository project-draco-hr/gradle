{
  final Class<?> thisClass=getClass();
  Map<String,Object> map=Maps.newHashMap();
  Class<?> currClass=thisClass;
  if (currClass.getName().endsWith("_Decorated")) {
    currClass=currClass.getSuperclass();
  }
  while (currClass != AbstractOptions.class) {
    for (    Field field : currClass.getDeclaredFields()) {
      if (isOptionField(field)) {
        addValueToMapIfNotNull(map,field);
      }
    }
    currClass=currClass.getSuperclass();
  }
  return map;
}
