{
  try {
    BufferedReader bf=new BufferedReader(new PreprocessingReader(new BufferedReader(new FileReader(file))));
    try {
      String line;
      while ((line=bf.readLine()) != null) {
        Matcher m=includePattern.matcher(line.trim());
        if (m.matches()) {
          boolean isImport="import".equals(m.group(1));
          String value=m.group(2);
          sourceDetails.getImportsAndIncludes().add(value);
          if (isImport) {
            sourceDetails.getImports().add(value);
          }
 else {
            sourceDetails.getIncludes().add(value);
          }
        }
      }
    }
  finally {
      IOUtils.closeQuietly(bf);
    }
  }
 catch (  IOException e) {
    throw new UncheckedIOException(e);
  }
}
