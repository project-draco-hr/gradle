{
  if (!url.getPath().endsWith("/") && !url.getPath().endsWith(".html")) {
    url=new URL(url.getProtocol(),url.getHost(),url.getPort(),url.getPath() + "/");
  }
  final ExternalResource resource=accessor.getResource(url.toString());
  if (resource != null) {
    ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
    resource.writeTo(outputStream,new CopyProgressListenerAdapter());
    outputStream.close();
    resource.close();
    return outputStream.toString();
  }
  return null;
}
