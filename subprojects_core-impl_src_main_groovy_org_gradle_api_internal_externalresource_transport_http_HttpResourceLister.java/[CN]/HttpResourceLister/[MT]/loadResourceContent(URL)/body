{
  if (!url.getPath().endsWith("/") && !url.getPath().endsWith(".html")) {
    url=new URL(url.getProtocol(),url.getHost(),url.getPort(),url.getPath() + "/");
  }
  final ExternalResource resource=accessor.getResource(url.toString());
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  resource.writeTo(outputStream,new CopyProgressListenerAdapter());
  return outputStream.toString();
}
