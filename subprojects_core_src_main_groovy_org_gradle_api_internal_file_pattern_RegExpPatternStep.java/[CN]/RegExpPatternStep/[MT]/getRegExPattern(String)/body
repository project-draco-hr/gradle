{
  StringBuilder result=new StringBuilder();
  for (int i=0; i < pattern.length(); i++) {
    char next=pattern.charAt(i);
    if (ESCAPE_CHARS.indexOf(next) >= 0) {
      result.append('\\');
    }
 else     if (PATTERN_CHARS.indexOf(next) >= 0) {
      result.append('.');
    }
    result.append(next);
  }
  return result.toString();
}
