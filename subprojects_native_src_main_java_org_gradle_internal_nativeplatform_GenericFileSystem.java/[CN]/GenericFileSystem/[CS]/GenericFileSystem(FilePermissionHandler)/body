{
  String content=generateUniqueContent();
  File file=null;
  try {
    checkJavaIoTmpDirExists();
    file=createFile(content);
    caseSensitive=probeCaseSensitive(file,content);
    canCreateSymbolicLink=probeCanCreateSymbolicLink(file,content);
    filePermissionHandler=handler;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
 finally {
    FileUtils.deleteQuietly(file);
  }
}
