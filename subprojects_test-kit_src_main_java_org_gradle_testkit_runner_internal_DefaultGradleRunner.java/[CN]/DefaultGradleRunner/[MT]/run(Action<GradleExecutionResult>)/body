{
  if (projectDirectory == null) {
    throw new InvalidRunnerConfigurationException("Please specify a project directory before executing the build");
  }
  File testKitDir=createTestKitDir(testKitDirProvider);
  GradleExecutionResult execResult=gradleExecutor.run(new GradleExecutionParameters(testKitDir,projectDirectory,arguments,jvmArguments,classpath,debug));
  resultVerification.execute(execResult);
  return createBuildResult(execResult);
}
