{
  GradleDistributionLocator gradleDistributionLocator=new DefaultGradleDistributionLocator(GradleRunner.class);
  File gradleHome=gradleDistributionLocator.getGradleHome();
  if (gradleHome == null) {
    String messagePrefix="Could not find a Gradle runtime to use based on the location of the GradleRunner class";
    try {
      File classpathForClass=ClasspathUtil.getClasspathForClass(GradleRunner.class);
      messagePrefix+=": " + classpathForClass.getAbsolutePath();
    }
 catch (    Exception ignore) {
    }
    throw new IllegalStateException(messagePrefix + ". Please specify a Gradle runtime to use via GradleRunner.withGradleVersion() or similar.");
  }
  return new InstalledGradleDistribution(gradleHome);
}
