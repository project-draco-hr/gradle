{
  String[] targetConfigurations=fromConfiguration.getHierarchy().toArray(new String[fromConfiguration.getHierarchy().size()]);
  DependencyArtifactDescriptor[] dependencyArtifacts=dependencyDescriptor.getDependencyArtifacts(targetConfigurations);
  if (dependencyArtifacts.length == 0) {
    return Collections.emptySet();
  }
  Set<ModuleVersionArtifactMetaData> artifacts=new LinkedHashSet<ModuleVersionArtifactMetaData>();
  for (  DependencyArtifactDescriptor artifactDescriptor : dependencyArtifacts) {
    ModuleRevisionId id=toConfiguration.getModuleVersion().getDescriptor().getModuleRevisionId();
    Artifact artifact=new DefaultArtifact(id,null,artifactDescriptor.getName(),artifactDescriptor.getType(),artifactDescriptor.getExt(),artifactDescriptor.getUrl(),artifactDescriptor.getQualifiedExtraAttributes());
    artifacts.add(new DefaultModuleVersionArtifactMetaData(toConfiguration.getModuleVersion(),artifact));
  }
  return artifacts;
}
