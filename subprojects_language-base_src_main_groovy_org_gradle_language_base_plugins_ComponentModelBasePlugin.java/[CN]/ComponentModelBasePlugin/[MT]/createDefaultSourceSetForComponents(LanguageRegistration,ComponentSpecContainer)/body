{
  components.withType(ComponentSpecInternal.class).all(new Action<ComponentSpecInternal>(){
    public void execute(    ComponentSpecInternal componentSpecInternal){
      final FunctionalSourceSet functionalSourceSet=componentSpecInternal.getMainSource();
      if (CollectionUtils.containsAny(languageRegistration.getOutputTypes(),componentSpecInternal.getInputTypes())) {
        functionalSourceSet.maybeCreate(languageRegistration.getName(),languageRegistration.getSourceSetType());
      }
    }
  }
);
}
