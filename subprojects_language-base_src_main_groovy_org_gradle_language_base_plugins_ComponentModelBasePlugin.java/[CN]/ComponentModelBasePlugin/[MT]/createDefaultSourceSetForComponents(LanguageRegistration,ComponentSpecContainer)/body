{
  components.withType(ComponentSpecInternal.class).all(new Action<ComponentSpecInternal>(){
    public void execute(    final ComponentSpecInternal componentSpecInternal){
      final FunctionalSourceSet functionalSourceSet=componentSpecInternal.getMainSource();
      if (componentSpecInternal.getInputTypes().contains(languageRegistration.getOutputType())) {
        functionalSourceSet.maybeCreate(languageRegistration.getName(),languageRegistration.getSourceSetType());
      }
    }
  }
);
}
