{
  DefaultGradleLauncher gradleLauncher=(DefaultGradleLauncher)gradleLauncherFactory.newInstance(action.getStartParameter(),buildRequestContext,contextServices);
  try {
    gradleLauncher.addStandardOutputListener(buildRequestContext.getOutputListener());
    gradleLauncher.addStandardErrorListener(buildRequestContext.getErrorListener());
    if (!JavaVersion.current().isJava7Compatible()) {
      DeprecationLogger.nagUserWith("Support for running Gradle using Java 6 has been deprecated and will be removed in Gradle 3.0");
    }
    DefaultBuildController buildController=new DefaultBuildController(gradleLauncher);
    buildActionRunner.run(action,buildController);
    return buildController.result;
  }
  finally {
    gradleLauncher.stop();
  }
}
