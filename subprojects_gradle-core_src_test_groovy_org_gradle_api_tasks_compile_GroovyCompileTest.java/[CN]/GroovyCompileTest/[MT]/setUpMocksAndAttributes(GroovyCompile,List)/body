{
  super.setUpMocksAndAttributes(compile);
  final FileCollection groovyClasspathCollection=context.mock(FileCollection.class);
  context.checking(new Expectations(){
{
      allowing(groovyClasspathCollection).getFiles();
      will(returnValue(new LinkedHashSet<File>(groovyClasspath)));
    }
  }
);
  compile.setGroovyClasspath(groovyClasspathCollection);
  compile.setGroovySourceDirs(toList(new File("groovySourceDir1"),new File("groovySourceDir2")));
  compile.setGroovyIncludes(toList(TEST_PATTERN_1));
  compile.setGroovyExcludes(toList(TEST_PATTERN_2));
  compile.existentDirsFilter=getGroovyCompileExistingDirsFilterMock(compile);
}
