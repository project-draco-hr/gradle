{
  ResolvedConfigurationIdentifier parent=dependency.from.id;
  ResolvedConfigurationIdentifier child=childConfiguration.id;
  builder.addChild(parent,child);
  long id=idGenerator.generateId();
  ArtifactSet artifacts=getArtifacts(dependency,childConfiguration);
  builder.addArtifacts(child,parent,id);
  artifactsBuilder.addArtifacts(id,artifacts);
  if (parent == root.id) {
    ModuleDependency moduleDependency=dependency.getModuleDependency();
    builder.addFirstLevelDependency(moduleDependency,child);
  }
}
