{
  ResolvedConfigurationIdentifier configurationIdentifier=childConfiguration.id;
  ConfigurationMetaData metaData=childConfiguration.getMetaData();
  ComponentResolveMetaData component=metaData.getComponent();
  Set<ComponentArtifactMetaData> artifacts=dependency.getArtifacts(metaData);
  if (!artifacts.isEmpty()) {
    return new DependencyArtifactSet(component.getId(),component.getSource(),artifacts,artifactResolver,allResolvedArtifacts);
  }
  if (component.getComponentId() instanceof ProjectComponentIdentifier) {
    return new LazyResolveConfigurationArtifactSet(component,configurationIdentifier,dependency.getSelector(),artifactResolver,allResolvedArtifacts);
  }
  return new EagerResolveConfigurationArtifactsSet(component,configurationIdentifier,dependency.getSelector(),artifactResolver,allResolvedArtifacts);
}
