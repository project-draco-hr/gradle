{
  long id=idGenerator.generateId();
  ComponentResolveMetaData component=childConfiguration.metaData.getComponent();
  Set<ComponentArtifactMetaData> artifacts=dependency.getArtifacts(childConfiguration.metaData);
  if (!artifacts.isEmpty()) {
    return new DependencyArtifactSet(id,component,artifacts,artifactResolver);
  }
  return new ConfigurationArtifactsSet(id,component,childConfiguration.id,dependency.getSelector(),artifactResolver);
}
