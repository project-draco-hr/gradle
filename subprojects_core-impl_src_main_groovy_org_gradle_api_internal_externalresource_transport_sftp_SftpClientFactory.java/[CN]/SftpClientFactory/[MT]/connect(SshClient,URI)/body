{
  ConnectFuture connectFuture=client.connect(credentials.getUsername(),uri.getHost(),uri.getPort()).awaitUninterruptibly();
  if (!connectFuture.isConnected()) {
    throw new SftpException(String.format("Could not connect to SFTP server at sftp://%s:%d",uri.getHost(),uri.getPort()));
  }
  return connectFuture.getSession();
}
