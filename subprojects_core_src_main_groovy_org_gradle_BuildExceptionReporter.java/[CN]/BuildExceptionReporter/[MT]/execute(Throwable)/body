{
  if (failure instanceof MultiCauseException) {
    MultiCauseException multiCauseException=(MultiCauseException)failure;
    for (    Throwable cause : multiCauseException.getCauses()) {
      execute(cause);
    }
    return;
  }
  FailureDetails details=new FailureDetails(failure);
  if (failure instanceof GradleException) {
    reportBuildFailure((GradleException)failure,details);
  }
 else {
    reportInternalError(details);
  }
  write(details);
}
