{
  StyledTextOutput output=textOutputFactory.create(BuildExceptionReporter.class,LogLevel.ERROR);
  output.println();
  output.withStyle(Failure).text("FAILURE: ");
  details.summary.writeTo(output.withStyle(Failure));
  if (details.location.getHasContent()) {
    output.println().println();
    output.println("* Where:");
    details.location.writeTo(output);
  }
  if (details.details.getHasContent()) {
    output.println().println();
    output.println("* What went wrong:");
    details.details.writeTo(output);
  }
  if (details.resolution.getHasContent()) {
    output.println().println();
    output.println("* Try:");
    details.resolution.writeTo(output);
  }
  Throwable exception=null;
switch (details.exceptionStyle) {
case NONE:
    break;
case SANITIZED:
  exception=StackTraceUtils.deepSanitize(details.failure);
break;
case FULL:
exception=details.failure;
break;
}
if (exception != null) {
output.println().println();
output.println("* Exception is:");
output.exception(exception);
}
output.println();
}
