{
  details.summary.text("Build failed with an exception.");
  fillInFailureResolution(details);
  if (failure instanceof LocationAwareException) {
    LocationAwareException scriptException=(LocationAwareException)failure;
    details.failure=scriptException.getCause();
    if (scriptException.getLocation() != null) {
      details.location.text(scriptException.getLocation());
    }
    details.details.text(scriptException.getOriginalMessage());
    for (    Throwable cause : scriptException.getReportableCauses()) {
      details.details.format("%nCause: %s",getMessage(cause));
    }
  }
 else {
    details.details.text(getMessage(failure));
  }
}
