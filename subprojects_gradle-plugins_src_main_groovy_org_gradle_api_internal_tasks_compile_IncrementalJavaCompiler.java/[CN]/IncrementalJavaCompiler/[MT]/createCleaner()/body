{
  if (getCompileOptions().isUseDepend()) {
    AntDependsStaleClassCleaner cleaner=new AntDependsStaleClassCleaner((Factory)antBuilderFactory);
    cleaner.setDependencyCacheDir(dependencyCacheDir);
    return cleaner;
  }
 else {
    return new SimpleStaleClassCleaner(taskOutputs);
  }
}
