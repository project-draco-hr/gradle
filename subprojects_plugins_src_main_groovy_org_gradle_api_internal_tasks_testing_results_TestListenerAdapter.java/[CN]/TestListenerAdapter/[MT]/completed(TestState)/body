{
  TestResult result=new DefaultTestResult(state.resultType,state.failures,state.getStartTime(),state.getEndTime(),state.testCount,state.successfulCount,state.failedCount);
  TestDescriptorInternal test=state.test;
  if (test.isComposite()) {
    testListener.afterSuite(test,result);
  }
 else {
    testListener.afterTest(test,result);
  }
}
