{
  for (Class<?> current=target.getClass(); current != null; current=current.getSuperclass()) {
    for (    Field field : current.getDeclaredFields()) {
      if (field.getType().equals(type)) {
        field.setAccessible(true);
        field.set(target,value);
      }
    }
  }
}
