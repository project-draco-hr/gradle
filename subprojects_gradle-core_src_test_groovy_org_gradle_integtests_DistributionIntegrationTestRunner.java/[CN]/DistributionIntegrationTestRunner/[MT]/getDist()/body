{
  final TestFile userHomeDir=file("integTest.gradleUserHomeDir",new File("intTestHomeDir"));
  final TestFile gradleHomeDir=file("integTest.gradleHomeDir",new File("build/distributions/exploded"));
  final TestFile samplesDir=new TestFile(gradleHomeDir,"samples");
  TestFile srcDir=file("integTest.srcDir",new File("src"));
  final TestFile userGuideOutputDir=new TestFile(srcDir,"samples/userguideOutput");
  final TestFile userGuideInfoDir=file("integTest.userGuideInfoDir",new File("build/docbook/src"));
  final TestFile distsDir=file("integTest.distsDir",new File("build/distributions"));
  final TestFile testDir=new TestFile(GFileUtils.canonicalise(HelperUtil.makeNewTestDir()));
  return new GradleDistribution(){
    public boolean isFileUnderTest(    File file){
      return gradleHomeDir.isSelfOrDescendent(file) || samplesDir.isSelfOrDescendent(file) || testDir.isSelfOrDescendent(file)|| userHomeDir.isSelfOrDescendent(file);
    }
    public TestFile getUserHomeDir(){
      return userHomeDir;
    }
    public TestFile getGradleHomeDir(){
      return gradleHomeDir;
    }
    public TestFile getSamplesDir(){
      return samplesDir;
    }
    public TestFile getUserGuideInfoDir(){
      return userGuideInfoDir;
    }
    public TestFile getUserGuideOutputDir(){
      return userGuideOutputDir;
    }
    public TestFile getDistributionsDir(){
      return distsDir;
    }
    public TestFile getTestDir(){
      return testDir;
    }
    public TestFile testFile(    Object... path){
      return testDir.file(path);
    }
  }
;
}
