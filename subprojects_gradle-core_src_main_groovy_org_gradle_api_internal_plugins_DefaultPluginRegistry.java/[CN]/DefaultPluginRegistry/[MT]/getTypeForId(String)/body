{
  if (!GUtil.isTrue(properties.get(pluginId))) {
    throw new UnknownPluginException("The plugin with the id '" + pluginId + "' is not available.");
  }
  try {
    return Class.forName(properties.get(pluginId)).asSubclass(Plugin.class);
  }
 catch (  ClassNotFoundException e) {
    throw new PluginInstantiationException(e);
  }
}
