{
  @SuppressWarnings("unchecked") final Transformer<String> transformerA=context.mock(Transformer.class,"transformerA");
  @SuppressWarnings("unchecked") final Transformer<String> transformerB=context.mock(Transformer.class,"transformerB");
  context.checking(new Expectations(){
{
      one(transformerA).transform("original");
      will(returnValue("a"));
      one(transformerB).transform("a");
      will(returnValue("b"));
    }
  }
);
  transformer.add(transformerA);
  transformer.add(transformerB);
  assertThat(transformer.transform("original"),equalTo("b"));
}
