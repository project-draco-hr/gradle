{
  DefaultFileCollectionResolveContext context=new CustomFileCollectionResolveContext();
  context.add(fileCollection);
  List<FileCollectionInternal> fileCollections=context.resolveAsFileCollections();
  List<FileEntry> results=new ArrayList<FileEntry>();
  for (  FileCollectionInternal files : fileCollections) {
    collectDirectories(files,results);
  }
  return results;
}
