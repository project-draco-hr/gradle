{
  context.checking(new Expectations(){
{
      one(dagMock).reset();
      allowing(dagMock).addTask(with(any(DefaultTask.class)),with(any(Set.class)));
      will(addElementsAction);
      allowing(dagMock).getProjects();
      will(returnValue(projects));
      allowing(dagMock).getAllTasks();
      will(returnValue(tasks));
      one(dagMock).execute();
    }
  }
);
}
