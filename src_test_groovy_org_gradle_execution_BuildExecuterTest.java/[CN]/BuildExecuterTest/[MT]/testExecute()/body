{
  final Task rootCompile=new DefaultTask(root,"compile");
  final Task rootTest=new DefaultTask(root,"test");
  final Task childCompile=new DefaultTask(child,"compile");
  final Task childTest=new DefaultTask(child,"test");
  final Task childOther=new DefaultTask(child,"other");
  rootTest.setDependsOn(WrapUtil.toSet(rootCompile.getPath()));
  childTest.setDependsOn(WrapUtil.toSet(childCompile.getName(),childOther));
  root.getTasks().put(rootCompile.getName(),rootCompile);
  root.getTasks().put(rootTest.getName(),rootTest);
  child.getTasks().put(childCompile.getName(),childCompile);
  child.getTasks().put(childTest.getName(),childTest);
  child.getTasks().put(childOther.getName(),childOther);
  setDagMockExpectations(WrapUtil.toSet(root,child),WrapUtil.toSet(rootCompile,rootTest,childCompile,childTest,childOther),false);
  assertTrue(buildExecuter.execute(WrapUtil.toList(rootTest,childTest)));
}
