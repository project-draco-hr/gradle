{
  testFile("settings.gradle").writelns("include 'child1', 'child2'");
  TestFile buildFile=testFile("build.gradle");
  buildFile.writelns("task a","allprojects {","    task b","    task c(dependsOn: ['b', ':a'])","}");
  usingBuildFile(buildFile).withTasks("a","c").run().assertTasksExecuted(":a",":b",":c",":child1:b",":child1:c",":child2:b",":child2:c");
  usingBuildFile(buildFile).withTasks("b",":child2:c").run().assertTasksExecuted(":b",":child1:b",":child2:b",":a",":child2:c");
}
