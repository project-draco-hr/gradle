{
  PomReader pomReader=new PomReader(resource);
  GradlePomModuleDescriptorBuilder mdBuilder=new GradlePomModuleDescriptorBuilder(resource,parserSettings,pomReader);
  doParsePom(parserSettings,mdBuilder,pomReader);
  String artifactId=pomReader.getArtifactId();
  if (pomReader.getRelocation() == null) {
    mdBuilder.addMainArtifact(artifactId,pomReader.getPackaging());
  }
  DefaultModuleDescriptor moduleDescriptor=mdBuilder.getModuleDescriptor();
  ModuleDescriptorAdapter adapter=new ModuleDescriptorAdapter(moduleDescriptor);
  if ("pom".equals(pomReader.getPackaging())) {
    adapter.setMetaDataOnly(true);
  }
  return adapter;
}
