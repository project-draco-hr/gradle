{
  if (notation instanceof ModuleVersionIdentifier) {
    return (ModuleVersionIdentifier)notation;
  }
 else   if (notation instanceof Map) {
    return parseMap((Map)notation);
  }
 else   if (notation instanceof CharSequence) {
    return parseString(notation.toString());
  }
 else {
    throw new InvalidNotationType("Invalid notation type - it cannot be used to form the forced module.\n" + "Invalid type: " + notation.getClass().getName() + ". Notation only supports following types/formats:\n"+ "  1. instances of ModuleVersionIdentifier\n"+ "  2. Strings (actually CharSequences), e.g. 'org.gradle:gradle-core:1.0'\n"+ "  3. Maps, e.g. [group: 'org.gradle', name:'gradle-core', version: '1.0']\n"+ "  4. A Collection or array of above (nested collections/arrays will be flattened)\n");
  }
}
