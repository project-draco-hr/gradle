{
  SortedSet<FileTreeElement> sortedFileTreeElement=asSortedSet(allFileTreeElements);
  Hasher hasher=Hashing.adler32().newHasher();
  for (  FileTreeElement fileTreeElement : sortedFileTreeElement) {
    for (    String pathPart : fileTreeElement.getRelativePath().getSegments()) {
      hasher.putUnencodedChars(pathPart);
      hasher.putByte(HASH_PATH_SEPARATOR);
    }
    hasher.putByte(HASH_RECORD_SEPARATOR);
  }
  return hasher.hash().asInt();
}
