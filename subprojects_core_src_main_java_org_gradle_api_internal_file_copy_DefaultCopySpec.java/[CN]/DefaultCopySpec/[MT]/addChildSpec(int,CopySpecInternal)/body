{
  childSpecs.add(index,childSpec);
  int additionIndex=childSpecsInAdditionOrder.size();
  childSpecsInAdditionOrder.add(childSpec);
  childSpec.visit(new DefaultChildSpecAddress(null,this,additionIndex),new ChildSpecVisitor(){
    @Override public void visit(    final ChildSpecAddress parentPath,    CopySpecInternal spec){
      spec.addChildSpecListener(new ChildSpecListener(){
        @Override public void childSpecAdded(        ChildSpecAddedEvent event){
          ChildSpecAddress childPath=parentPath.append(event.getPath());
          CopySpecInternal childSpec=event.getSpec();
          fireChildSpecListeners(new ChildSpecAddedEvent(childPath,childSpec));
        }
      }
);
      fireChildSpecListeners(new ChildSpecAddedEvent(parentPath,spec));
    }
  }
);
}
