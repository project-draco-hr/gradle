{
  List children=new ArrayList();
  for (  Project child : project.getChildProjects().values()) {
    children.add(buildHierarchy(child));
  }
  EclipseModel eclipseModel=project.getPlugins().getPlugin(EclipsePlugin.class).getModel();
  org.gradle.plugins.ide.eclipse.model.EclipseProject internalProject=eclipseModel.getProject();
  String name=internalProject.getName();
  String description=GUtil.elvis(internalProject.getComment(),null);
  Object eclipseProject=ReflectionUtil.newInstance(DefaultEclipseProject.class,name,project.getPath(),description,project.getProjectDir(),children);
  for (  Object child : children) {
    ReflectionUtil.setProperty(child,"parent",eclipseProject);
  }
  addProject(project,eclipseProject);
  return eclipseProject;
}
