{
  return new LazyIterable<PublishArtifact>(new Factory<Iterable<PublishArtifact>>(){
    public Iterable<PublishArtifact> create(){
      return inject(new HashSet<PublishArtifact>(),configurations,new Action<InjectionStep<HashSet<PublishArtifact>,Configuration>>(){
        public void execute(        InjectionStep<HashSet<PublishArtifact>,Configuration> step){
          step.getTarget().addAll(step.getItem().getAllArtifacts());
        }
      }
);
    }
  }
);
}
