{
  Map<Artifact,ModuleComponentArtifactMetaData> artifactToMetaData=Maps.newLinkedHashMap();
  for (  Artifact descriptorArtifact : getDescriptor().getAllArtifacts()) {
    IvyArtifactName artifactName=DefaultIvyArtifactName.forIvyArtifact(descriptorArtifact);
    ModuleComponentArtifactMetaData artifact=new DefaultModuleComponentArtifactMetaData(getComponentId(),artifactName);
    artifactToMetaData.put(descriptorArtifact,artifact);
  }
  artifacts=Sets.newLinkedHashSet(artifactToMetaData.values());
  this.artifactsByConfig=LinkedHashMultimap.create();
  for (  String configuration : getDescriptor().getConfigurationsNames()) {
    Artifact[] configArtifacts=getDescriptor().getArtifacts(configuration);
    for (    Artifact configArtifact : configArtifacts) {
      artifactsByConfig.put(configuration,artifactToMetaData.get(configArtifact));
    }
  }
}
