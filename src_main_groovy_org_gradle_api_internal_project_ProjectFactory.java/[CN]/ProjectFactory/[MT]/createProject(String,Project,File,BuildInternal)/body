{
  ScriptSource source;
  if (embeddedScript != null) {
    source=embeddedScript;
  }
 else {
    source=new FileScriptSource("build file",new File(projectDir,startParameter.getBuildFileName()));
  }
  return new DefaultProject(name,parent,projectDir,startParameter.getBuildFileName(),source,build.getBuildScriptClassLoader(),taskFactory,dependencyManagerFactory,antBuilderFactory,buildScriptProcessor,pluginRegistry,build.getProjectRegistry(),this,build);
}
