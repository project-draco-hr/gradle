{
  ModelType<P> propertyType=property.getType();
  ModelSchema<P> propertySchema=schemaStore.getSchema(propertyType);
  MutableModelNode childNode;
  if (propertySchema.getKind() == ModelSchema.Kind.STRUCT) {
    ModelProjection projection=new ManagedModelProjection<P>(propertyType,schemaStore,proxyFactory);
    childNode=modelNode.addLink(property.getName(),descriptor,projection,projection);
    if (!property.isWritable()) {
      for (      ModelProperty<?> modelProperty : propertySchema.getProperties().values()) {
        addPropertyLink(childNode,modelProperty);
      }
    }
  }
 else {
    ModelProjection projection=new UnmanagedModelProjection<P>(propertyType,true,true);
    childNode=modelNode.addLink(property.getName(),descriptor,projection,projection);
    if (propertySchema.getKind() == ModelSchema.Kind.COLLECTION) {
      P instance=modelInstantiator.newInstance(propertySchema);
      childNode.setPrivateData(propertyType,instance);
    }
  }
}
