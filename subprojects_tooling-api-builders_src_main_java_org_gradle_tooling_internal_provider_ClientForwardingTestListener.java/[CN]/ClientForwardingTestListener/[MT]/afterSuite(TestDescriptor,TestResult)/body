{
  eventConsumer.dispatch(new TestProgressEventVersion1(){
    @Override public String getEventType(){
      TestResult.ResultType resultType=result.getResultType();
switch (resultType) {
case SUCCESS:
        return TestProgressEventVersion1.TEST_SUITE_SUCCEEDED;
case SKIPPED:
      return TestProgressEventVersion1.TEST_SUITE_SKIPPED;
case FAILURE:
    return TestProgressEventVersion1.TEST_SUITE_FAILED;
default :
  throw new IllegalStateException("Unknown test result type: " + resultType);
}
}
@Override public TestDescriptorVersion1 getDescriptor(){
return new TestDescriptorImpl(suite);
}
@Override public TestResultVersion1 getResult(){
return new TestResultImpl(result);
}
}
);
}
