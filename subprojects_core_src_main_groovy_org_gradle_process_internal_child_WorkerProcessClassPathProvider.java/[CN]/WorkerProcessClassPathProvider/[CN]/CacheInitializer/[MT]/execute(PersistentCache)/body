{
  File classesDir=classesDir(cache);
  URL currentClasspath=getClass().getProtectionDomain().getCodeSource().getLocation();
  for (  Class<?> aClass : Arrays.asList(GradleWorkerMain.class,BootstrapClassLoaderWorker.class,BootstrapSecurityManager.class,EncodedStream.EncodedInput.class)) {
    String fileName=aClass.getName().replace('.','/') + ".class";
    Enumeration<URL> resources;
    try {
      resources=WorkerProcessClassPathProvider.class.getClassLoader().getResources(fileName);
    }
 catch (    IOException e) {
      throw new UncheckedIOException(e);
    }
    URL resource=null;
    while (resources.hasMoreElements()) {
      URL url=resources.nextElement();
      resource=url;
      if (url.toString().startsWith(currentClasspath.toString())) {
        break;
      }
    }
    GFileUtils.copyURLToFile(resource,new File(classesDir,fileName));
  }
}
