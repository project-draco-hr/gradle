{
  if (output.getParentFile() != null) {
    output.getParentFile().mkdirs();
  }
  try {
    Writer writer=new BufferedWriter(new OutputStreamWriter(new FileOutputStream(output),"UTF-8"));
    try {
      write(md,writer,descriptorModifier);
    }
  finally {
      writer.close();
    }
  }
 catch (  IOException e) {
    throw new UncheckedIOException(String.format("Could not write Ivy descriptor to '%s'.",output),e);
  }
}
