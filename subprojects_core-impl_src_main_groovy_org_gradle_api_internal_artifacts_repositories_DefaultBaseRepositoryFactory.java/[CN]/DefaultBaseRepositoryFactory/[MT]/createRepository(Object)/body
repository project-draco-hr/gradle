{
  if (userDescription instanceof ArtifactRepository) {
    return (ArtifactRepository)userDescription;
  }
  if (userDescription instanceof String) {
    MavenArtifactRepository repository=createMavenRepository();
    repository.setUrl(userDescription);
    return repository;
  }
 else   if (userDescription instanceof Map) {
    Map<String,?> userDescriptionMap=(Map<String,?>)userDescription;
    MavenArtifactRepository repository=createMavenRepository();
    ConfigureUtil.configureByMap(userDescriptionMap,repository);
    return repository;
  }
  if (userDescription instanceof DependencyResolver) {
    return legacyDependencyResolverRepositoryFactory.createRepository((DependencyResolver)userDescription);
  }
  throw new InvalidUserDataException(String.format("Cannot create a DependencyResolver instance from %s",userDescription));
}
