{
  context.checking(new Expectations(){
{
      one(fooListener1).foo("param");
    }
  }
);
  manager.addListener(fooListener1);
  manager.addListener(fooListener2);
  manager.addListener(barListener1);
  TestFooListener broadcaster=manager.getBroadcaster(TestFooListener.class);
  manager.removeListener(fooListener2);
  assertThat(manager.getBroadcaster(TestFooListener.class),equalTo(broadcaster));
  broadcaster.foo("param");
}
