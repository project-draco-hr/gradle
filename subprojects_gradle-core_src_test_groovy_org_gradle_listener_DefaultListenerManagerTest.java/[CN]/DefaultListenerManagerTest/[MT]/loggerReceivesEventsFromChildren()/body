{
  manager.useLogger(fooListener1);
  ListenerManager child=manager.createChild();
  TestFooListener broadcaster=child.getBroadcaster(TestFooListener.class);
  context.checking(new Expectations(){
{
      one(fooListener1).foo("param");
    }
  }
);
  broadcaster.foo("param");
  manager.useLogger(fooListener2);
  context.checking(new Expectations(){
{
      one(fooListener2).foo("param");
    }
  }
);
  broadcaster.foo("param");
}
