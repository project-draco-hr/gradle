{
  String bootStrapDebugValue=System.getProperty("gradle.bootstrap.debug");
  boolean bootStrapDebug=bootStrapDebugValue != null && !bootStrapDebugValue.toUpperCase().equals("FALSE");
  processGradleUserHome(bootStrapDebug);
  ClassPathRegistry classPathRegistry=new DefaultClassPathRegistry();
  URL[] antClasspath=classPathRegistry.getClassPathUrls("ANT");
  URL[] runtimeClasspath=classPathRegistry.getClassPathUrls("GRADLE_RUNTIME");
  ClassLoader rootClassLoader=ClassLoader.getSystemClassLoader().getParent();
  if (bootStrapDebug) {
    System.out.println("Parent Classloader of new context classloader is: " + rootClassLoader);
    System.out.println("Using Ant classpath: " + Arrays.toString(antClasspath));
    System.out.println("Using runtime classpath: " + Arrays.toString(runtimeClasspath));
  }
  URLClassLoader antClassLoader=new URLClassLoader(antClasspath,rootClassLoader);
  URLClassLoader runtimeClassLoader=new URLClassLoader(runtimeClasspath,antClassLoader);
  Thread.currentThread().setContextClassLoader(runtimeClassLoader);
  Class mainClass=runtimeClassLoader.loadClass("org.gradle.launcher.Main");
  Method mainMethod=mainClass.getMethod("main",String[].class);
  mainMethod.invoke(null,new Object[]{args});
}
