{
  testResolveInstruction=new ResolveInstruction();
  resolveOptionsFactoryMock=context.mock(ResolveOptionsFactory.class);
  report2ClasspathMock=context.mock(Report2Classpath.class);
  ivyDependencyResolver=new DefaultIvyDependencyResolver(resolveOptionsFactoryMock,report2ClasspathMock);
  ivyMock=context.mock(Ivy.class);
  expectedSettings=new IvySettings();
  expectedClasspath=WrapUtil.toList(new File(""));
  expectedModuleDescriptor=DefaultModuleDescriptor.newDefaultInstance(ModuleRevisionId.newInstance("org","name","1.0",new HashMap()));
  resolveReportMock=context.mock(ResolveReport.class);
  expectedResolveOptions=new ResolveOptions();
  context.checking(new Expectations(){
{
      allowing(resolveOptionsFactoryMock).createResolveOptions(TEST_CONF,testResolveInstruction);
      will(returnValue(expectedResolveOptions));
    }
  }
);
}
