{
  final String emptyScript="// ignore me\n";
  context.checking(new Expectations(){
{
      one(cachePropertiesHandlerMock).getCacheState(emptyScript,scriptCacheDir);
      will(returnValue(CachePropertiesHandler.CacheState.VALID));
      one(cachePropertiesHandlerMock).writeProperties(emptyScript,scriptCacheDir);
    }
  }
);
  StringScriptSource scriptSource=new StringScriptSource("script",emptyScript);
  scriptCompilationHandler.writeToCache(scriptSource,classLoader,scriptCacheDir,expectedScriptClass);
  assertThat(scriptCompilationHandler.loadFromCache(scriptSource,classLoader,scriptCacheDir,expectedScriptClass),Matchers.is(EmptyScript.class));
}
