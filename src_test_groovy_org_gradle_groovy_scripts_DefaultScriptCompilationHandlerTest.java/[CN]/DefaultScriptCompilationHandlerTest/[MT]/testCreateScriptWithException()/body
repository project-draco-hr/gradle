{
  ScriptSource source=new StringScriptSource("script","\n\nnew HHHHJSJSJ jsj");
  try {
    scriptCompilationHandler.createScriptOnTheFly(source,classLoader,expectedScriptClass);
    fail();
  }
 catch (  GradleScriptException e) {
    assertThat(e.getScriptSource(),sameInstance(source));
    assertThat(e.getLineNumber(),equalTo(3));
  }
}
