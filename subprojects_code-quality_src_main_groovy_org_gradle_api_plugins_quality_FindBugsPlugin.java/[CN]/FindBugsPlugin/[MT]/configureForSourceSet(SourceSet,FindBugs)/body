{
  task.setDescription("Run FindBugs analysis for " + sourceSet.getName() + " classes");
  task.setSource(sourceSet.getAllJava());
  ConventionMapping taskMapping=task.getConventionMapping();
  taskMapping.map("classes",new Callable<FileCollection>(){
    @Override public FileCollection call(){
      return project.fileTree(sourceSet.getOutput().getClassesDir(),new Closure<ConfigurableFileTree>(this,this){
        public ConfigurableFileTree doCall(        ConfigurableFileTree fileTree){
          return fileTree.builtBy(sourceSet.getOutput());
        }
      }
);
    }
  }
);
  taskMapping.map("classpath",new Callable<FileCollection>(){
    @Override public FileCollection call(){
      return sourceSet.getCompileClasspath();
    }
  }
);
}
