{
  execHandle=new DefaultExecHandle(tmpDir,JavaEnvUtils.getJdkExecutable("javadoc"),Arrays.asList("-verbose","-d",new File("tmp/javadocTmpOut").getAbsolutePath(),"-sourcepath","src/main/groovy","org.gradle"),0,System.getenv(),100,System.out,System.err,new ByteArrayInputStream(new byte[0]),null);
  final ExecHandleState endState=execHandle.startAndWaitForFinish();
  if (endState == ExecHandleState.FAILED) {
    execHandle.getFailureCause().printStackTrace();
  }
  assertEquals(ExecHandleState.SUCCEEDED,endState);
}
