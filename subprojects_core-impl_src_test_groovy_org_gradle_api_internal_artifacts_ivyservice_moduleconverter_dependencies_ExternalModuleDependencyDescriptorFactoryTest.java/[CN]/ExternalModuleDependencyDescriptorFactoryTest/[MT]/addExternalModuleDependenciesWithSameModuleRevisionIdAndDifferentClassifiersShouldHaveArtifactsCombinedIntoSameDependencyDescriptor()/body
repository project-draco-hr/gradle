{
  ExternalDependency dependency1=new DefaultExternalModuleDependency("org.gradle","gradle-core","1.0",TEST_DEP_CONF);
  ModuleFactoryHelper.addExplicitArtifactsIfDefined(dependency1,null,"jdk14");
  ExternalDependency dependency2=new DefaultExternalModuleDependency("org.gradle","gradle-core","1.0",TEST_OTHER_DEP_CONF);
  ModuleFactoryHelper.addExplicitArtifactsIfDefined(dependency2,null,"jdk15");
  assertThataddDependenciesWithSameModuleRevisionIdAndDifferentConfsShouldBePartOfSameDependencyDescriptor(dependency1,dependency2,externalModuleDependencyDescriptorFactory);
  DefaultDependencyDescriptor dependencyDescriptor=(DefaultDependencyDescriptor)moduleDescriptor.getDependencies()[0];
  assertThat(dependencyDescriptor.getAllDependencyArtifacts().length,equalTo(2));
  assertThat(dependencyDescriptor.getAllDependencyArtifacts(),Matchers.hasItemInArray(artifactDescriptor("jdk14",dependencyDescriptor)));
  assertThat(dependencyDescriptor.getAllDependencyArtifacts(),Matchers.hasItemInArray(artifactDescriptor("jdk15",dependencyDescriptor)));
}
