{
  List<Pair<String,Boolean>> classesToLoad=loadedClasses;
  loadedClasses=Lists.newArrayList();
  for (  Pair<String,Boolean> replayClass : classesToLoad) {
    try {
      loadClass(replayClass.getLeft(),replayClass.getRight());
    }
 catch (    ClassNotFoundException e) {
      close();
      loadedClasses=classesToLoad;
      throw e;
    }
  }
  if (!loadedClasses.equals(classesToLoad)) {
    close();
    throw new IllegalStateException("Replayed classes (" + loadedClasses + ") don't match old list of classes ("+ classesToLoad+ ")");
  }
}
