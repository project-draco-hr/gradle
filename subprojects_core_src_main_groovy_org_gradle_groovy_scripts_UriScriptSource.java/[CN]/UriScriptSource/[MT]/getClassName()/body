{
  if (className == null) {
    URI sourceUri=resource.getURI();
    String name=StringUtils.substringBeforeLast(StringUtils.substringAfterLast(sourceUri.toString(),"/"),".");
    StringBuilder className=new StringBuilder(name.length());
    for (int i=0; i < name.length(); i++) {
      char ch=name.charAt(i);
      if (Character.isJavaIdentifierPart(ch)) {
        className.append(ch);
      }
 else {
        className.append('_');
      }
    }
    if (!Character.isJavaIdentifierStart(className.charAt(0))) {
      className.insert(0,'_');
    }
    className.setLength(Math.min(className.length(),30));
    className.append('_');
    String path=sourceUri.toString();
    className.append(HashUtil.createShortMD5(path));
    this.className=className.toString();
  }
  return className;
}
