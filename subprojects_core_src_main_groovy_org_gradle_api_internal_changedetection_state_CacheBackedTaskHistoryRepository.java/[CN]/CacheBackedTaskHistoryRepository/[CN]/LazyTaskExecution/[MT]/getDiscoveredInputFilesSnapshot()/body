{
  if (discoveredFilesSnapshot == null) {
    discoveredFilesSnapshot=cacheAccess.useCache("fetch discovered input files",new Factory<FileCollectionSnapshot>(){
      public FileCollectionSnapshot create(){
        return snapshotRepository.get(discoveredFilesSnapshotId);
      }
    }
);
  }
  return discoveredFilesSnapshot;
}
