{
  if (!searchedLocally) {
    searchedLocally=true;
    process(dependency,new LocalModuleAccess());
  }
 else {
    searchedRemotely=true;
    process(dependency,new RemoteModuleAccess());
  }
  if (resolveResult.getState() == BuildableModuleVersionMetaDataResolveResult.State.Failed) {
    throw resolveResult.getFailure();
  }
}
