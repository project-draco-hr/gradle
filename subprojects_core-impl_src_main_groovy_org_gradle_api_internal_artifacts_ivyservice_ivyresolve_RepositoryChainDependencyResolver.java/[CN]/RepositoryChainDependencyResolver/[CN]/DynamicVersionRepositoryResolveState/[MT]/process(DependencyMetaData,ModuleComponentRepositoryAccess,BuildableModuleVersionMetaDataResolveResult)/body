{
  moduleAccess.listModuleVersions(dependency,selectionResult);
switch (selectionResult.getState()) {
case Failed:
    resolveResult.failed(selectionResult.getFailure());
  break;
case ProbablyListed:
if (!resolveDependency(dependency,moduleAccess,resolveResult)) {
  resolveResult.probablyMissing();
}
break;
case Listed:
if (!resolveDependency(dependency,moduleAccess,resolveResult)) {
resolveResult.missing();
}
}
}
