{
  lifecycleLock.lock();
  try {
    if (stopped) {
      throw new IllegalStateException("server connector cannot be started as it is either stopping or has been stopped");
    }
    if (started) {
      throw new IllegalStateException("server connector cannot be started as it has already been started");
    }
    Action<ConnectCompletion> connectEvent=new Action<ConnectCompletion>(){
      public void execute(      ConnectCompletion completion){
        handler.handle(new SynchronizedDispatchConnection<Object>(completion.create(getClass().getClassLoader())));
      }
    }
;
    acceptor=incomingConnector.accept(connectEvent,false);
    started=true;
    return acceptor.getAddress();
  }
  finally {
    lifecycleLock.unlock();
  }
}
