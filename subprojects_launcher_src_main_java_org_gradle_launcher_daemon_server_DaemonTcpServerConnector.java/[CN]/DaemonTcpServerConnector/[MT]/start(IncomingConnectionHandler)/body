{
  lifecycleLock.lock();
  try {
    if (stopped) {
      throw new IllegalStateException("server connector cannot be started as it is either stopping or has been stopped");
    }
    if (started) {
      throw new IllegalStateException("server connector cannot be started as it has already been started");
    }
    Action<ConnectEvent<Connection<Object>>> connectEvent=new Action<ConnectEvent<Connection<Object>>>(){
      public void execute(      ConnectEvent<Connection<Object>> connectionConnectEvent){
        handler.handle(new SynchronizedDispatchConnection<Object>(connectionConnectEvent.getConnection()));
      }
    }
;
    acceptor=incomingConnector.accept(connectEvent,getClass().getClassLoader(),false);
    started=true;
    return acceptor.getAddress();
  }
  finally {
    lifecycleLock.unlock();
  }
}
