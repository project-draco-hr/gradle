{
  final StartParameter startParameter=HelperUtil.dummyStartParameter();
  final LoggingConfigurer loggingConfigurer=context.mock(LoggingConfigurer.class);
  final String[] commandLineArgs=WrapUtil.toArray("A","B");
  final CommandLine2StartParameterConverter parameterConverterStub=context.mock(CommandLine2StartParameterConverter.class);
  context.checking(new Expectations(){
{
      one(loggingConfigurer).configure(startParameter.getLogLevel());
      allowing(parameterConverterStub).convert(commandLineArgs);
      will(returnValue(startParameter));
    }
  }
);
  new DefaultGradleLauncherFactory(loggingConfigurer,parameterConverterStub).newInstance(commandLineArgs);
}
