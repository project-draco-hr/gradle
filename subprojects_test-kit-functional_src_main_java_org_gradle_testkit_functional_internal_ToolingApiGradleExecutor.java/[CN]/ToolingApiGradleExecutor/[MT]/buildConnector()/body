{
  DefaultGradleConnector gradleConnector=(DefaultGradleConnector)GradleConnector.newConnector();
  if (gradleUserHomeDir != null) {
    gradleConnector.useGradleUserHomeDir(gradleUserHomeDir);
  }
  gradleConnector.forProjectDirectory(workingDirectory);
  gradleConnector.searchUpwards(false);
  gradleConnector.daemonMaxIdleTime(120,TimeUnit.SECONDS);
  useGradleDistribution(gradleConnector);
  return gradleConnector;
}
