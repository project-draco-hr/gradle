{
  String bootStrapDebugValue=System.getProperty("gradle.bootstrap.debug");
  boolean bootStrapDebug=bootStrapDebugValue != null && !bootStrapDebugValue.toUpperCase().equals("FALSE");
  processGradleHome(bootStrapDebug);
  List<URL> loggingJars=toUrl(BootstrapUtil.getLoggingJars());
  List<URL> nonLoggingJars=toUrl(BootstrapUtil.getNonLoggingJars());
  ClassLoader parentClassloader=ClassLoader.getSystemClassLoader().getParent();
  if (bootStrapDebug) {
    System.out.println("Parent Classloader of new context classloader is: " + parentClassloader);
    System.out.println("Adding the following files to new logging classloader: " + loggingJars);
    System.out.println("Adding the following files to new lib classloader: " + nonLoggingJars);
  }
  URLClassLoader loggingClassLoader=new URLClassLoader(loggingJars.toArray(new URL[loggingJars.size()]),parentClassloader);
  URLClassLoader libClassLoader=new URLClassLoader(nonLoggingJars.toArray(new URL[nonLoggingJars.size()]),loggingClassLoader);
  Thread.currentThread().setContextClassLoader(libClassLoader);
  Class mainClass=libClassLoader.loadClass("org.gradle.Main");
  Method mainMethod=mainClass.getMethod("main",new Class[]{String[].class});
  mainMethod.invoke(null,new Object[]{args});
}
