{
  boolean topLevel=referenceStack.isEmpty();
  referenceStack.push(expression.getPropertyAsString());
  expression.getObjectExpression().visit(this);
  if (topLevel) {
    if (referenceEncountered) {
      String path=CollectionUtils.join(".",referenceStack);
      expression.setNodeMetaData(AST_NODE_REFERENCE_PATH_KEY,path);
      referenceStack.clear();
    }
    referenceEncountered=false;
  }
}
