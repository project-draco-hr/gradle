{
  if (o == null || o instanceof Collection) {
    return collection.addAll((Collection<T>)o);
  }
 else   if (o instanceof Iterable) {
    for (    Object e : ((Iterable)o)) {
      collection.add((T)e);
    }
  }
 else   if (o instanceof Iterator) {
    Iterator<T> it=(Iterator<T>)o;
    while (it.hasNext()) {
      collection.add(it.next());
    }
  }
 else   if (o.getClass().isArray()) {
    return Collections.addAll(collection,(T[])DefaultGroovyMethods.asType(o,Object[].class));
  }
  return collection.add((T)o);
}
