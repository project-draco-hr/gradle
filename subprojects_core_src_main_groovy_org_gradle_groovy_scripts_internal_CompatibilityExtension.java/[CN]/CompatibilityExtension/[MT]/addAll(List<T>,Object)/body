{
  if (o == null || o instanceof Collection) {
    return collection.addAll((Collection<T>)o);
  }
 else   if (o instanceof Iterable) {
    boolean s=true;
    boolean added=false;
    for (    Object e : (Iterable)o) {
      added=true;
      s&=collection.add((T)e);
    }
    return added && s;
  }
 else   if (o instanceof Iterator) {
    Iterator<T> it=(Iterator<T>)o;
    boolean s=true;
    boolean added=false;
    while (it.hasNext()) {
      added=true;
      s&=collection.add(it.next());
    }
    return added && s;
  }
 else   if (o.getClass().isArray()) {
    return Collections.addAll(collection,(T[])DefaultGroovyMethods.asType(o,Object[].class));
  }
  return collection.add((T)o);
}
