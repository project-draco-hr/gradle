{
  Task task=taskFactory.createTask(project,args);
  Class<? extends Task> type=task.getClass();
  List<Action<Task>> actions=actionsForType.get(type);
  if (actions == null) {
    actions=createActionsForType(type);
    actionsForType.put(type,actions);
  }
  Object autoWireStr=args.get(DEPENDENCY_AUTO_WIRE);
  boolean autoWire=autoWireStr == null ? true : Boolean.valueOf(autoWireStr.toString());
  for (  Action<Task> action : actions) {
    task.doFirst(action);
    if (autoWire && action instanceof Validator) {
      Validator validator=(Validator)action;
      validator.addDependencies(task);
    }
  }
  return task;
}
