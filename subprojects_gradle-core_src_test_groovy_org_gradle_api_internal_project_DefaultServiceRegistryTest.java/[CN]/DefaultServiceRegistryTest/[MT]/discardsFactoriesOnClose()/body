{
  registry.getFactory(BigDecimal.class);
  registry.close();
  try {
    registry.getFactory(BigDecimal.class);
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage(),equalTo("Cannot locate factory for objects of type BigDecimal, as TestRegistry has been closed."));
  }
}
