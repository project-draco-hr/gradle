{
  try {
    BufferedWriter writer=new BufferedWriter(new FileWriter(optionsFile));
    try {
      writer.append("-cp '");
      for (      File file : workerMainClassPath) {
        writer.append(file.getPath());
        writer.append(File.pathSeparatorChar);
      }
      for (      File file : applicationClasspath) {
        writer.append(file.getPath());
        writer.append(File.pathSeparatorChar);
      }
      writer.append("'");
      writer.append(TextUtil.getPlatformLineSeparator());
    }
  finally {
      writer.close();
    }
  }
 catch (  IOException e) {
    throw new GradleException(String.format("Could not generate options file for %s.",displayName),e);
  }
}
