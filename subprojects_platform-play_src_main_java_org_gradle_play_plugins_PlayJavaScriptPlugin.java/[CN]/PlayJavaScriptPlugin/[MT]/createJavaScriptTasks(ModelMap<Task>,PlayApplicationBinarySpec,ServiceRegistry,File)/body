{
  ToolResolver toolResolver=serviceRegistry.get(ToolResolver.class);
  ResolvedTool<Compiler<JavaScriptCompileSpec>> compilerTool=toolResolver.resolveCompiler(JavaScriptCompileSpec.class,binary.getTargetPlatform());
  for (  JavaScriptSourceSet javaScriptSourceSet : binary.getSource().withType(JavaScriptSourceSet.class).values()) {
    if (((LanguageSourceSetInternal)javaScriptSourceSet).getMayHaveSources()) {
      createJavaScriptMinifyTask(tasks,javaScriptSourceSet,binary,compilerTool,buildDir);
    }
  }
  for (  JavaScriptSourceSet javaScriptSourceSet : binary.getGeneratedJavaScript().values()) {
    createJavaScriptMinifyTask(tasks,javaScriptSourceSet,binary,compilerTool,buildDir);
  }
}
