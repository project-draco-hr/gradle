{
  final String minifyTaskName=binary.getTasks().taskName("minify",javaScriptSourceSet.getName());
  final File minifyOutputDirectory=new File(buildDir,String.format("%s/src/%s",binary.getProjectScopedName(),minifyTaskName));
  tasks.create(minifyTaskName,JavaScriptMinify.class,new Action<JavaScriptMinify>(){
    @Override public void execute(    JavaScriptMinify javaScriptMinify){
      javaScriptMinify.setDescription("Minifies javascript for the " + javaScriptSourceSet.getDisplayName() + ".");
      javaScriptMinify.setSource(javaScriptSourceSet.getSource());
      javaScriptMinify.setDestinationDir(minifyOutputDirectory);
      javaScriptMinify.setPlayPlatform(binary.getTargetPlatform());
      binary.getAssets().builtBy(javaScriptMinify);
      binary.getAssets().addAssetDir(minifyOutputDirectory);
      javaScriptMinify.dependsOn(javaScriptSourceSet.getBuildDependencies());
    }
  }
);
}
