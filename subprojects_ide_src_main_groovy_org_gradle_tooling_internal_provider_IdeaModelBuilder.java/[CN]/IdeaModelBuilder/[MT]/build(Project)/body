{
  IdeaModel ideaModel=project.getPlugins().getPlugin(IdeaPlugin.class).getModel();
  IdeaProject projectModel=ideaModel.getProject();
  DefaultIdeaProject out=new DefaultIdeaProject().setName(projectModel.getName()).setId(project.getPath()).setJdkName(projectModel.getJdkName()).setLanguageLevel(new DefaultIdeaLanguageLevel(projectModel.getLanguageLevel().getFormatted()));
  List<DefaultIdeaModule> modules=new LinkedList<DefaultIdeaModule>();
  for (  IdeaModule module : projectModel.getModules()) {
    appendModule(modules,module,out);
  }
  out.setChildren(modules);
  return out;
}
