{
  List<String> errors=Lists.newArrayList();
  loadCompilerClasses(getClass().getClassLoader());
  JavaMethod fromCodeJavaMethod=getStaticMethod(sourceFileClass,Object.class,"fromCode",String.class,String.class);
  Object extern=fromCodeJavaMethod.invoke(null,"/dev/null","");
  JavaMethod fromFileJavaMethod=getStaticMethod(sourceFileClass,Object.class,"fromFile",File.class);
  Object sourceFile=fromFileJavaMethod.invoke(null,javascriptFile.getFile());
  Factory<?> compilerOptionsFactory=JavaReflectionUtil.factory(new DirectInstantiator(),compilerOptionsClass);
  Object compilerOptions=compilerOptionsFactory.create();
  Enum simpleLevel=Enum.valueOf(compilationLevelClass,"SIMPLE_OPTIMIZATIONS");
  JavaMethod setOptionsForCompilationLevelMethod=JavaReflectionUtil.method(compilationLevelClass,Void.class,"setOptionsForCompilationLevel",compilerOptionsClass);
  setOptionsForCompilationLevelMethod.invoke(simpleLevel,compilerOptions);
  Factory<?> compilerFactory=JavaReflectionUtil.factory(new DirectInstantiator(),compilerClass,getDummyPrintStream());
  Object compiler=compilerFactory.create();
  JavaMethod compileMethod=JavaReflectionUtil.method(compilerClass,Object.class,"compile",sourceFileClass,sourceFileClass,compilerOptionsClass);
  Object result=compileMethod.invoke(compiler,extern,sourceFile,compilerOptions);
  PropertyAccessor jsErrorsField=JavaReflectionUtil.readableField(result.getClass(),"errors");
  Object[] jsErrors=(Object[])jsErrorsField.getValue(result);
  if (jsErrors.length == 0) {
    JavaMethod<Object,String> toSourceMethod=JavaReflectionUtil.method(compilerClass,String.class,"toSource");
    String compiledSource=toSourceMethod.invoke(compiler);
    GFileUtils.writeFile(compiledSource,destinationCalculator.transform(javascriptFile));
  }
 else {
    for (    Object error : jsErrors) {
      errors.add(error.toString());
    }
  }
  return errors;
}
