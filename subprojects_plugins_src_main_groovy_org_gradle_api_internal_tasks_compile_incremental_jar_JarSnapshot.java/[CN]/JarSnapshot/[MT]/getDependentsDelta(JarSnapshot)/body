{
  final List<String> allDependents=new LinkedList<String>();
  for (  String thisCls : classSnapshots.keySet()) {
    ClassSnapshot otherCls=current.classSnapshots.get(thisCls);
    if (otherCls == null || !Arrays.equals(otherCls.getHash(),classSnapshots.get(thisCls).getHash())) {
      DependentsSet dependents=classSnapshots.get(thisCls).getDependents();
      if (dependents.isDependencyToAll()) {
        return dependents;
      }
      allDependents.addAll(dependents.getDependentClasses());
    }
  }
  return ClassDependents.dependentsSet(allDependents);
}
