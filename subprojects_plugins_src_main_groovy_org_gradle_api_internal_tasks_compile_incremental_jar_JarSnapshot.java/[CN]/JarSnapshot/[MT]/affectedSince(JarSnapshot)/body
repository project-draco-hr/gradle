{
  final Set<String> affected=new HashSet<String>();
  for (  Map.Entry<String,byte[]> otherClass : other.getHashes().entrySet()) {
    String otherClassName=otherClass.getKey();
    byte[] otherClassBytes=otherClass.getValue();
    byte[] thisClsBytes=getHashes().get(otherClassName);
    if (thisClsBytes == null || !Arrays.equals(thisClsBytes,otherClassBytes)) {
      affected.add(otherClassName);
      DependentsSet dependents=other.getInfo().getRelevantDependents(otherClassName);
      if (dependents.isDependencyToAll()) {
        return dependents;
      }
      affected.addAll(dependents.getDependentClasses());
    }
  }
  return new DefaultDependentsSet(affected);
}
