{
  if (getAntGroovyCompile() == null) {
    throw new InvalidUserDataException("The ant groovy compile command must be set!");
  }
  if (getSourceCompatibility() == null || getTargetCompatibility() == null) {
    throw new InvalidUserDataException("The sourceCompatibility and targetCompatibility must be set!");
  }
  List<File> classpath=GUtil.addLists(getClasspath());
  List<File> taskClasspath=new ArrayList<File>(getGroovyClasspath().getFiles());
  throwExceptionIfTaskClasspathIsEmpty(taskClasspath);
  ProjectInternal project=(ProjectInternal)getProject();
  antGroovyCompile.execute(project.getGradle().getIsolatedAntBuilder(),getSource(),getDestinationDir(),classpath,getSourceCompatibility(),getTargetCompatibility(),getGroovyOptions(),getOptions(),taskClasspath);
  setDidWork(antGroovyCompile.getNumFilesCompiled() > 0);
}
