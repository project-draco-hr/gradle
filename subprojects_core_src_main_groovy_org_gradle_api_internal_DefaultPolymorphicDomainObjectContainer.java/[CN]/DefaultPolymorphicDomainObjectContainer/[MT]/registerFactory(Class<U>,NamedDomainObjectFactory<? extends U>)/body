{
  if (!getType().isAssignableFrom(type)) {
    throw new IllegalArgumentException(String.format("Factory element type '%s' is not a subtype of " + "container element type '%s'",type.getName(),getType().getName()));
  }
  factories.put(type,factory);
}
