{
  @SuppressWarnings("unchecked") NamedDomainObjectFactory<U> factory=(NamedDomainObjectFactory<U>)factories.get(type);
  if (factory == null) {
    throw new InvalidUserDataException(String.format("Cannot create a %s because this type is not known " + "to this container. Known types are: %s",type.getSimpleName(),getSupportedTypeNames()));
  }
  return factory.create(name);
}
