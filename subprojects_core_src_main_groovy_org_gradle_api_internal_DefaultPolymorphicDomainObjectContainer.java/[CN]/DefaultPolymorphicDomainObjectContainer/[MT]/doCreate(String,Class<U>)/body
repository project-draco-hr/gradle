{
  @SuppressWarnings("unchecked") NamedDomainObjectFactory<U> factory=(NamedDomainObjectFactory<U>)factories.get(type);
  if (factory == null) {
    throw new InvalidUserDataException(String.format("This container does not support " + "creating domain objects of type '%s'.",type.getName()));
  }
  return factory.create(name);
}
