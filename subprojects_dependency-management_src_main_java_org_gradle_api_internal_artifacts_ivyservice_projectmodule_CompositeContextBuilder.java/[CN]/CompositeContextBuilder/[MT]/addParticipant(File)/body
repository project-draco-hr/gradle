{
  String name=rootDir.getName();
  StartParameter startParameter=new StartParameter();
  startParameter.setSearchUpwards(false);
  startParameter.setProjectDir(rootDir);
  GradleLauncher gradleLauncher=launcherFactory.newInstance(startParameter);
  try {
    GradleInternal gradle=(GradleInternal)gradleLauncher.getBuildAnalysis().getGradle();
    for (    Project project : gradle.getRootProject().getAllprojects()) {
      registerProject(name,(ProjectInternal)project);
    }
  }
 catch (  ReportedException e) {
  }
 finally {
    gradleLauncher.stop();
  }
}
