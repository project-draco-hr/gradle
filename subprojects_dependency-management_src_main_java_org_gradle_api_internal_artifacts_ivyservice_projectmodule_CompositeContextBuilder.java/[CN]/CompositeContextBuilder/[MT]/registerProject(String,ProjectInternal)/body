{
  ProjectComponentRegistry projectComponentRegistry=project.getServices().get(ProjectComponentRegistry.class);
  ProjectComponentIdentifier originalIdentifier=DefaultProjectComponentIdentifier.newId(project.getPath());
  DefaultLocalComponentMetaData originalComponent=(DefaultLocalComponentMetaData)projectComponentRegistry.getProject(originalIdentifier);
  ProjectComponentIdentifier componentIdentifier=new DefaultProjectComponentIdentifier(createExternalProjectPath(buildName,project.getPath()));
  LocalComponentMetaData compositeComponent=createCompositeCopy(buildName,componentIdentifier,originalComponent,project.getRootDir());
  context.register(compositeComponent.getId().getModule(),componentIdentifier,compositeComponent,project.getProjectDir());
}
