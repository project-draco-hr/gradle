{
  try {
    final PosixFileAttributes posixFileAttributes=Files.readAttributes(file.toPath(),PosixFileAttributes.class);
    return convertToInt(posixFileAttributes.permissions());
  }
 catch (  Exception e) {
    throw new NativeIntegrationException(String.format("Failed to read File permissions for %s",file.getAbsolutePath()),e);
  }
}
