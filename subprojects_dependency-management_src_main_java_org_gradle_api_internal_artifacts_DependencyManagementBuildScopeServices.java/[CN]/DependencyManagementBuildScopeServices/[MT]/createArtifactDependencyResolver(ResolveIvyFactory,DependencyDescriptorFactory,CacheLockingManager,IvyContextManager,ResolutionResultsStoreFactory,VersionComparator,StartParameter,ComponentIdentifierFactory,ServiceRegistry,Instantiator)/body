{
  DefaultDependencyResolver resolver=new DefaultDependencyResolver(serviceRegistry,resolveIvyFactory,dependencyDescriptorFactory,cacheLockingManager,ivyContextManager,resolutionResultsStoreFactory,versionComparator,new RequestScopeResolverProviderFactory(instantiator),startParameter.isBuildProjectDependencies());
  return new ErrorHandlingArtifactDependencyResolver(new ShortcircuitEmptyConfigsArtifactDependencyResolver(new SelfResolvingDependencyResolver(new CacheLockingArtifactDependencyResolver(cacheLockingManager,resolver)),componentIdentifierFactory));
}
