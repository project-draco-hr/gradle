{
  ArtifactDependencyResolver resolver=new DefaultArtifactDependencyResolver(serviceRegistry,resolveIvyFactory,dependencyDescriptorFactory,cacheLockingManager,ivyContextManager,versionComparator);
  resolver=new IvyContextualArtifactDependencyResolver(ivyContextManager,resolver);
  return new CacheLockingArtifactDependencyResolver(cacheLockingManager,resolver);
}
