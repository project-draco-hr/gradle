{
  for (  Class<?> source : modelRuleSourceDetector.getDeclaredSources(pluginClass)) {
    inspector.inspect(source,target.getModelRegistry(),new RuleSourceDependencies(){
      public void add(      Class<?> source){
        if (!Plugin.class.isAssignableFrom(source)) {
          throw new IllegalArgumentException("Only plugin classes are valid as rule source dependencies.");
        }
        @SuppressWarnings("unchecked") Class<? extends Plugin> pluginImplementingClass=(Class<? extends Plugin>)source;
        apply(pluginImplementingClass);
      }
    }
);
  }
}
