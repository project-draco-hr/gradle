{
  Class<? extends OperationDescriptor> cachedDescriptorClass=cachedDescriptor.getClass();
  if (!type.isAssignableFrom(cachedDescriptorClass)) {
    throw new IllegalStateException(String.format("Unexpected descriptor type. Required %s but found %s",type.getName(),cachedDescriptorClass.getName()));
  }
  return (T)cachedDescriptor;
}
