{
  if (result instanceof InternalTaskSkippedResult) {
    return new TaskSkippedResult(){
      @Override public boolean isUpToDate(){
        return ((InternalTaskSkippedResult)result).isUpToDate();
      }
      @Override public long getStartTime(){
        return result.getStartTime();
      }
      @Override public long getEndTime(){
        return result.getEndTime();
      }
    }
;
  }
  if (result instanceof InternalTaskFailureResult) {
    return new TaskFailureResult(){
      @Override public List<? extends Failure> getFailures(){
        InternalFailure failure=result.getFailure();
        if (failure == null) {
          return Collections.emptyList();
        }
        return Collections.singletonList(toFailure(failure));
      }
      @Override public long getStartTime(){
        return result.getStartTime();
      }
      @Override public long getEndTime(){
        return result.getEndTime();
      }
    }
;
  }
  if (result instanceof InternalTaskSuccessResult) {
    return new TaskSuccessResult(){
      @Override public long getStartTime(){
        return result.getStartTime();
      }
      @Override public long getEndTime(){
        return result.getEndTime();
      }
    }
;
  }
  return null;
}
