{
  Task task=project.getTasks().add(CHECK_TASK);
  task.setDescription("Executes all quality checks");
  project.getTasks().getByName(CHECK_TASK).dependsOn(new TaskDependency(){
    public Set<? extends Task> getDependencies(    Task task){
      return project.getTasks().withType(Checkstyle.class).getAll();
    }
  }
);
  project.getTasks().getByName(CHECK_TASK).dependsOn(new TaskDependency(){
    public Set<? extends Task> getDependencies(    Task task){
      return project.getTasks().withType(CodeNarc.class).getAll();
    }
  }
);
  project.getTasks().withType(Jar.class).allTasks(new Action<Jar>(){
    public void execute(    Jar jar){
      jar.dependsOn(CHECK_TASK);
    }
  }
);
}
