{
  if (file.isDirectory()) {
    throw new ResourceIsAFolderException(String.format("Cannot read resource %s because it is a folder.",file.getName()));
  }
  try {
    FileInputStream fis=new FileInputStream(file);
    return new BufferedInputStream(fis);
  }
 catch (  FileNotFoundException e) {
    throw new MissingResourceException(String.format("Cannot read the file resource because the file %s does not exist",file.getName()));
  }
}
