{
  ExecutionOptions options=new ExecutionOptions(parallelThreads);
  if (options.executeProjectsInParallel()) {
    String parallelWarningMessage=String.format("Parallel project execution is an \"incubating\" feature (%s). Many builds will not run correctly with this option.",documentationRegistry.getFeatureLifecycle());
    LOGGER.warn(parallelWarningMessage);
    return new ParallelTaskPlanExecutor(taskArtifactStateCacheAccess,options.numberOfParallelThreads());
  }
  return new DefaultTaskPlanExecutor();
}
