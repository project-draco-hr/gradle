{
  ExecutionOptions options=new ExecutionOptions(parallelThreads);
  if (options.executeProjectsInParallel()) {
    SingleMessageLogger.incubatingModeUsed("Parallel project execution",GradleProperties.PARALLEL_PROPERTY);
    return new ParallelTaskPlanExecutor(taskArtifactStateCacheAccess,options.numberOfParallelThreads());
  }
  return new DefaultTaskPlanExecutor(taskArtifactStateCacheAccess);
}
