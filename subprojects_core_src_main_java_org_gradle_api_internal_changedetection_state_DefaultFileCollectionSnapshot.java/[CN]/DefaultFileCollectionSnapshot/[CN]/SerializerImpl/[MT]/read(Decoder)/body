{
  TaskFilePropertyCompareType compareType=TaskFilePropertyCompareType.values()[decoder.readSmallInt()];
  Map<String,IncrementalFileSnapshot> snapshots=snapshotMapSerializer.read(decoder);
  return new DefaultFileCollectionSnapshot(snapshots,compareType);
}
