{
  BuildableArtifactSetResolveResult artifactSetResolveResult=new DefaultBuildableArtifactSetResolveResult();
  artifactResolver.resolveModuleArtifacts(component,convertType(type),artifactSetResolveResult);
  for (  ComponentArtifactMetaData artifactMetaData : artifactSetResolveResult.getArtifacts()) {
    BuildableArtifactResolveResult resolveResult=new DefaultBuildableArtifactResolveResult();
    artifactResolver.resolveArtifact(artifactMetaData,component.getSource(),resolveResult);
    if (resolveResult.getFailure() != null) {
      artifacts.addArtifact(new DefaultUnresolvedArtifactResult(type,resolveResult.getFailure()));
    }
 else {
      artifacts.addArtifact(new DefaultResolvedArtifactResult(type,resolveResult.getFile()));
    }
  }
}
