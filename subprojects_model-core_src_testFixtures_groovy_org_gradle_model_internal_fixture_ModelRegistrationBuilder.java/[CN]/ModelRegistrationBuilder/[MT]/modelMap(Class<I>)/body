{
  final ModelType<RuleAwarePolymorphicNamedEntityInstantiator<I>> instantiatorType=ModelRegistryHelper.instantiatorType(itemType);
  ModelType<I> modelType=ModelType.of(itemType);
  return ModelRegistrations.of(ModelReference.of(path,instantiatorType),new Factory<RuleAwarePolymorphicNamedEntityInstantiator<I>>(){
    @Override public RuleAwarePolymorphicNamedEntityInstantiator<I> create(){
      return new DefaultRuleAwarePolymorphicNamedEntityInstantiator<I>(new DefaultPolymorphicNamedEntityInstantiator<I>(itemType,"this collection"));
    }
  }
).withProjection(ModelMapModelProjection.unmanaged(modelType,ChildNodeInitializerStrategyAccessors.of(NodeBackedModelMap.createUsingParentNode(modelType)))).withProjection(UnmanagedModelProjection.of(instantiatorType)).descriptor(descriptor).ephemeral(ephemeral).build();
}
