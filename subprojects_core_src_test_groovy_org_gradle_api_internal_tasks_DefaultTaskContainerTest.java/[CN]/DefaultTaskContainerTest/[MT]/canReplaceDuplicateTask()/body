{
  addTask("task");
  final Task newTask=task("task");
  context.checking(new Expectations(){
{
      one(taskFactory).createTask(project,singletonMap(Task.TASK_NAME,"task"));
      will(returnValue(newTask));
    }
  }
);
  container.replace("task");
  assertThat(container.getByName("task"),sameInstance(newTask));
}
