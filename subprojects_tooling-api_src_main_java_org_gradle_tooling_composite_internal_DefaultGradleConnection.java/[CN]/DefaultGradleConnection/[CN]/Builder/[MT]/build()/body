{
  if (participants.isEmpty()) {
    throw new IllegalStateException("At least one participant must be specified before creating a connection.");
  }
  if (participants.size() > 1) {
    throw new UnsupportedOperationException("Temporary -- Gradle only supports a single project in a composite");
  }
  for (  GradleParticipantBuild participant : participants) {
    participant.setGradleUserHomeDir(gradleUserHomeDir);
  }
  return new DefaultGradleConnection(gradleUserHomeDir,participants);
}
