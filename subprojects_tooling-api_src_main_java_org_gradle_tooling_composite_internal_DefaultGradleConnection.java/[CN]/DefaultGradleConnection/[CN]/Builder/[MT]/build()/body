{
  if (participants.isEmpty()) {
    throw new IllegalStateException("At least one participant must be specified before creating a connection.");
  }
  for (  GradleParticipantBuild participant : participants) {
    participant.setGradleUserHomeDir(gradleUserHomeDir);
  }
  return new ValidatingGradleConnection(new DefaultGradleConnection(gradleUserHomeDir,participants),new DefaultCompositeValidator());
}
