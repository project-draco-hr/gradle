{
  Clock clock=new Clock();
  ReportConversionContext context=new ReportConversionContext();
  context.configurationResolveReport=resolveReport.getConfigurationReport(configuration.getName());
  context.firstLevelDependenciesModuleRevisionIds=createFirstLevelDependenciesModuleRevisionIds(configuration.getAllDependencies(ModuleDependency.class));
  context.conf=configuration.getName();
  List<IvyNode> nodes=resolveReport.getDependencies();
  for (  IvyNode node : nodes) {
    if (!isResolvedNode(node,configuration)) {
      continue;
    }
    getResolvedDependenciesForNode(node,context);
  }
  if (context.root == null) {
    context.root=new DefaultResolvedDependency(resolveReport.getModuleDescriptor().getModuleRevisionId().getOrganisation(),resolveReport.getModuleDescriptor().getModuleRevisionId().getName(),resolveReport.getModuleDescriptor().getModuleRevisionId().getRevision(),configuration.getName(),Collections.EMPTY_SET);
  }
  for (  ResolvedDependency resolvedDependency : context.root.getChildren()) {
    DefaultResolvedDependency defaultResolvedDependency=(DefaultResolvedDependency)resolvedDependency;
    addNodeIfFirstLevelDependency(defaultResolvedDependency,context);
  }
  logger.debug("Timing: Translating report for configuration {} took {}",configuration,clock.getTime());
  return new DefaultIvyConversionResult(context.root,context.firstLevelResolvedDependencies,context.resolvedArtifacts);
}
