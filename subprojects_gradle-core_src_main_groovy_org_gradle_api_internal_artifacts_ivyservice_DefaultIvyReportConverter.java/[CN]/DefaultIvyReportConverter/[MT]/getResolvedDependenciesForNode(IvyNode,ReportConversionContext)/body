{
  ModuleRevisionId nodeId=ivyNode.getId();
  if (context.handledNodes.containsKey(nodeId)) {
    return;
  }
  Map<String,ConfigurationDetails> resolvedDependencies=new LinkedHashMap<String,ConfigurationDetails>();
  if (ivyNode == ivyNode.getRoot()) {
    ConfigurationDetails configuration=createResolvedDependency(ivyNode,context.conf);
    context.root=configuration.dependency;
    resolvedDependencies.put(context.conf,configuration);
  }
 else {
    for (    IvyNodeCallers.Caller caller : ivyNode.getCallers(context.conf)) {
      Set<String> dependencyConfigurationsForNode=getDependencyConfigurationsByCaller(ivyNode,caller);
      for (      String dependencyConfiguration : dependencyConfigurationsForNode) {
        ConfigurationDetails configurationDetails=resolvedDependencies.get(dependencyConfiguration);
        if (configurationDetails == null) {
          configurationDetails=createResolvedDependency(ivyNode,dependencyConfiguration);
          context.resolvedArtifacts.addAll(configurationDetails.dependency.getModuleArtifacts());
          resolvedDependencies.put(dependencyConfiguration,configurationDetails);
        }
      }
      IvyNode parentNode=isRootCaller(context.configurationResolveReport,caller) ? ivyNode.getRoot() : context.configurationResolveReport.getDependency(caller.getModuleRevisionId());
      getResolvedDependenciesForNode(parentNode,context);
      Map<String,ConfigurationDetails> parentResolvedDependencies=context.handledNodes.get(parentNode.getId());
      createAssociationsBetweenChildAndParentResolvedDependencies(ivyNode,resolvedDependencies,context.resolvedArtifacts,parentNode,caller,dependencyConfigurationsForNode,parentResolvedDependencies.values());
    }
  }
  context.handledNodes.put(nodeId,resolvedDependencies);
}
