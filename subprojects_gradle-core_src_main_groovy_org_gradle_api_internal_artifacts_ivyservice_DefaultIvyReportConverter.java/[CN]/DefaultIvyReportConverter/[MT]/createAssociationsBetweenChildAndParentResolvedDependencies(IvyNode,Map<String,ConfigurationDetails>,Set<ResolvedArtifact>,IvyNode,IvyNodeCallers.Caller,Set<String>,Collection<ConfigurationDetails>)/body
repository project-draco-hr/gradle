{
  for (  String dependencyConfiguration : childConfigurationsToAttach) {
    Set<String> callerConfigurations=getCallerConfigurationsByDependencyConfiguration(caller,childNode,dependencyConfiguration);
    Set<ConfigurationDetails> parentCallerConfigurations=selectParentConfigurations(parentConfigurations,callerConfigurations);
    for (    ConfigurationDetails parentConfiguration : parentCallerConfigurations) {
      ConfigurationDetails childConfiguration=childConfigurations.get(dependencyConfiguration);
      parentConfiguration.dependency.getChildren().add(childConfiguration.dependency);
      childConfiguration.dependency.getParents().add(parentConfiguration.dependency);
      Set<ResolvedArtifact> parentSpecificResolvedArtifacts=getParentSpecificArtifacts(childConfiguration.dependency,parentConfiguration.dependency.getConfiguration(),parentNode,caller,childNode);
      childConfiguration.dependency.addParentSpecificArtifacts(parentConfiguration.dependency,parentSpecificResolvedArtifacts);
      resolvedArtifacts.addAll(parentSpecificResolvedArtifacts);
    }
  }
}
