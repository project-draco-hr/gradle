{
  ModuleRevisionId moduleRevisionId=IvyUtil.createModuleRevisionId(dependency.getRequested().getGroup(),dependency.getRequested().getName(),dependency.getRequested().getVersion());
  DefaultDependencyDescriptor dependencyDescriptor=new DefaultDependencyDescriptor(moduleDescriptor,moduleRevisionId,dependency.isForce(),dependency.isChanging(),dependency.isTransitive());
  for (  String moduleConfiguration : dependency.getModuleConfigurations()) {
    for (    String dependencyConfiguration : dependency.getDependencyConfigurations(moduleConfiguration,moduleConfiguration)) {
      dependencyDescriptor.addDependencyConfiguration(moduleConfiguration,dependencyConfiguration);
    }
    addDependencyArtifacts(moduleConfiguration,dependency.getArtifacts(),dependencyDescriptor);
  }
  moduleDescriptor.addDependency(dependencyDescriptor);
}
